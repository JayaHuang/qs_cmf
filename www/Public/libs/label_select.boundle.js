!function(t,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var e=n();for(var r in e)("object"==typeof exports?exports:t)[r]=e[r]}}(window,function(){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=16)}([function(t,n,e){var r,o,i={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(t){var n={};return function(t){if("function"==typeof t)return t();if(void 0===n[t]){var e=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}n[t]=e}return n[t]}}(),l=null,c=0,p=[],u=e(2);function f(t,n){for(var e=0;e<t.length;e++){var r=t[e],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(y(r.parts[a],n))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(y(r.parts[a],n));i[r.id]={id:r.id,refs:1,parts:s}}}}function d(t,n){for(var e=[],r={},o=0;o<t.length;o++){var i=t[o],a=n.base?i[0]+n.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):e.push(r[a]={id:a,parts:[s]})}return e}function h(t,n){var e=s(t.insertInto);if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=p[p.length-1];if("top"===t.insertAt)r?r.nextSibling?e.insertBefore(n,r.nextSibling):e.appendChild(n):e.insertBefore(n,e.firstChild),p.push(n);else if("bottom"===t.insertAt)e.appendChild(n);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(t.insertInto+" "+t.insertAt.before);e.insertBefore(n,o)}}function m(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var n=p.indexOf(t);n>=0&&p.splice(n,1)}function b(t){var n=document.createElement("style");return t.attrs.type="text/css",v(n,t.attrs),h(t,n),n}function v(t,n){Object.keys(n).forEach(function(e){t.setAttribute(e,n[e])})}function y(t,n){var e,r,o,i;if(n.transform&&t.css){if(!(i=n.transform(t.css)))return function(){};t.css=i}if(n.singleton){var a=c++;e=l||(l=b(n)),r=k.bind(null,e,a,!1),o=k.bind(null,e,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(e=function(t){var n=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",v(n,t.attrs),h(t,n),n}(n),r=function(t,n,e){var r=e.css,o=e.sourceMap,i=void 0===n.convertToAbsoluteUrls&&o;(n.convertToAbsoluteUrls||i)&&(r=u(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,e,n),o=function(){m(e),e.href&&URL.revokeObjectURL(e.href)}):(e=b(n),r=function(t,n){var e=n.css,r=n.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}.bind(null,e),o=function(){m(e)});return r(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;r(t=n)}else o()}}t.exports=function(t,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=a()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var e=d(t,n);return f(e,n),function(t){for(var r=[],o=0;o<e.length;o++){var a=e[o];(s=i[a.id]).refs--,r.push(s)}t&&f(d(t,n),n);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete i[s.id]}}}};var g,x=(g=[],function(t,n){return g[t]=n,g.filter(Boolean).join("\n")});function k(t,n,e,r){var o=e?"":r.css;if(t.styleSheet)t.styleSheet.cssText=x(n,o);else{var i=document.createTextNode(o),a=t.childNodes;a[n]&&t.removeChild(a[n]),a.length?t.insertBefore(i,a[n]):t.appendChild(i)}}},function(t,n){t.exports=function(t){var n=[];return n.toString=function(){return this.map(function(n){var e=function(t,n){var e=t[1]||"",r=t[3];if(!r)return e;if(n&&"function"==typeof btoa){var o=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[e].concat(i).concat([o]).join("\n")}var a;return[e].join("\n")}(n,t);return n[2]?"@media "+n[2]+"{"+e+"}":e}).join("")},n.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&r[a[0]]||(e&&!a[2]?a[2]=e:e&&(a[2]="("+a[2]+") and ("+e+")"),n.push(a))}},n}},function(t,n){t.exports=function(t){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var e=n.protocol+"//"+n.host,r=e+n.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,n){var o,i=n.trim().replace(/^"(.*)"$/,function(t,n){return n}).replace(/^'(.*)'$/,function(t,n){return n});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?t:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?e+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},,function(t,n){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n){var e,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var l,c=[],p=!1,u=-1;function f(){p&&l&&(p=!1,l.length?c=l.concat(c):u=-1,c.length&&d())}function d(){if(!p){var t=s(f);p=!0;for(var n=c.length;n;){for(l=c,c=[];++u<n;)l&&l[u].run();u=-1,n=c.length}l=null,p=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(n){try{return r.call(null,t)}catch(n){return r.call(this,t)}}}(t)}}function h(t,n){this.fun=t,this.array=n}function m(){}o.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];c.push(new h(t,n)),1!==c.length||p||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},,,function(t,n,e){(function(t,n){!function(t,e){"use strict";if(!t.setImmediate){var r,o,i,a,s,l=1,c={},p=!1,u=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?r=function(t){n.nextTick(function(){h(t)})}:!function(){if(t.postMessage&&!t.importScripts){var n=!0,e=t.onmessage;return t.onmessage=function(){n=!1},t.postMessage("","*"),t.onmessage=e,n}}()?t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){h(t.data)},r=function(t){i.port2.postMessage(t)}):u&&"onreadystatechange"in u.createElement("script")?(o=u.documentElement,r=function(t){var n=u.createElement("script");n.onreadystatechange=function(){h(t),n.onreadystatechange=null,o.removeChild(n),n=null},o.appendChild(n)}):r=function(t){setTimeout(h,0,t)}:(a="setImmediate$"+Math.random()+"$",s=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(a)&&h(+n.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),r=function(n){t.postMessage(a+n,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var n=new Array(arguments.length-1),e=0;e<n.length;e++)n[e]=arguments[e+1];var o={callback:t,args:n};return c[l]=o,r(l),l++},f.clearImmediate=d}function d(t){delete c[t]}function h(t){if(p)setTimeout(h,0,t);else{var n=c[t];if(n){p=!0;try{!function(t){var n=t.callback,r=t.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(e,r)}}(n)}finally{d(t),p=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,e(4),e(5))},function(t,n,e){(function(t){var r=Function.prototype.apply;function o(t,n){this._id=t,this._clearFn=n}n.setTimeout=function(){return new o(r.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new o(r.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,n){clearTimeout(t._idleTimeoutId),t._idleTimeout=n},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var n=t._idleTimeout;n>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},n))},e(8),n.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,n.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,e(4))},function(t,n,e){(function(n,e){
/*!
 *
 * Copyright 2009-2017 Kris Kowal under the terms of the MIT
 * license found at https://github.com/kriskowal/q/blob/v1/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
!function(n){"use strict";"function"==typeof bootstrap?bootstrap("promise",n):t.exports=n()}(function(){"use strict";var t=!1;try{throw new Error}catch(n){t=!!n.stack}var r,o=j(),i=function(){},a=function(){var t={task:void 0,next:null},r=t,o=!1,i=void 0,s=!1,l=[];function c(){for(var n,e;t.next;)n=(t=t.next).task,t.task=void 0,(e=t.domain)&&(t.domain=void 0,e.enter()),p(n,e);for(;l.length;)p(n=l.pop());o=!1}function p(t,n){try{t()}catch(t){if(s)throw n&&n.exit(),setTimeout(c,0),n&&n.enter(),t;setTimeout(function(){throw t},0)}n&&n.exit()}if(a=function(t){r=r.next={task:t,domain:s&&n.domain,next:null},o||(o=!0,i())},"object"==typeof n&&"[object process]"===n.toString()&&n.nextTick)s=!0,i=function(){n.nextTick(c)};else if("function"==typeof e)i="undefined"!=typeof window?e.bind(window,c):function(){e(c)};else if("undefined"!=typeof MessageChannel){var u=new MessageChannel;u.port1.onmessage=function(){i=f,u.port1.onmessage=c,c()};var f=function(){u.port2.postMessage(0)};i=function(){setTimeout(c,0),f()}}else i=function(){setTimeout(c,0)};return a.runAfter=function(t){l.push(t),o||(o=!0,i())},a}(),s=Function.call;function l(t){return function(){return s.apply(t,arguments)}}var c,p=l(Array.prototype.slice),u=l(Array.prototype.reduce||function(t,n){var e=0,r=this.length;if(1===arguments.length)for(;;){if(e in this){n=this[e++];break}if(++e>=r)throw new TypeError}for(;e<r;e++)e in this&&(n=t(n,this[e],e));return n}),f=l(Array.prototype.indexOf||function(t){for(var n=0;n<this.length;n++)if(this[n]===t)return n;return-1}),d=l(Array.prototype.map||function(t,n){var e=this,r=[];return u(e,function(o,i,a){r.push(t.call(n,i,a,e))},void 0),r}),h=Object.create||function(t){function n(){}return n.prototype=t,new n},m=Object.defineProperty||function(t,n,e){return t[n]=e.value,t},b=l(Object.prototype.hasOwnProperty),v=Object.keys||function(t){var n=[];for(var e in t)b(t,e)&&n.push(e);return n},y=l(Object.prototype.toString);c="undefined"!=typeof ReturnValue?ReturnValue:function(t){this.value=t};var g="From previous event:";function x(n,e){if(t&&e.stack&&"object"==typeof n&&null!==n&&n.stack){for(var r=[],o=e;o;o=o.source)o.stack&&(!n.__minimumStackCounter__||n.__minimumStackCounter__>o.stackCounter)&&(m(n,"__minimumStackCounter__",{value:o.stackCounter,configurable:!0}),r.unshift(o.stack));r.unshift(n.stack);var i=function(t){for(var n=t.split("\n"),e=[],r=0;r<n.length;++r){var o=n[r];!w(o)&&(-1===(i=o).indexOf("(module.js:")&&-1===i.indexOf("(node.js:"))&&o&&e.push(o)}var i;return e.join("\n")}(r.join("\n"+g+"\n"));m(n,"stack",{value:i,configurable:!0})}}function k(t){var n=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(n)return[n[1],Number(n[2])];var e=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(e)return[e[1],Number(e[2])];var r=/.*@(.+):(\d+)$/.exec(t);return r?[r[1],Number(r[2])]:void 0}function w(t){var n=k(t);if(!n)return!1;var e=n[0],i=n[1];return e===r&&i>=o&&i<=Y}function j(){if(t)try{throw new Error}catch(t){var n=t.stack.split("\n"),e=k(n[0].indexOf("@")>0?n[1]:n[2]);if(!e)return;return r=e[0],e[1]}}function T(t){return t instanceof C?t:M(t)?(n=t,e=L(),T.nextTick(function(){try{n.then(e.resolve,e.reject,e.notify)}catch(t){e.reject(t)}}),e.promise):z(t);var n,e}T.resolve=T,T.nextTick=a,T.longStackSupport=!1;var S=1;function L(){var n,e=[],r=[],o=h(L.prototype),i=h(C.prototype);if(i.promiseDispatch=function(t,o,i){var a=p(arguments);e?(e.push(a),"when"===o&&i[1]&&r.push(i[1])):T.nextTick(function(){n.promiseDispatch.apply(n,a)})},i.valueOf=function(){if(e)return i;var t=E(n);return O(t)&&(n=t),t},i.inspect=function(){return n?n.inspect():{state:"pending"}},T.longStackSupport&&t)try{throw new Error}catch(t){i.stack=t.stack.substring(t.stack.indexOf("\n")+1),i.stackCounter=S++}function a(o){n=o,T.longStackSupport&&t&&(i.source=o),u(e,function(t,n){T.nextTick(function(){o.promiseDispatch.apply(o,n)})},void 0),e=void 0,r=void 0}return o.promise=i,o.resolve=function(t){n||a(T(t))},o.fulfill=function(t){n||a(z(t))},o.reject=function(t){n||a(Q(t))},o.notify=function(t){n||u(r,function(n,e){T.nextTick(function(){e(t)})},void 0)},o}function $(t){if("function"!=typeof t)throw new TypeError("resolver must be a function.");var n=L();try{t(n.resolve,n.reject,n.notify)}catch(t){n.reject(t)}return n.promise}function I(t){return $(function(n,e){for(var r=0,o=t.length;r<o;r++)T(t[r]).then(n,e)})}function C(t,n,e){void 0===n&&(n=function(t){return Q(new Error("Promise does not support operation: "+t))}),void 0===e&&(e=function(){return{state:"unknown"}});var r=h(C.prototype);if(r.promiseDispatch=function(e,o,i){var a;try{a=t[o]?t[o].apply(r,i):n.call(r,o,i)}catch(t){a=Q(t)}e&&e(a)},r.inspect=e,e){var o=e();"rejected"===o.state&&(r.exception=o.reason),r.valueOf=function(){var t=e();return"pending"===t.state||"rejected"===t.state?r:t.value}}return r}function R(t,n,e,r){return T(t).then(n,e,r)}function E(t){if(O(t)){var n=t.inspect();if("fulfilled"===n.state)return n.value}return t}function O(t){return t instanceof C}function M(t){return(n=t)===Object(n)&&"function"==typeof t.then;var n}"object"==typeof n&&n&&n.env&&n.env.Q_DEBUG&&(T.longStackSupport=!0),T.defer=L,L.prototype.makeNodeResolver=function(){var t=this;return function(n,e){n?t.reject(n):arguments.length>2?t.resolve(p(arguments,1)):t.resolve(e)}},T.Promise=$,T.promise=$,$.race=I,$.all=G,$.reject=Q,$.resolve=T,T.passByCopy=function(t){return t},C.prototype.passByCopy=function(){return this},T.join=function(t,n){return T(t).join(n)},C.prototype.join=function(t){return T([this,t]).spread(function(t,n){if(t===n)return t;throw new Error("Q can't join: not the same: "+t+" "+n)})},T.race=I,C.prototype.race=function(){return this.then(T.race)},T.makePromise=C,C.prototype.toString=function(){return"[object Promise]"},C.prototype.then=function(t,n,e){var r=this,o=L(),i=!1;return T.nextTick(function(){r.promiseDispatch(function(n){i||(i=!0,o.resolve(function(n){try{return"function"==typeof t?t(n):n}catch(t){return Q(t)}}(n)))},"when",[function(t){i||(i=!0,o.resolve(function(t){if("function"==typeof n){x(t,r);try{return n(t)}catch(t){return Q(t)}}return Q(t)}(t)))}])}),r.promiseDispatch(void 0,"when",[void 0,function(t){var n,r=!1;try{n=function(t){return"function"==typeof e?e(t):t}(t)}catch(t){if(r=!0,!T.onerror)throw t;T.onerror(t)}r||o.notify(n)}]),o.promise},T.tap=function(t,n){return T(t).tap(n)},C.prototype.tap=function(t){return t=T(t),this.then(function(n){return t.fcall(n).thenResolve(n)})},T.when=R,C.prototype.thenResolve=function(t){return this.then(function(){return t})},T.thenResolve=function(t,n){return T(t).thenResolve(n)},C.prototype.thenReject=function(t){return this.then(function(){throw t})},T.thenReject=function(t,n){return T(t).thenReject(n)},T.nearer=E,T.isPromise=O,T.isPromiseAlike=M,T.isPending=function(t){return O(t)&&"pending"===t.inspect().state},C.prototype.isPending=function(){return"pending"===this.inspect().state},T.isFulfilled=function(t){return!O(t)||"fulfilled"===t.inspect().state},C.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},T.isRejected=function(t){return O(t)&&"rejected"===t.inspect().state},C.prototype.isRejected=function(){return"rejected"===this.inspect().state};var D,U,_,A=[],B=[],N=[],P=!0;function F(){A.length=0,B.length=0,P||(P=!0)}function Q(t){var e=C({when:function(e){return e&&function(t){if(P){var e=f(B,t);-1!==e&&("object"==typeof n&&"function"==typeof n.emit&&T.nextTick.runAfter(function(){var r=f(N,t);-1!==r&&(n.emit("rejectionHandled",A[e],t),N.splice(r,1))}),B.splice(e,1),A.splice(e,1))}}(this),e?e(t):this}},function(){return this},function(){return{state:"rejected",reason:t}});return function(t,e){P&&("object"==typeof n&&"function"==typeof n.emit&&T.nextTick.runAfter(function(){-1!==f(B,t)&&(n.emit("unhandledRejection",e,t),N.push(t))}),B.push(t),e&&void 0!==e.stack?A.push(e.stack):A.push("(no stack) "+e))}(e,t),e}function z(t){return C({when:function(){return t},get:function(n){return t[n]},set:function(n,e){t[n]=e},delete:function(n){delete t[n]},post:function(n,e){return null===n||void 0===n?t.apply(void 0,e):t[n].apply(t,e)},apply:function(n,e){return t.apply(n,e)},keys:function(){return v(t)}},void 0,function(){return{state:"fulfilled",value:t}})}function q(t,n,e){return T(t).spread(n,e)}function V(t,n,e){return T(t).dispatch(n,e)}function G(t){return R(t,function(t){var n=0,e=L();return u(t,function(r,o,i){var a;O(o)&&"fulfilled"===(a=o.inspect()).state?t[i]=a.value:(++n,R(o,function(r){t[i]=r,0==--n&&e.resolve(t)},e.reject,function(t){e.notify({index:i,value:t})}))},void 0),0===n&&e.resolve(t),e.promise})}function H(t){if(0===t.length)return T.resolve();var n=T.defer(),e=0;return u(t,function(r,o,i){var a=t[i];e++,R(a,function(t){n.resolve(t)},function(t){if(0==--e){var r=t||new Error(""+t);r.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+r.message,n.reject(r)}},function(t){n.notify({index:i,value:t})})},void 0),n.promise}function J(t){return R(t,function(t){return t=d(t,T),R(G(d(t,function(t){return R(t,i,i)})),function(){return t})})}T.resetUnhandledRejections=F,T.getUnhandledReasons=function(){return A.slice()},T.stopUnhandledRejectionTracking=function(){F(),P=!1},F(),T.reject=Q,T.fulfill=z,T.master=function(t){return C({isDef:function(){}},function(n,e){return V(t,n,e)},function(){return T(t).inspect()})},T.spread=q,C.prototype.spread=function(t,n){return this.all().then(function(n){return t.apply(void 0,n)},n)},T.async=function(t){return function(){function n(t,n){var i;if("undefined"==typeof StopIteration){try{i=e[t](n)}catch(t){return Q(t)}return i.done?T(i.value):R(i.value,r,o)}try{i=e[t](n)}catch(t){return function(t){return"[object StopIteration]"===y(t)||t instanceof c}(t)?T(t.value):Q(t)}return R(i,r,o)}var e=t.apply(this,arguments),r=n.bind(n,"next"),o=n.bind(n,"throw");return r()}},T.spawn=function(t){T.done(T.async(t)())},T.return=function(t){throw new c(t)},T.promised=function(t){return function(){return q([this,G(arguments)],function(n,e){return t.apply(n,e)})}},T.dispatch=V,C.prototype.dispatch=function(t,n){var e=this,r=L();return T.nextTick(function(){e.promiseDispatch(r.resolve,t,n)}),r.promise},T.get=function(t,n){return T(t).dispatch("get",[n])},C.prototype.get=function(t){return this.dispatch("get",[t])},T.set=function(t,n,e){return T(t).dispatch("set",[n,e])},C.prototype.set=function(t,n){return this.dispatch("set",[t,n])},T.del=T.delete=function(t,n){return T(t).dispatch("delete",[n])},C.prototype.del=C.prototype.delete=function(t){return this.dispatch("delete",[t])},T.mapply=T.post=function(t,n,e){return T(t).dispatch("post",[n,e])},C.prototype.mapply=C.prototype.post=function(t,n){return this.dispatch("post",[t,n])},T.send=T.mcall=T.invoke=function(t,n){return T(t).dispatch("post",[n,p(arguments,2)])},C.prototype.send=C.prototype.mcall=C.prototype.invoke=function(t){return this.dispatch("post",[t,p(arguments,1)])},T.fapply=function(t,n){return T(t).dispatch("apply",[void 0,n])},C.prototype.fapply=function(t){return this.dispatch("apply",[void 0,t])},T.try=T.fcall=function(t){return T(t).dispatch("apply",[void 0,p(arguments,1)])},C.prototype.fcall=function(){return this.dispatch("apply",[void 0,p(arguments)])},T.fbind=function(t){var n=T(t),e=p(arguments,1);return function(){return n.dispatch("apply",[this,e.concat(p(arguments))])}},C.prototype.fbind=function(){var t=this,n=p(arguments);return function(){return t.dispatch("apply",[this,n.concat(p(arguments))])}},T.keys=function(t){return T(t).dispatch("keys",[])},C.prototype.keys=function(){return this.dispatch("keys",[])},T.all=G,C.prototype.all=function(){return G(this)},T.any=H,C.prototype.any=function(){return H(this)},T.allResolved=(D=J,U="allResolved",_="allSettled",function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(U+" is deprecated, use "+_+" instead.",new Error("").stack),D.apply(D,arguments)}),C.prototype.allResolved=function(){return J(this)},T.allSettled=function(t){return T(t).allSettled()},C.prototype.allSettled=function(){return this.then(function(t){return G(d(t,function(t){function n(){return t.inspect()}return(t=T(t)).then(n,n)}))})},T.fail=T.catch=function(t,n){return T(t).then(void 0,n)},C.prototype.fail=C.prototype.catch=function(t){return this.then(void 0,t)},T.progress=function(t,n){return T(t).then(void 0,void 0,n)},C.prototype.progress=function(t){return this.then(void 0,void 0,t)},T.fin=T.finally=function(t,n){return T(t).finally(n)},C.prototype.fin=C.prototype.finally=function(t){if(!t||"function"!=typeof t.apply)throw new Error("Q can't apply finally callback");return t=T(t),this.then(function(n){return t.fcall().then(function(){return n})},function(n){return t.fcall().then(function(){throw n})})},T.done=function(t,n,e,r){return T(t).done(n,e,r)},C.prototype.done=function(t,e,r){var o=function(t){T.nextTick(function(){if(x(t,i),!T.onerror)throw t;T.onerror(t)})},i=t||e||r?this.then(t,e,r):this;"object"==typeof n&&n&&n.domain&&(o=n.domain.bind(o)),i.then(void 0,o)},T.timeout=function(t,n,e){return T(t).timeout(n,e)},C.prototype.timeout=function(t,n){var e=L(),r=setTimeout(function(){n&&"string"!=typeof n||((n=new Error(n||"Timed out after "+t+" ms")).code="ETIMEDOUT"),e.reject(n)},t);return this.then(function(t){clearTimeout(r),e.resolve(t)},function(t){clearTimeout(r),e.reject(t)},e.notify),e.promise},T.delay=function(t,n){return void 0===n&&(n=t,t=void 0),T(t).delay(n)},C.prototype.delay=function(t){return this.then(function(n){var e=L();return setTimeout(function(){e.resolve(n)},t),e.promise})},T.nfapply=function(t,n){return T(t).nfapply(n)},C.prototype.nfapply=function(t){var n=L(),e=p(t);return e.push(n.makeNodeResolver()),this.fapply(e).fail(n.reject),n.promise},T.nfcall=function(t){var n=p(arguments,1);return T(t).nfapply(n)},C.prototype.nfcall=function(){var t=p(arguments),n=L();return t.push(n.makeNodeResolver()),this.fapply(t).fail(n.reject),n.promise},T.nfbind=T.denodeify=function(t){if(void 0===t)throw new Error("Q can't wrap an undefined function");var n=p(arguments,1);return function(){var e=n.concat(p(arguments)),r=L();return e.push(r.makeNodeResolver()),T(t).fapply(e).fail(r.reject),r.promise}},C.prototype.nfbind=C.prototype.denodeify=function(){var t=p(arguments);return t.unshift(this),T.denodeify.apply(void 0,t)},T.nbind=function(t,n){var e=p(arguments,2);return function(){var r=e.concat(p(arguments)),o=L();return r.push(o.makeNodeResolver()),T(function(){return t.apply(n,arguments)}).fapply(r).fail(o.reject),o.promise}},C.prototype.nbind=function(){var t=p(arguments,0);return t.unshift(this),T.nbind.apply(void 0,t)},T.nmapply=T.npost=function(t,n,e){return T(t).npost(n,e)},C.prototype.nmapply=C.prototype.npost=function(t,n){var e=p(n||[]),r=L();return e.push(r.makeNodeResolver()),this.dispatch("post",[t,e]).fail(r.reject),r.promise},T.nsend=T.nmcall=T.ninvoke=function(t,n){var e=p(arguments,2),r=L();return e.push(r.makeNodeResolver()),T(t).dispatch("post",[n,e]).fail(r.reject),r.promise},C.prototype.nsend=C.prototype.nmcall=C.prototype.ninvoke=function(t){var n=p(arguments,1),e=L();return n.push(e.makeNodeResolver()),this.dispatch("post",[t,n]).fail(e.reject),e.promise},T.nodeify=function(t,n){return T(t).nodeify(n)},C.prototype.nodeify=function(t){if(!t)return this;this.then(function(n){T.nextTick(function(){t(null,n)})},function(n){T.nextTick(function(){t(n)})})},T.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var Y=j();return window.Q=T,T})}).call(this,e(5),e(9).setImmediate)},function(t,n){var e;(e=jQuery).fn.popup=function(t,n){var r=Math.max(parseInt(e(document).scrollTop()),Math.abs(parseInt(e("html").css("marginTop")))),o=e(this),i=o.find(".popup-content"),a=e("html,body"),s=e("html"),l=(e("body"),e(".popup-mask")),c=e(window),p={};function u(){return!timer&&(timer=setTimeout(function(){},300),!1!==p.onCloseBefore()&&(i.removeClass("active"),void l.removeClass("active").one("transitionend",function(){l.addClass("hidden"),o.addClass("hidden"),a.removeClass("offcanvas"),s.css({marginTop:0,left:"0",marginLeft:"auto",overflowY:"auto"}),window.scrollTo(0,r),p.onCloseAfter()})))}return timer=null,p=e.extend({onShowBefore:function(){},onShowAfter:function(){},onCloseAfter:function(){},onCloseBefore:function(){}},n),"string"==typeof t&&("show"===t?(p.onShowBefore(),a.addClass("offcanvas").css({width:c.width()}),s.css({marginTop:-r+"px",height:c.height(),left:"50%",marginLeft:"-"+s.width()/2+"px",overflowY:"hidden"}),l.removeClass("hidden"),setTimeout(function(){l.addClass("active")},1),o.removeClass("hidden").css({width:c.width(),height:c.height()}),setTimeout(function(){i.addClass("active")},1),p.onShowAfter()):"hide"===t&&u()),e(".icon-close-mask").on("click",function(){u()}),o}},function(t,n,e){(t.exports=e(1)(!1)).push([t.i,"/*popup*/\r\n.hidden{\r\n  display: none;\r\n}\r\n\r\n.offcanvas {\r\n  position: fixed;\r\n}\r\n.popup-mask {\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  opacity: 0;\r\n  z-index: 2;\r\n  transition: opacity .3s;\r\n}\r\n.popup-mask.active {\r\n  opacity: 1;\r\n}\r\n.popup-mask-box {\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  z-index: 3;\r\n}\r\n\r\n.popup-mask-box .popup-content {\r\n  position: absolute;\r\n  top: 50%;\r\n  transition: all .3s;\r\n  opacity: 0;\r\n  transform: translate(-50%, -20%);\r\n  left: 50%;\r\n  width: 700px;\r\n  max-width: 700px;\r\n  overflow-x: auto;\r\n  box-sizing: border-box;\r\n}\r\n@media screen and (max-width: 720px) {\r\n    .popup-mask-box .popup-content{\r\n      width: 80%;\r\n      max-width: 80%;\r\n    }\r\n    .popup-mask-box .popup-content .popup-info{\r\n      max-height: 7rem;\r\n    }\r\n}\r\n@media screen and (min-width: 720px) {\r\n    .popup-mask-box .popup-content{\r\n      width: 80%;\r\n      max-width: 80%;\r\n    }\r\n    .popup-mask-box .popup-content .popup-info{\r\n      max-height: 500px;\r\n    }\r\n}\r\n.popup-mask-box .popup-content.active {\r\n  transform: translate(-50%,-50%);\r\n  opacity: 1;\r\n}\r\n\r\n.popup-mask-box .popup-content .popup-info{\r\n  background-color: #fff;\r\n  padding: 20px;\r\n  border-radius: 10px;\r\n  overflow-y: auto;\r\n}\r\n.popup-mask-box .popup-content .popup-info h2.popup-title{\r\n  font-size: 16px;\r\n  color: #e24c37;\r\n  border-bottom: 1px solid #ccc;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.popup-mask-box .popup-content .popup-info h2.popup-title span{\r\n  display: inline-block;\r\n  padding-bottom: 10px;\r\n  border-bottom: 2px solid #e24c37;\r\n  margin-bottom: -1px;\r\n}\r\n\r\n.popup-mask-box .popup-content .popup-info .popup-wrapper{\r\n/*\toverflow-y: auto;\r\n  max-height: 500px;*/\r\n}\r\n\r\n.popup-mask-box .popup-content .popup-close{\r\n  margin: 0 auto;\r\n  text-align: center;\r\n}\r\n\r\n.popup-mask-box .popup-content .popup-close .icon-close-mask{\r\n  display: inline-block;\r\n  background-size: contain;\r\n}\r\n\r\n.popup-mask-box .limit-height{\r\n  overflow-y: auto;\r\n}\r\n",""])},function(t,n,e){var r=e(12);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(0)(r,o);r.locals&&(t.exports=r.locals)},function(t,n,e){(t.exports=e(1)(!1)).push([t.i,'html, body {\r\n  margin: 0;\r\n  height: 100%;\r\n  font-family: \'Open Sans\', sans-serif;\r\n}\r\n\r\n*{\r\n\tpadding: 0;\r\n\tmargin: 0;\r\n}\r\nli{\r\n\tlist-style: none;\r\n}\r\ninput[type="checkbox"],input[type="radio"]{\r\n\tcursor: pointer;\r\n}\r\n.hidden{\r\n\tdisplay: none;\r\n}\r\n.text-center{\r\n\ttext-align: center;\r\n}\r\nbutton,a{\r\n\tcursor: pointer;\r\n}\r\n\r\n.pt15{\r\n\tpadding-top: 15px;\r\n}\r\n\r\n.button-red{\r\n    background-color: #e24c37;\r\n    color: #fff;\r\n    -webkit-box-shadow: 0 1px 1px #f69935;\r\n    box-shadow: 0 1px 1px #f69935;\r\n    -webkit-border-radius: 3px;\r\n    border-radius: 3px;\r\n    display: inline-block;\r\n    border: none;\r\n    text-align: center;\r\n    padding: 5px 14px;\r\n}\r\n\r\n.button-red.btn-sm{\r\n\twidth: 100px;\r\n\theight: 40px;\r\n}\r\n\r\n.icon-close-mask{\r\n\tdisplay: inline-block;\r\n\tvertical-align: middle;\r\n}\r\n.icon-close-mask img{\r\n\twidth: 20px;\r\n\theight: 20px;\r\n}\r\n\r\n.popup-mask-box .popup-content{\r\n\tbackground-color: #fff;\r\n}\r\n\r\n.popup-mask-box .popup-content .popup-info h2.popup-title{\r\n\toverflow: hidden;\r\n}\r\n\r\n.popup-mask-box .popup-content .popup-info h2.popup-title span{\r\n    float: left;\r\n}\r\n\r\n.popup-mask-box .popup-content .popup-info h2.popup-title .icon-close-mask{\r\n\tfloat: right;\r\n}\r\n\r\n.popop-footer{\r\n\tline-height: 40px;\r\n}\r\n\r\n.popop-footer .button-red{\r\n\tvertical-align: top;\r\n}\r\n\r\n.label-select-box .label-list{\r\n\toverflow: hidden;\r\n}\r\n\r\n.label-select-box .label-list li{\r\n\tfont-size: 16px;\r\n\tline-height: 16px;\r\n\tfloat: left;\r\n}\r\n\r\n.label-select-box .label-list li span,img{\r\n\tvertical-align: middle;\r\n}\r\n\r\n.label-select-box .label-list li .title{\r\n\tmargin-right: 5px;\r\n}\r\n\r\n.label-select-box .label-list li .label-delte{\r\n\tcursor: pointer;\r\n}\r\n\r\n.label-select-box .tips-wrap{\r\n\tline-height: 30px;\r\n\theight: 30px;\r\n}\r\n\r\n.label-select-box .tips-wrap i,\r\n.label-select-box .tips-wrap span{\r\n\tvertical-align: top;\r\n}\r\n\r\n.label-select-box .tips-wrap span{\r\n\tdisplay: inline-block;\r\n\theight: 30px;\r\n\tline-height: 30px;\r\n}\r\n\r\n.label-select-box .tips-wrap .label-tips{\r\n\tfont-size: 14px;\r\n\tcolor: #989898;\r\n}\r\n\r\n.label-select-box .tips-wrap .icon-add{\r\n\tmargin-right: 20px;\r\n}\r\n\r\n.label-select-mask .add-label{\r\n\tmargin-bottom: 20px;\r\n}\r\n\r\n\r\n@media screen and (max-width: 720px) {\r\n\t.form-label{\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.form-label .input-wrap{\r\n\t\tmargin-right: 1.5rem;\r\n\t\tfloat: left;\r\n\t\tline-height: 45px;\r\n\t\theight: 45px;\r\n\t}\r\n\t.form-label .input-wrap .select-label{\r\n\t\twidth: 100%;\r\n\t\tvertical-align: top;\r\n\t}\r\n\t.form-label .btn-wrap{\r\n\t\tline-height: 45px;\r\n\t\theight: 45px;\r\n\t\tfloat: right;\r\n\t\tmargin-left: -1.5rem;\r\n\t\tposition: relative;\r\n\t}\r\n\t.form-label .btn-wrap .button-red{\r\n\t\twidth: 1.4rem;\r\n\t\tposition: absolute;\r\n\t\ttop: 50%;\r\n\t\tright: 0;\r\n\t\ttransform: translateY(-50%);\r\n\t}\r\n\t.pt15{\r\n\t\tpadding-top: .15rem;\r\n\t}\r\n\r\n\t.label-select-mask .label-list{\r\n\t\tmargin-bottom: .2rem;\r\n\t\tmargin-left: -.3rem;\r\n\t}\r\n\t.label-select-mask .label-list .label-select-item{\r\n\t\tmargin-left: .3rem;\r\n\t\tmargin-bottom: .1rem;\r\n\t}\r\n\t.popup-mask-box .popup-content .popup-info h2.popup-title .icon-close-mask{\r\n\t\tmargin-right: .15rem;\r\n\t\tpadding: .1rem;\r\n\t}\r\n\t.label-select-mask .add-label{\r\n\t\tmargin-bottom: .2rem;\r\n\t}\r\n\t.label-select-box .label-list{\r\n\t\tmargin-left: -.3rem;\r\n\t}\r\n\t.label-select-box .label-list li{\r\n\t\tmargin-bottom: .1rem;\r\n\t\tmargin-left: .3rem;\r\n\t}\r\n}\r\n\r\n@media screen and (min-width: 720px) {\r\n    .label-select-mask .add-label .select-label{\r\n\t\tmargin-right: 20px;\r\n\t\twidth: 200px;\r\n\t}\r\n\t.pt15{\r\n\t\tpadding-top: 15px;\r\n\t}\r\n\t\r\n\t.form-label{\r\n\t\toverflow: hidden;\r\n\t}\r\n\t.form-label .input-wrap,.form-label .btn-wrap{\r\n\t\tdisplay: inline-block;\r\n\t\tvertical-align: middle;\r\n\t}\r\n\r\n\t.label-select-mask .label-list{\r\n\t\tmargin-bottom: 20px;\r\n\t\tmargin-left: -30px;\r\n\t}\r\n\t.label-select-mask .label-list .label-select-item{\r\n\t\tmargin-left: 30px;\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n\t.popup-mask-box .popup-content .popup-info h2.popup-title .icon-close-mask{\r\n\t\tmargin-right: 15px;\t\r\n\t\tpadding: 5px;\r\n\t}\r\n\t.label-select-mask .add-label{\r\n\t\tmargin-bottom: 20px;\r\n\t}\r\n\t.label-select-box .label-list{\r\n\t\tmargin-left: -30px;\r\n\t}\r\n\t.label-select-box .label-list li{\r\n\t\tmargin-bottom: 10px;\r\n\t\tmargin-left: 30px;\r\n\t}\r\n}\r\n\r\n.label-select-mask .label-list{\r\n\toverflow: hidden;\r\n\tpadding-top: 4px;\r\n}\r\n\r\n.label-select-mask .label-list .label-select-item{\r\n\tfloat: left;\r\n\tfont-size: 14px;\r\n\tline-height: 16px;\r\n\tborder-radius: 4px;\r\n\tpadding: 5px;\r\n}\r\n\r\n.label-select-mask .label-list .label-select-item .label-remove{\r\n\tcursor: pointer;\r\n}\r\n\r\n.label-select-mask .label-list .label-select-item label input[type="checkbox"]{\r\n\tmargin-right: 5px;\r\n\twidth: 18px;\r\n\theight: 18px;\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.label-select-mask .label-list .label-select-item label input[type="checkbox"],\r\n.label-select-mask .label-list .label-select-item label span,\r\n.label-select-mask .label-list .label-select-item label img{\r\n\tvertical-align: middle;\r\n}\r\n\r\n.label-select-mask .label-list .label-select-item .title{\r\n\tmargin-right: 5px;\r\n}\r\n\r\ni{\r\n\tdisplay: inline-block;\r\n\tvertical-align: middle;\r\n}\r\n\r\ni:hover{\r\n\tcursor: pointer; \r\n}\r\n\r\n.icon-add{\r\n\twidth: 30px;\r\n\theight: 30px;\r\n\tbackground-color: #e5e5e5;\r\n\tposition: relative;\r\n}\r\n\r\n.icon-add::after,.icon-add::before{\r\n\tcontent: "";\r\n\tdisplay: inline-block;\r\n\tbackground-color: #999999;\r\n\tposition: absolute;\r\n\tleft: 50%;\r\n\ttop: 50%;\r\n\ttransform: translate(-50%,-50%);\r\n}\r\n\r\n.icon-add::after{\r\n\twidth: 20px;\r\n\theight: 4px;\r\n}\r\n\r\n.icon-add::before{\r\n\twidth: 4px;\r\n\theight: 20px;\r\n}\r\n\r\n.icon-close{\r\n\twidth: 15px;\r\n\theight: 15px;\r\n\tborder: 1px solid #444444;\r\n\tborder-radius: 50%;\r\n\tposition: relative;\r\n\ttransform: rotateZ(45deg);\r\n}\r\n\r\n.icon-close::after,.icon-close::before{\r\n\tcontent: "";\r\n\tdisplay: inline-block;\r\n\tposition: absolute;\r\n\tleft: 50%;\r\n\ttop: 50%;\r\n\ttransform: translate(-50%,-50%);\r\n\tbackground-color: #444444;\r\n}\r\n\r\n.icon-close::after{\r\n\twidth: 10px;\r\n\theight: 1px;\r\n}\r\n\r\n.icon-close::before{\r\n\twidth: 1px;\r\n\theight: 10px;\r\n}\r\n\r\ninput[type=text]{\r\n\tbox-sizing: border-box;\r\n    height: 45px;\r\n    line-height: 45px;\r\n    color: #666;\r\n    font-size: 14px;\r\n    background-color: #eeeeee;\r\n    border: none;\r\n    outline: none;\r\n    padding: 0 20px;\r\n}\r\n',""])},function(t,n,e){var r=e(14);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};e(0)(r,o);r.locals&&(t.exports=r.locals)},function(t,n,e){function r(t){this.labelItemStr="",this.labelListItemStr="",this.url=t.url,this.addUrl=t.addUrl,this.removeUrl=t.removeUrl,this.reqData=t.reqData,this.addData=t.addData||{},this.removeData=t.removeData||{},this.res=null,this.selectedLabels=[],this.field=t.field,this.tips=t.tips||"",this.value=t.value,this.hash=Math.ceil((new Date).getTime()*Math.random()*Math.random()),this.$el=$(t.el),this.$body=$("body"),this.$selectMore=null,this.$iconCloseMask=null,this.$maskBox=null,this.$labelList=null,this.$labelSelected=null,this.init()}function o(t,n,e){e=e||"get",t=t||"",n=n||{};var r=Q.defer();return $.ajax({type:e,url:t,data:n,success:function(t){r.resolve(t)},error:function(t,n,e){r.reject(t,n,e)}}),r.promise}function i(t,n){return o(t,n,"get")}e(15),e(13),e(11),e(10),r.prototype.init=function(){var t=this;this.$el.addClass("select-label-"+this.hash),this.$el=$(".select-label-"+this.hash),this.getData(this.url,this.reqData).then(function(){t.initDom()}).then(function(){t.initVar()}).then(function(){t.initEvent(),t.initModal()}).then(function(){t.initSelected(),t.getSelectedStr(),t.appendSelectedLabel()})},r.prototype.initVar=function(){this.$selectMore=this.$el.find(".select-more"),this.$maskBox=$("#label-select-mask-"+this.hash),this.$iconCloseMask=this.$maskBox.find(".icon-close-mask"),this.$labelList=this.$el.find("#label-list-"+this.hash),this.$labelSelected=this.$el.find("#label-selected-"+this.hash)},r.prototype.initEvent=function(){var t=this;this.$iconCloseMask.on("click",function(){t.closeModal()}),this.$selectMore.on("click",function(){t.showModal()}),this.$body.on("click","#label-select-mask-"+this.hash+" .btn-add-label",function(){t.addLabel().then(function(n){var e=t.getRenderStr(n);t.$maskBox.find(".label-list").append(e)}).catch(function(t){alert("添加失败")})}),this.$body.on("click","#label-select-mask-"+this.hash+" .label-remove",function(){var n=$(this),e=n.data("id");t.removeLabel(e).then(function(){n.parent().fadeOut(200,function(){n.parent().remove()})})}),this.removeLabelItem()},r.prototype.initDom=function(){$(".popup-mask").length||this.$body.append('<div class="popup-mask hidden"></div>');var t='<div class="label-select-box"><ul class="label-list" id="label-list-'+this.hash+'"></ul><input type="hidden" value="'+this.value+'" name='+this.field+' id="label-selected-'+this.hash+'"><div class="tips-wrap"><i class="select-more icon-add"></i><span class="label-tips">'+this.tips+"</span>",n='<div class="popup-mask-box label-select-mask hidden" id="label-select-mask-'+this.hash+'"><div class="popup-content"><div class="popup-info"><h2 class="popup-title"> <span>添加标签</span><a href="javascript:void(0)" class="icon-close-mask"><i class="icon-close popup-close"></i></a></h2><div class="popup-wrapper"><form class="add-label text-center" action="" method="get"><div class="form-label"><div class="input-wrap"><input type="text" name="select-label" placeholder="新增标签" class="select-label"></div><div class="btn-wrap"><button class="button-red btn-add-label" type="button">新增</button></div></div></form><ul class="label-list"></ul></div><div class="text-center pt15 popop-footer"><button type="button" class="button-red btn-sm select-label-confirm icon-close-mask">确定</button></div></div></div></div>';return Q.all([this.$el.append(t),this.$body.append(n)])},r.prototype.initSelected=function(){var t=this,n=$.trim(this.$labelSelected.attr("value")).split(",");this.selectedLabels=[],this.res.forEach(function(e){n.forEach(function(n){e.id==n&&t.selectedLabels.push(e)})})},r.prototype.appendSelectedLabel=function(){this.$labelList.html(this.labelListItemStr)},r.prototype.getSelectedStr=function(){var t=this;t.labelListItemStr="",this.selectedLabels.forEach(function(n){t.labelListItemStr+="<li data-id="+n.id+'><span class="title">'+n.name+'</span><i class="label-delte icon-close" data-id="'+n.id+'"></i></li>'})},r.prototype.getSelectedLabel=function(){var t=this;this.selectedLabels=[],this.$maskBox.find(".label-list").find(".label-select").each(function(){var n=$(this);n.prop("checked")&&t.selectedLabels.push({id:n.data("id"),name:n.data("name")})})},r.prototype.getSelectedIds=function(){var t=[];return this.selectedLabels.map(function(n){t.push(n.id)}),t},r.prototype.updateSelectData=function(){var t=this.getSelectedIds(this.selectedLabels);this.$labelSelected.attr("value",t.join(","))},r.prototype.showModal=function(){var t=this,n=this.getSelectedIds(this.selectedLabels);this.$maskBox.popup("show",{onShowBefore:function(){t.$maskBox.find(".label-list").find(".label-select").prop({checked:!1}).each(function(){var t=$(this);n.indexOf(t.data("id"))>-1&&t.prop({checked:!0})})}})},r.prototype.closeModal=function(){var t=this;this.$maskBox.popup("hide",{onCloseBefore:function(){if(t.getSelectedLabel(),t.updateSelectData(),t.getSelectedStr(),t.appendSelectedLabel(),t.$maskBox.attr("id")!="label-select-mask-"+t.hash)return!1}})},r.prototype.removeLabelItem=function(){var t=this;this.$body.on("click","#label-list-"+this.hash+" .label-delte",function(){var n=$(this),e=n.data("id");n.parent().fadeOut(200),t.selectedLabels=t.selectedLabels.filter(function(t){return t.id!=e}),t.updateSelectData(t.selectedLabels)})},r.prototype.initModal=function(){var t=this.getRenderStr(this.res);this.$maskBox.find(".label-list").html(t)},r.prototype.getData=function(){var t=this;return i(this.url,this.reqData).then(function(n){return t.res=n,n}).catch(function(t){alert("获取标签失败！")})},r.prototype.getRenderStr=function(t){var n=this;n.labelItemStr="";return($.isArray(t)?t:[t]).forEach(function(t){n.labelItemStr+='<li class="label-select-item" data-id='+t.id+'><label><input type="checkbox" class="label-select" data-id='+t.id+" data-name="+t.name+'><span class="title">'+t.name+'</span></label><i class="label-remove icon-close" title="永久删除？" data-id="'+t.id+'" alt=""></i></li>'}),this.labelItemStr},r.prototype.addLabel=function(){return i(this.addUrl,this.addData)},r.prototype.removeLabel=function(t){return this.removeData.id=t,i(this.removeUrl,this.removeData)},t.exports={labelSelect:r}}])});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvX3N0eWxlLWxvYWRlckAwLjIwLjNAc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL19jc3MtbG9hZGVyQDAuMjguMTFAY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL19zdHlsZS1sb2FkZXJAMC4yMC4zQHN0eWxlLWxvYWRlci9saWIvdXJscy5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9fcHJvY2Vzc0AwLjExLjEwQHByb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvX3NldGltbWVkaWF0ZUAxLjAuNUBzZXRpbW1lZGlhdGUvc2V0SW1tZWRpYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9fdGltZXJzLWJyb3dzZXJpZnlAMi4wLjZAdGltZXJzLWJyb3dzZXJpZnkvbWFpbi5qcyIsIndlYnBhY2s6Ly8vLi9sYWJlbC1zZWxlY3QvbGliL3EuanMiLCJ3ZWJwYWNrOi8vLy4vbGFiZWwtc2VsZWN0L2xpYi9wb3B1cC9qcy9wb3B1cC5qcyIsIndlYnBhY2s6Ly8vLi9sYWJlbC1zZWxlY3QvbGliL3BvcHVwL2Nzcy9wb3B1cC5jc3MiLCJ3ZWJwYWNrOi8vLy4vbGFiZWwtc2VsZWN0L2xpYi9wb3B1cC9jc3MvcG9wdXAuY3NzP2VlMWQiLCJ3ZWJwYWNrOi8vLy4vbGFiZWwtc2VsZWN0L2xhYmVsLXNlbGVjdC5jc3MiLCJ3ZWJwYWNrOi8vLy4vbGFiZWwtc2VsZWN0L2xhYmVsLXNlbGVjdC5jc3M/ZmI2MiIsIndlYnBhY2s6Ly8vLi9sYWJlbC1zZWxlY3QvbGFiZWwtc2VsZWN0LmpzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsImEiLCJpIiwid2luZG93IiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsInZhbHVlIiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJmbiIsIm1lbW8iLCJzdHlsZXNJbkRvbSIsImlzT2xkSUUiLCJkb2N1bWVudCIsImFsbCIsImF0b2IiLCJhcHBseSIsInRoaXMiLCJhcmd1bWVudHMiLCJnZXRFbGVtZW50IiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJzdHlsZXNJbnNlcnRlZEF0VG9wIiwiZml4VXJscyIsImFkZFN0eWxlc1RvRG9tIiwic3R5bGVzIiwib3B0aW9ucyIsImxlbmd0aCIsIml0ZW0iLCJkb21TdHlsZSIsImlkIiwicmVmcyIsImoiLCJwYXJ0cyIsInB1c2giLCJhZGRTdHlsZSIsImxpc3RUb1N0eWxlcyIsImxpc3QiLCJuZXdTdHlsZXMiLCJiYXNlIiwicGFydCIsImNzcyIsIm1lZGlhIiwic291cmNlTWFwIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJpbnNlcnRJbnRvIiwiRXJyb3IiLCJsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCIsImluc2VydEF0IiwibmV4dFNpYmxpbmciLCJpbnNlcnRCZWZvcmUiLCJhcHBlbmRDaGlsZCIsImZpcnN0Q2hpbGQiLCJiZWZvcmUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJpZHgiLCJpbmRleE9mIiwic3BsaWNlIiwiY3JlYXRlU3R5bGVFbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsImF0dHJzIiwidHlwZSIsImFkZEF0dHJzIiwiZWwiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsInNldEF0dHJpYnV0ZSIsIm9iaiIsInVwZGF0ZSIsInJlbW92ZSIsInJlc3VsdCIsInRyYW5zZm9ybSIsInN0eWxlSW5kZXgiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwiYmluZCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInJldm9rZU9iamVjdFVSTCIsIkJsb2IiLCJidG9hIiwibGluayIsInJlbCIsImNyZWF0ZUxpbmtFbGVtZW50IiwiYXV0b0ZpeFVybHMiLCJ1bmRlZmluZWQiLCJjb252ZXJ0VG9BYnNvbHV0ZVVybHMiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJibG9iIiwib2xkU3JjIiwiaHJlZiIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3JlYXRlVGV4dE5vZGUiLCJuZXdPYmoiLCJERUJVRyIsIm5ld0xpc3QiLCJtYXlSZW1vdmUiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsImluZGV4IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJCb29sZWFuIiwiam9pbiIsImNzc05vZGUiLCJjaGlsZE5vZGVzIiwidXNlU291cmNlTWFwIiwidG9TdHJpbmciLCJtYXAiLCJjb250ZW50IiwiY3NzTWFwcGluZyIsInNvdXJjZU1hcHBpbmciLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJjb25jYXQiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibWVkaWFRdWVyeSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJsb2NhdGlvbiIsImJhc2VVcmwiLCJwcm90b2NvbCIsImhvc3QiLCJjdXJyZW50RGlyIiwicGF0aG5hbWUiLCJyZXBsYWNlIiwiZnVsbE1hdGNoIiwib3JpZ1VybCIsIm5ld1VybCIsInVucXVvdGVkT3JpZ1VybCIsInRyaW0iLCIkMSIsInRlc3QiLCJnIiwiRnVuY3Rpb24iLCJldmFsIiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsInByb2Nlc3MiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiY3VycmVudFF1ZXVlIiwicXVldWUiLCJkcmFpbmluZyIsInF1ZXVlSW5kZXgiLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpblF1ZXVlIiwidGltZW91dCIsImxlbiIsInJ1biIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIkl0ZW0iLCJhcnJheSIsIm5vb3AiLCJuZXh0VGljayIsImFyZ3MiLCJBcnJheSIsInRpdGxlIiwiYnJvd3NlciIsImVudiIsImFyZ3YiLCJ2ZXJzaW9uIiwidmVyc2lvbnMiLCJvbiIsImFkZExpc3RlbmVyIiwib25jZSIsIm9mZiIsInJlbW92ZUxpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZW1pdCIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsImdsb2JhbCIsInNldEltbWVkaWF0ZSIsInJlZ2lzdGVySW1tZWRpYXRlIiwiaHRtbCIsImNoYW5uZWwiLCJtZXNzYWdlUHJlZml4Iiwib25HbG9iYWxNZXNzYWdlIiwibmV4dEhhbmRsZSIsInRhc2tzQnlIYW5kbGUiLCJjdXJyZW50bHlSdW5uaW5nQVRhc2siLCJkb2MiLCJhdHRhY2hUbyIsImdldFByb3RvdHlwZU9mIiwiaGFuZGxlIiwicnVuSWZQcmVzZW50IiwicG9zdE1lc3NhZ2UiLCJpbXBvcnRTY3JpcHRzIiwicG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cyIsIm9sZE9uTWVzc2FnZSIsIm9ubWVzc2FnZSIsImNhblVzZVBvc3RNZXNzYWdlIiwiTWVzc2FnZUNoYW5uZWwiLCJwb3J0MSIsImV2ZW50IiwiZGF0YSIsInBvcnQyIiwiZG9jdW1lbnRFbGVtZW50Iiwic2NyaXB0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwiTWF0aCIsInJhbmRvbSIsInNsaWNlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImF0dGFjaEV2ZW50IiwiY2FsbGJhY2siLCJ0YXNrIiwiY2xlYXJJbW1lZGlhdGUiLCJzZWxmIiwiVGltZW91dCIsImNsZWFyRm4iLCJfaWQiLCJfY2xlYXJGbiIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImNsb3NlIiwidW5yZWYiLCJyZWYiLCJlbnJvbGwiLCJtc2VjcyIsIl9pZGxlVGltZW91dElkIiwiX2lkbGVUaW1lb3V0IiwidW5lbnJvbGwiLCJfdW5yZWZBY3RpdmUiLCJhY3RpdmUiLCJfb25UaW1lb3V0IiwiZGVmaW5pdGlvbiIsImJvb3RzdHJhcCIsImhhc1N0YWNrcyIsInN0YWNrIiwicUZpbGVOYW1lIiwicVN0YXJ0aW5nTGluZSIsImNhcHR1cmVMaW5lIiwibmV4dCIsInRhaWwiLCJmbHVzaGluZyIsInJlcXVlc3RUaWNrIiwiaXNOb2RlSlMiLCJsYXRlclF1ZXVlIiwiZmx1c2giLCJkb21haW4iLCJlbnRlciIsInJ1blNpbmdsZSIsInBvcCIsImV4aXQiLCJyZXF1ZXN0UG9ydFRpY2siLCJydW5BZnRlciIsInVuY3VycnlUaGlzIiwiZiIsIlFSZXR1cm5WYWx1ZSIsImFycmF5X3NsaWNlIiwiYXJyYXlfcmVkdWNlIiwicmVkdWNlIiwiYmFzaXMiLCJUeXBlRXJyb3IiLCJhcnJheV9pbmRleE9mIiwiYXJyYXlfbWFwIiwidGhpc3AiLCJjb2xsZWN0Iiwib2JqZWN0X2NyZWF0ZSIsImNyZWF0ZSIsIlR5cGUiLCJvYmplY3RfZGVmaW5lUHJvcGVydHkiLCJwcm9wIiwiZGVzY3JpcHRvciIsIm9iamVjdF9oYXNPd25Qcm9wZXJ0eSIsIm9iamVjdF9rZXlzIiwib2JqZWN0X3RvU3RyaW5nIiwiUmV0dXJuVmFsdWUiLCJTVEFDS19KVU1QX1NFUEFSQVRPUiIsIm1ha2VTdGFja1RyYWNlTG9uZyIsImVycm9yIiwicHJvbWlzZSIsInN0YWNrcyIsIl9fbWluaW11bVN0YWNrQ291bnRlcl9fIiwic3RhY2tDb3VudGVyIiwidW5zaGlmdCIsInN0YWNrU3RyaW5nIiwibGluZXMiLCJzcGxpdCIsImRlc2lyZWRMaW5lcyIsImxpbmUiLCJpc0ludGVybmFsRnJhbWUiLCJzdGFja0xpbmUiLCJmaWx0ZXJTdGFja1N0cmluZyIsImdldEZpbGVOYW1lQW5kTGluZU51bWJlciIsImF0dGVtcHQxIiwiZXhlYyIsIk51bWJlciIsImF0dGVtcHQyIiwiYXR0ZW1wdDMiLCJmaWxlTmFtZUFuZExpbmVOdW1iZXIiLCJmaWxlTmFtZSIsImxpbmVOdW1iZXIiLCJxRW5kaW5nTGluZSIsIlEiLCJQcm9taXNlIiwiaXNQcm9taXNlQWxpa2UiLCJkZWZlcnJlZCIsImRlZmVyIiwidGhlbiIsInJlc29sdmUiLCJyZWplY3QiLCJub3RpZnkiLCJleGNlcHRpb24iLCJmdWxmaWxsIiwibG9uZ1N0YWNrU3VwcG9ydCIsImxvbmdTdGFja0NvdW50ZXIiLCJyZXNvbHZlZFByb21pc2UiLCJtZXNzYWdlcyIsInByb2dyZXNzTGlzdGVuZXJzIiwicHJvbWlzZURpc3BhdGNoIiwib3AiLCJvcGVyYW5kcyIsInZhbHVlT2YiLCJuZWFyZXJWYWx1ZSIsIm5lYXJlciIsImlzUHJvbWlzZSIsImluc3BlY3QiLCJzdGF0ZSIsInN1YnN0cmluZyIsImJlY29tZSIsIm5ld1Byb21pc2UiLCJtZXNzYWdlIiwicmVhc29uIiwicHJvZ3Jlc3MiLCJwcm9ncmVzc0xpc3RlbmVyIiwicmVzb2x2ZXIiLCJyYWNlIiwiYW5zd2VyUHMiLCJmYWxsYmFjayIsImluc3BlY3RlZCIsIndoZW4iLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInByb2dyZXNzZWQiLCJRX0RFQlVHIiwibWFrZU5vZGVSZXNvbHZlciIsInBhc3NCeUNvcHkiLCJ4IiwieSIsInRoYXQiLCJzcHJlYWQiLCJtYWtlUHJvbWlzZSIsImRvbmUiLCJfZnVsZmlsbGVkIiwibmV3RXhjZXB0aW9uIiwiX3JlamVjdGVkIiwibmV3VmFsdWUiLCJ0aHJldyIsIl9wcm9ncmVzc2VkIiwib25lcnJvciIsInRhcCIsImZjYWxsIiwidGhlblJlc29sdmUiLCJ0aGVuUmVqZWN0IiwiaXNQZW5kaW5nIiwiaXNGdWxmaWxsZWQiLCJpc1JlamVjdGVkIiwiYWx0ZXJuYXRpdmUiLCJ1bmhhbmRsZWRSZWFzb25zIiwidW5oYW5kbGVkUmVqZWN0aW9ucyIsInJlcG9ydGVkVW5oYW5kbGVkUmVqZWN0aW9ucyIsInRyYWNrVW5oYW5kbGVkUmVqZWN0aW9ucyIsInJlc2V0VW5oYW5kbGVkUmVqZWN0aW9ucyIsInJlamVjdGlvbiIsImF0IiwiYXRSZXBvcnQiLCJ1bnRyYWNrUmVqZWN0aW9uIiwidHJhY2tSZWplY3Rpb24iLCJzZXQiLCJyaHMiLCJkZWxldGUiLCJwb3N0IiwiZGlzcGF0Y2giLCJwcm9taXNlcyIsInBlbmRpbmdDb3VudCIsInNuYXBzaG90IiwiYW55IiwicHJldiIsImN1cnJlbnQiLCJlcnIiLCJhbGxSZXNvbHZlZCIsImdldFVuaGFuZGxlZFJlYXNvbnMiLCJzdG9wVW5oYW5kbGVkUmVqZWN0aW9uVHJhY2tpbmciLCJtYXN0ZXIiLCJpc0RlZiIsImFzeW5jIiwibWFrZUdlbmVyYXRvciIsImNvbnRpbnVlciIsInZlcmIiLCJhcmciLCJTdG9wSXRlcmF0aW9uIiwiZ2VuZXJhdG9yIiwiZXJyYmFjayIsImlzU3RvcEl0ZXJhdGlvbiIsInNwYXduIiwicHJvbWlzZWQiLCJkZWwiLCJtYXBwbHkiLCJzZW5kIiwibWNhbGwiLCJpbnZva2UiLCJmYXBwbHkiLCJmYmluZCIsImNvbnNvbGUiLCJ3YXJuIiwiYWxsU2V0dGxlZCIsInJlZ2FyZGxlc3MiLCJmYWlsIiwiZmluIiwib25VbmhhbmRsZWRFcnJvciIsIm1zIiwidGltZW91dElkIiwiY29kZSIsImRlbGF5IiwibmZhcHBseSIsIm5vZGVBcmdzIiwibmZjYWxsIiwibmZiaW5kIiwiZGVub2RlaWZ5IiwiYmFzZUFyZ3MiLCJuYmluZCIsIm5tYXBwbHkiLCJucG9zdCIsIm5zZW5kIiwibm1jYWxsIiwibmludm9rZSIsIm5vZGVpZnkiLCJub2RlYmFjayIsIm5vQ29uZmxpY3QiLCIkIiwialF1ZXJ5IiwicG9wdXAiLCJpc1Nob3ciLCJvcHRzIiwic2Nyb2xsVG9wIiwibWF4IiwicGFyc2VJbnQiLCJhYnMiLCIkdGhpcyIsIiRwb3B1cENvbnRlbnQiLCJmaW5kIiwiJHBhZ2UiLCIkaHRtbCIsIiRwb3B1cE1hc2siLCIkd2luZG93Iiwib3B0IiwiaGlkZSIsInRpbWVyIiwib25DbG9zZUJlZm9yZSIsInJlbW92ZUNsYXNzIiwib25lIiwiYWRkQ2xhc3MiLCJtYXJnaW5Ub3AiLCJsZWZ0IiwibWFyZ2luTGVmdCIsIm92ZXJmbG93WSIsInNjcm9sbFRvIiwib25DbG9zZUFmdGVyIiwiZXh0ZW5kIiwib25TaG93QmVmb3JlIiwib25TaG93QWZ0ZXIiLCJ3aWR0aCIsImhlaWdodCIsImhtciIsImxvY2FscyIsImxhYmVsU2VsZWN0IiwiY29uZk9iaiIsImxhYmVsSXRlbVN0ciIsImxhYmVsTGlzdEl0ZW1TdHIiLCJ1cmwiLCJhZGRVcmwiLCJyZW1vdmVVcmwiLCJyZXFEYXRhIiwiYWRkRGF0YSIsInJlbW92ZURhdGEiLCJyZXMiLCJzZWxlY3RlZExhYmVscyIsImZpZWxkIiwidGlwcyIsImhhc2giLCJjZWlsIiwiRGF0ZSIsImdldFRpbWUiLCIkZWwiLCIkYm9keSIsIiRzZWxlY3RNb3JlIiwiJGljb25DbG9zZU1hc2siLCIkbWFza0JveCIsIiRsYWJlbExpc3QiLCIkbGFiZWxTZWxlY3RlZCIsImluaXQiLCJhamF4Iiwic3VjY2VzcyIsInhociIsImdldERhdGEiLCJpbml0RG9tIiwiaW5pdFZhciIsImluaXRFdmVudCIsImluaXRNb2RhbCIsImluaXRTZWxlY3RlZCIsImdldFNlbGVjdGVkU3RyIiwiYXBwZW5kU2VsZWN0ZWRMYWJlbCIsImNsb3NlTW9kYWwiLCJzaG93TW9kYWwiLCJhZGRMYWJlbCIsInJlbmRlclN0ciIsImdldFJlbmRlclN0ciIsImFwcGVuZCIsImNhdGNoIiwiYWxlcnQiLCJyZW1vdmVMYWJlbCIsInBhcmVudCIsImZhZGVPdXQiLCJyZW1vdmVMYWJlbEl0ZW0iLCJpbml0U3RyIiwiaW5pdE1hc2tTdHIiLCJ2YWxBcnIiLCJhdHRyIiwidiIsInZhbCIsImdldFNlbGVjdGVkTGFiZWwiLCJlYWNoIiwiZ2V0U2VsZWN0ZWRJZHMiLCJpZHMiLCJ1cGRhdGVTZWxlY3REYXRhIiwiY2hlY2tlZCIsInJlbW92ZUlkIiwiaXNBcnJheSJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBQUEsRUFBQUMsR0FDQSxvQkFBQUMsU0FBQSxpQkFBQUMsT0FDQUEsT0FBQUQsUUFBQUQsU0FDQSxzQkFBQUcsZUFBQUMsSUFDQUQsVUFBQUgsT0FDQSxDQUNBLElBQUFLLEVBQUFMLElBQ0EsUUFBQU0sS0FBQUQsR0FBQSxpQkFBQUosZ0JBQUFGLEdBQUFPLEdBQUFELEVBQUFDLElBUEEsQ0FTQ0MsT0FBQSxXQUNELG1CQ1RBLElBQUFDLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFULFFBR0EsSUFBQUMsRUFBQU0sRUFBQUUsSUFDQUosRUFBQUksRUFDQUMsR0FBQSxFQUNBVixZQVVBLE9BTkFXLEVBQUFGLEdBQUFHLEtBQUFYLEVBQUFELFFBQUFDLElBQUFELFFBQUFRLEdBR0FQLEVBQUFTLEdBQUEsRUFHQVQsRUFBQUQsUUEyQ0EsT0F0Q0FRLEVBQUFLLEVBQUFGLEVBR0FILEVBQUFNLEVBQUFQLEVBR0FDLEVBQUFPLEVBQUEsU0FBQWYsRUFBQWdCLEVBQUFDLEdBQ0FULEVBQUFVLEVBQUFsQixFQUFBZ0IsSUFDQUcsT0FBQUMsZUFBQXBCLEVBQUFnQixHQUNBSyxjQUFBLEVBQ0FDLFlBQUEs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QUFBbUIsS0FBQWllLElBQUFqZSxLQUFBb2UsU0FDQTlLLEtBQUEsU0FBQWlMLEdBRUEsT0FEQXhJLEVBQUF3SSxNQUNBQSxJQUNLaUMsTUFBQSxTQUFBZixHQUNMZ0IsTUFBQSxjQUlBNUMsRUFBQXplLFVBQUFraEIsYUFBQSxTQUFBL0IsR0FDQSxJQUFBeEksRUFBQS9WLEtBQ0ErVixFQUFBZ0ksYUFBQSxHQWtCQSxPQWRBdEMsRUFBQWtHLFFBQUFwRCxHQUdBQSxHQUZBQSxJQUlBN2EsUUFBQSxTQUFBd2QsR0FDQW5MLEVBQUFnSSxjQUFBLHlDQUFBbUQsRUFBQTlmLEdBQUEsK0RBRUE4ZixFQUFBOWYsR0FBQSxjQUFBOGYsRUFBQTVpQixLQUFBLHdCQUNBNGlCLEVBQUE1aUIsS0FBQSw0RUFFQTRpQixFQUFBOWYsR0FBQSx1QkFHQXBCLEtBQUErZCxjQUdBRixFQUFBemUsVUFBQWdoQixTQUFBLFdBQ0EsT0FBQXZoQixFQUFBbUIsS0FBQWtlLE9BQUFsZSxLQUFBcWUsVUFHQVIsRUFBQXplLFVBQUFzaEIsWUFBQSxTQUFBdGYsR0FFQSxPQURBcEIsS0FBQXNlLFdBQUFsZCxLQUNBdkMsRUFBQW1CLEtBQUFtZSxVQUFBbmUsS0FBQXNlLGFBR0EvZ0IsRUFBQUQsU0FDQXVnQiIsImZpbGUiOiJsYWJlbF9zZWxlY3QuYm91bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSB7XG5cdFx0dmFyIGEgPSBmYWN0b3J5KCk7XG5cdFx0Zm9yKHZhciBpIGluIGEpICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgPyBleHBvcnRzIDogcm9vdClbaV0gPSBhW2ldO1xuXHR9XG59KSh3aW5kb3csIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTYpO1xuIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cblxudmFyIHN0eWxlc0luRG9tID0ge307XG5cbnZhclx0bWVtb2l6ZSA9IGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbztcblxuXHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0cmV0dXJuIG1lbW87XG5cdH07XG59O1xuXG52YXIgaXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHQvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuXHQvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG5cdC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcblx0Ly8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG5cdC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuXHRyZXR1cm4gd2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2I7XG59KTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbn07XG5cbnZhciBnZXRFbGVtZW50ID0gKGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbyA9IHt9O1xuXG5cdHJldHVybiBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBwYXNzaW5nIGZ1bmN0aW9uIGluIG9wdGlvbnMsIHRoZW4gdXNlIGl0IGZvciByZXNvbHZlIFwiaGVhZFwiIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgLy8gVXNlZnVsIGZvciBTaGFkb3cgUm9vdCBzdHlsZSBpLmVcbiAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAgICAgLy8gICBpbnNlcnRJbnRvOiBmdW5jdGlvbiAoKSB7IHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvb1wiKS5zaGFkb3dSb290IH1cbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdHZhciBzdHlsZVRhcmdldCA9IGdldFRhcmdldC5jYWxsKHRoaXMsIHRhcmdldCk7XG5cdFx0XHQvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXHRcdFx0aWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG5cdFx0XHRcdFx0Ly8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuXHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuXHRcdH1cblx0XHRyZXR1cm4gbWVtb1t0YXJnZXRdXG5cdH07XG59KSgpO1xuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhclx0c2luZ2xldG9uQ291bnRlciA9IDA7XG52YXJcdHN0eWxlc0luc2VydGVkQXRUb3AgPSBbXTtcblxudmFyXHRmaXhVcmxzID0gcmVxdWlyZShcIi4vdXJsc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmICh0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcblx0XHRpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG5cdH1cblxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRvcHRpb25zLmF0dHJzID0gdHlwZW9mIG9wdGlvbnMuYXR0cnMgPT09IFwib2JqZWN0XCIgPyBvcHRpb25zLmF0dHJzIDoge307XG5cblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2Vcblx0aWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09IFwiYm9vbGVhblwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSA8aGVhZD4gZWxlbWVudFxuICAgICAgICBpZiAoIW9wdGlvbnMuaW5zZXJ0SW50bykgb3B0aW9ucy5pbnNlcnRJbnRvID0gXCJoZWFkXCI7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIHRoZSB0YXJnZXRcblx0aWYgKCFvcHRpb25zLmluc2VydEF0KSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSAobmV3TGlzdCkge1xuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG5cdFx0fVxuXG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0LCBvcHRpb25zKTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSBkb21TdHlsZS5wYXJ0c1tqXSgpO1xuXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufTtcblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20gKHN0eWxlcywgb3B0aW9ucykge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0aWYoZG9tU3R5bGUpIHtcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzIChsaXN0LCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZXMgPSBbXTtcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcblx0XHR2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKSBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xuXHRcdGVsc2UgbmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50IChvcHRpb25zLCBzdHlsZSkge1xuXHR2YXIgdGFyZ2V0ID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8pXG5cblx0aWYgKCF0YXJnZXQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcblx0fVxuXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlc0luc2VydGVkQXRUb3Bbc3R5bGVzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuXHRcdGlmICghbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIHRhcmdldC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYgKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdFx0fVxuXHRcdHN0eWxlc0luc2VydGVkQXRUb3AucHVzaChzdHlsZSk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpIHtcblx0XHR2YXIgbmV4dFNpYmxpbmcgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50byArIFwiIFwiICsgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIG5leHRTaWJsaW5nKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQgKHN0eWxlKSB7XG5cdGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuXG5cdHZhciBpZHggPSBzdHlsZXNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGUpO1xuXHRpZihpZHggPj0gMCkge1xuXHRcdHN0eWxlc0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuXHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cblx0YWRkQXR0cnMoc3R5bGUsIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGUpO1xuXG5cdHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblxuXHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdG9wdGlvbnMuYXR0cnMucmVsID0gXCJzdHlsZXNoZWV0XCI7XG5cblx0YWRkQXR0cnMobGluaywgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rKTtcblxuXHRyZXR1cm4gbGluaztcbn1cblxuZnVuY3Rpb24gYWRkQXR0cnMgKGVsLCBhdHRycykge1xuXHRPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0ZWwuc2V0QXR0cmlidXRlKGtleSwgYXR0cnNba2V5XSk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZSAob2JqLCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZSwgdXBkYXRlLCByZW1vdmUsIHJlc3VsdDtcblxuXHQvLyBJZiBhIHRyYW5zZm9ybSBmdW5jdGlvbiB3YXMgZGVmaW5lZCwgcnVuIGl0IG9uIHRoZSBjc3Ncblx0aWYgKG9wdGlvbnMudHJhbnNmb3JtICYmIG9iai5jc3MpIHtcblx0ICAgIHJlc3VsdCA9IG9wdGlvbnMudHJhbnNmb3JtKG9iai5jc3MpO1xuXG5cdCAgICBpZiAocmVzdWx0KSB7XG5cdCAgICBcdC8vIElmIHRyYW5zZm9ybSByZXR1cm5zIGEgdmFsdWUsIHVzZSB0aGF0IGluc3RlYWQgb2YgdGhlIG9yaWdpbmFsIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgcnVubmluZyBydW50aW1lIHRyYW5zZm9ybWF0aW9ucyBvbiB0aGUgY3NzLlxuXHQgICAgXHRvYmouY3NzID0gcmVzdWx0O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgIFx0Ly8gSWYgdGhlIHRyYW5zZm9ybSBmdW5jdGlvbiByZXR1cm5zIGEgZmFsc3kgdmFsdWUsIGRvbid0IGFkZCB0aGlzIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgY29uZGl0aW9uYWwgbG9hZGluZyBvZiBjc3Ncblx0ICAgIFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgXHRcdC8vIG5vb3Bcblx0ICAgIFx0fTtcblx0ICAgIH1cblx0fVxuXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuXG5cdFx0c3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cblx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcblx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuXG5cdH0gZWxzZSBpZiAoXG5cdFx0b2JqLnNvdXJjZU1hcCAmJlxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cblx0XHRcdGlmKHN0eWxlLmhyZWYpIFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGUuaHJlZik7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRzdHlsZSA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cdFx0fTtcblx0fVxuXG5cdHVwZGF0ZShvYmopO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZSAobmV3T2JqKSB7XG5cdFx0aWYgKG5ld09iaikge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRuZXdPYmouY3NzID09PSBvYmouY3NzICYmXG5cdFx0XHRcdG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmXG5cdFx0XHRcdG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXBcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZW1vdmUoKTtcblx0XHR9XG5cdH07XG59XG5cbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcblxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuXHR9O1xufSkoKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyAoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XG5cblx0aWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG5cblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0XHRcdHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnIChzdHlsZSwgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG5cblx0aWYobWVkaWEpIHtcblx0XHRzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcblx0fVxuXG5cdGlmKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdH0gZWxzZSB7XG5cdFx0d2hpbGUoc3R5bGUuZmlyc3RDaGlsZCkge1xuXHRcdFx0c3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXG5cdFx0c3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTGluayAobGluaywgb3B0aW9ucywgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuXHQvKlxuXHRcdElmIGNvbnZlcnRUb0Fic29sdXRlVXJscyBpc24ndCBkZWZpbmVkLCBidXQgc291cmNlbWFwcyBhcmUgZW5hYmxlZFxuXHRcdGFuZCB0aGVyZSBpcyBubyBwdWJsaWNQYXRoIGRlZmluZWQgdGhlbiBsZXRzIHR1cm4gY29udmVydFRvQWJzb2x1dGVVcmxzXG5cdFx0b24gYnkgZGVmYXVsdC4gIE90aGVyd2lzZSBkZWZhdWx0IHRvIHRoZSBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgb3B0aW9uXG5cdFx0ZGlyZWN0bHlcblx0Ki9cblx0dmFyIGF1dG9GaXhVcmxzID0gb3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgPT09IHVuZGVmaW5lZCAmJiBzb3VyY2VNYXA7XG5cblx0aWYgKG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzIHx8IGF1dG9GaXhVcmxzKSB7XG5cdFx0Y3NzID0gZml4VXJscyhjc3MpO1xuXHR9XG5cblx0aWYgKHNvdXJjZU1hcCkge1xuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuXHR9XG5cblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XG5cblx0dmFyIG9sZFNyYyA9IGxpbmsuaHJlZjtcblxuXHRsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG5cdGlmKG9sZFNyYykgVVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xufVxuIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgbGlzdCA9IFtdO1xuXG5cdC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHRcdFx0dmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cdFx0XHRpZihpdGVtWzJdKSB7XG5cdFx0XHRcdHJldHVybiBcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGNvbnRlbnQgKyBcIn1cIjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBjb250ZW50O1xuXHRcdFx0fVxuXHRcdH0pLmpvaW4oXCJcIik7XG5cdH07XG5cblx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3Rcblx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xuXHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxuXHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xuXHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XG5cdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXG5cdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcblx0XHR9XG5cdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xuXHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuXHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcblx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXG5cdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcblx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuXHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRyZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG5cdHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJztcblx0dmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXHRpZiAoIWNzc01hcHBpbmcpIHtcblx0XHRyZXR1cm4gY29udGVudDtcblx0fVxuXG5cdGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcblx0XHR2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcblx0XHR2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuXHRcdFx0cmV0dXJuICcvKiMgc291cmNlVVJMPScgKyBjc3NNYXBwaW5nLnNvdXJjZVJvb3QgKyBzb3VyY2UgKyAnICovJ1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG5cdH1cblxuXHRyZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufVxuXG4vLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuXHR2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcblx0dmFyIGRhdGEgPSAnc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsJyArIGJhc2U2NDtcblxuXHRyZXR1cm4gJy8qIyAnICsgZGF0YSArICcgKi8nO1xufVxuIiwiXG4vKipcbiAqIFdoZW4gc291cmNlIG1hcHMgYXJlIGVuYWJsZWQsIGBzdHlsZS1sb2FkZXJgIHVzZXMgYSBsaW5rIGVsZW1lbnQgd2l0aCBhIGRhdGEtdXJpIHRvXG4gKiBlbWJlZCB0aGUgY3NzIG9uIHRoZSBwYWdlLiBUaGlzIGJyZWFrcyBhbGwgcmVsYXRpdmUgdXJscyBiZWNhdXNlIG5vdyB0aGV5IGFyZSByZWxhdGl2ZSB0byBhXG4gKiBidW5kbGUgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIE9uZSBzb2x1dGlvbiBpcyB0byBvbmx5IHVzZSBmdWxsIHVybHMsIGJ1dCB0aGF0IG1heSBiZSBpbXBvc3NpYmxlLlxuICpcbiAqIEluc3RlYWQsIHRoaXMgZnVuY3Rpb24gXCJmaXhlc1wiIHRoZSByZWxhdGl2ZSB1cmxzIHRvIGJlIGFic29sdXRlIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBwYWdlIGxvY2F0aW9uLlxuICpcbiAqIEEgcnVkaW1lbnRhcnkgdGVzdCBzdWl0ZSBpcyBsb2NhdGVkIGF0IGB0ZXN0L2ZpeFVybHMuanNgIGFuZCBjYW4gYmUgcnVuIHZpYSB0aGUgYG5wbSB0ZXN0YCBjb21tYW5kLlxuICpcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgLy8gZ2V0IGN1cnJlbnQgbG9jYXRpb25cbiAgdmFyIGxvY2F0aW9uID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb247XG5cbiAgaWYgKCFsb2NhdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO1xuICB9XG5cblx0Ly8gYmxhbmsgb3IgbnVsbD9cblx0aWYgKCFjc3MgfHwgdHlwZW9mIGNzcyAhPT0gXCJzdHJpbmdcIikge1xuXHQgIHJldHVybiBjc3M7XG4gIH1cblxuICB2YXIgYmFzZVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgbG9jYXRpb24uaG9zdDtcbiAgdmFyIGN1cnJlbnREaXIgPSBiYXNlVXJsICsgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIi9cIik7XG5cblx0Ly8gY29udmVydCBlYWNoIHVybCguLi4pXG5cdC8qXG5cdFRoaXMgcmVndWxhciBleHByZXNzaW9uIGlzIGp1c3QgYSB3YXkgdG8gcmVjdXJzaXZlbHkgbWF0Y2ggYnJhY2tldHMgd2l0aGluXG5cdGEgc3RyaW5nLlxuXG5cdCAvdXJsXFxzKlxcKCAgPSBNYXRjaCBvbiB0aGUgd29yZCBcInVybFwiIHdpdGggYW55IHdoaXRlc3BhY2UgYWZ0ZXIgaXQgYW5kIHRoZW4gYSBwYXJlbnNcblx0ICAgKCAgPSBTdGFydCBhIGNhcHR1cmluZyBncm91cFxuXHQgICAgICg/OiAgPSBTdGFydCBhIG5vbi1jYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAgICAgW14pKF0gID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICg/OiAgPSBTdGFydCBhbm90aGVyIG5vbi1jYXB0dXJpbmcgZ3JvdXBzXG5cdCAgICAgICAgICAgICAgICAgW14pKF0rICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgICAgICBbXikoXSogID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgXFwpICA9IE1hdGNoIGEgZW5kIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICApICA9IEVuZCBHcm91cFxuICAgICAgICAgICAgICAqXFwpID0gTWF0Y2ggYW55dGhpbmcgYW5kIHRoZW4gYSBjbG9zZSBwYXJlbnNcbiAgICAgICAgICApICA9IENsb3NlIG5vbi1jYXB0dXJpbmcgZ3JvdXBcbiAgICAgICAgICAqICA9IE1hdGNoIGFueXRoaW5nXG4gICAgICAgKSAgPSBDbG9zZSBjYXB0dXJpbmcgZ3JvdXBcblx0IFxcKSAgPSBNYXRjaCBhIGNsb3NlIHBhcmVuc1xuXG5cdCAvZ2kgID0gR2V0IGFsbCBtYXRjaGVzLCBub3QgdGhlIGZpcnN0LiAgQmUgY2FzZSBpbnNlbnNpdGl2ZS5cblx0ICovXG5cdHZhciBmaXhlZENzcyA9IGNzcy5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwgZnVuY3Rpb24oZnVsbE1hdGNoLCBvcmlnVXJsKSB7XG5cdFx0Ly8gc3RyaXAgcXVvdGVzIChpZiB0aGV5IGV4aXN0KVxuXHRcdHZhciB1bnF1b3RlZE9yaWdVcmwgPSBvcmlnVXJsXG5cdFx0XHQudHJpbSgpXG5cdFx0XHQucmVwbGFjZSgvXlwiKC4qKVwiJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KVxuXHRcdFx0LnJlcGxhY2UoL14nKC4qKSckLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pO1xuXG5cdFx0Ly8gYWxyZWFkeSBhIGZ1bGwgdXJsPyBubyBjaGFuZ2Vcblx0XHRpZiAoL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC98XFxzKiQpL2kudGVzdCh1bnF1b3RlZE9yaWdVcmwpKSB7XG5cdFx0ICByZXR1cm4gZnVsbE1hdGNoO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlcnQgdGhlIHVybCB0byBhIGZ1bGwgdXJsXG5cdFx0dmFyIG5ld1VybDtcblxuXHRcdGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi8vXCIpID09PSAwKSB7XG5cdFx0ICBcdC8vVE9ETzogc2hvdWxkIHdlIGFkZCBwcm90b2NvbD9cblx0XHRcdG5ld1VybCA9IHVucXVvdGVkT3JpZ1VybDtcblx0XHR9IGVsc2UgaWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJhc2UgdXJsXG5cdFx0XHRuZXdVcmwgPSBiYXNlVXJsICsgdW5xdW90ZWRPcmlnVXJsOyAvLyBhbHJlYWR5IHN0YXJ0cyB3aXRoICcvJ1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byBjdXJyZW50IGRpcmVjdG9yeVxuXHRcdFx0bmV3VXJsID0gY3VycmVudERpciArIHVucXVvdGVkT3JpZ1VybC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIik7IC8vIFN0cmlwIGxlYWRpbmcgJy4vJ1xuXHRcdH1cblxuXHRcdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgdXJsKC4uLilcblx0XHRyZXR1cm4gXCJ1cmwoXCIgKyBKU09OLnN0cmluZ2lmeShuZXdVcmwpICsgXCIpXCI7XG5cdH0pO1xuXG5cdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgY3NzXG5cdHJldHVybiBmaXhlZENzcztcbn07XG4iLCJ2YXIgZztcclxuXHJcbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXHJcbmcgPSAoZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn0pKCk7XHJcblxyXG50cnkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxyXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSwgZXZhbCkoXCJ0aGlzXCIpO1xyXG59IGNhdGNoIChlKSB7XHJcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcclxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcclxufVxyXG5cclxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxyXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xyXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGc7XHJcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIoZnVuY3Rpb24gKGdsb2JhbCwgdW5kZWZpbmVkKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBpZiAoZ2xvYmFsLnNldEltbWVkaWF0ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG5leHRIYW5kbGUgPSAxOyAvLyBTcGVjIHNheXMgZ3JlYXRlciB0aGFuIHplcm9cbiAgICB2YXIgdGFza3NCeUhhbmRsZSA9IHt9O1xuICAgIHZhciBjdXJyZW50bHlSdW5uaW5nQVRhc2sgPSBmYWxzZTtcbiAgICB2YXIgZG9jID0gZ2xvYmFsLmRvY3VtZW50O1xuICAgIHZhciByZWdpc3RlckltbWVkaWF0ZTtcblxuICAgIGZ1bmN0aW9uIHNldEltbWVkaWF0ZShjYWxsYmFjaykge1xuICAgICAgLy8gQ2FsbGJhY2sgY2FuIGVpdGhlciBiZSBhIGZ1bmN0aW9uIG9yIGEgc3RyaW5nXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBuZXcgRnVuY3Rpb24oXCJcIiArIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICAgIC8vIENvcHkgZnVuY3Rpb24gYXJndW1lbnRzXG4gICAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2kgKyAxXTtcbiAgICAgIH1cbiAgICAgIC8vIFN0b3JlIGFuZCByZWdpc3RlciB0aGUgdGFza1xuICAgICAgdmFyIHRhc2sgPSB7IGNhbGxiYWNrOiBjYWxsYmFjaywgYXJnczogYXJncyB9O1xuICAgICAgdGFza3NCeUhhbmRsZVtuZXh0SGFuZGxlXSA9IHRhc2s7XG4gICAgICByZWdpc3RlckltbWVkaWF0ZShuZXh0SGFuZGxlKTtcbiAgICAgIHJldHVybiBuZXh0SGFuZGxlKys7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYXJJbW1lZGlhdGUoaGFuZGxlKSB7XG4gICAgICAgIGRlbGV0ZSB0YXNrc0J5SGFuZGxlW2hhbmRsZV07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcnVuKHRhc2spIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gdGFzay5jYWxsYmFjaztcbiAgICAgICAgdmFyIGFyZ3MgPSB0YXNrLmFyZ3M7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBjYWxsYmFjayhhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY2FsbGJhY2suYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcnVuSWZQcmVzZW50KGhhbmRsZSkge1xuICAgICAgICAvLyBGcm9tIHRoZSBzcGVjOiBcIldhaXQgdW50aWwgYW55IGludm9jYXRpb25zIG9mIHRoaXMgYWxnb3JpdGhtIHN0YXJ0ZWQgYmVmb3JlIHRoaXMgb25lIGhhdmUgY29tcGxldGVkLlwiXG4gICAgICAgIC8vIFNvIGlmIHdlJ3JlIGN1cnJlbnRseSBydW5uaW5nIGEgdGFzaywgd2UnbGwgbmVlZCB0byBkZWxheSB0aGlzIGludm9jYXRpb24uXG4gICAgICAgIGlmIChjdXJyZW50bHlSdW5uaW5nQVRhc2spIHtcbiAgICAgICAgICAgIC8vIERlbGF5IGJ5IGRvaW5nIGEgc2V0VGltZW91dC4gc2V0SW1tZWRpYXRlIHdhcyB0cmllZCBpbnN0ZWFkLCBidXQgaW4gRmlyZWZveCA3IGl0IGdlbmVyYXRlZCBhXG4gICAgICAgICAgICAvLyBcInRvbyBtdWNoIHJlY3Vyc2lvblwiIGVycm9yLlxuICAgICAgICAgICAgc2V0VGltZW91dChydW5JZlByZXNlbnQsIDAsIGhhbmRsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgdGFzayA9IHRhc2tzQnlIYW5kbGVbaGFuZGxlXTtcbiAgICAgICAgICAgIGlmICh0YXNrKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudGx5UnVubmluZ0FUYXNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBydW4odGFzayk7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbW1lZGlhdGUoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudGx5UnVubmluZ0FUYXNrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbE5leHRUaWNrSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uICgpIHsgcnVuSWZQcmVzZW50KGhhbmRsZSk7IH0pO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhblVzZVBvc3RNZXNzYWdlKCkge1xuICAgICAgICAvLyBUaGUgdGVzdCBhZ2FpbnN0IGBpbXBvcnRTY3JpcHRzYCBwcmV2ZW50cyB0aGlzIGltcGxlbWVudGF0aW9uIGZyb20gYmVpbmcgaW5zdGFsbGVkIGluc2lkZSBhIHdlYiB3b3JrZXIsXG4gICAgICAgIC8vIHdoZXJlIGBnbG9iYWwucG9zdE1lc3NhZ2VgIG1lYW5zIHNvbWV0aGluZyBjb21wbGV0ZWx5IGRpZmZlcmVudCBhbmQgY2FuJ3QgYmUgdXNlZCBmb3IgdGhpcyBwdXJwb3NlLlxuICAgICAgICBpZiAoZ2xvYmFsLnBvc3RNZXNzYWdlICYmICFnbG9iYWwuaW1wb3J0U2NyaXB0cykge1xuICAgICAgICAgICAgdmFyIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIG9sZE9uTWVzc2FnZSA9IGdsb2JhbC5vbm1lc3NhZ2U7XG4gICAgICAgICAgICBnbG9iYWwub25tZXNzYWdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cyA9IGZhbHNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShcIlwiLCBcIipcIik7XG4gICAgICAgICAgICBnbG9iYWwub25tZXNzYWdlID0gb2xkT25NZXNzYWdlO1xuICAgICAgICAgICAgcmV0dXJuIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsUG9zdE1lc3NhZ2VJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgLy8gSW5zdGFsbHMgYW4gZXZlbnQgaGFuZGxlciBvbiBgZ2xvYmFsYCBmb3IgdGhlIGBtZXNzYWdlYCBldmVudDogc2VlXG4gICAgICAgIC8vICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vRE9NL3dpbmRvdy5wb3N0TWVzc2FnZVxuICAgICAgICAvLyAqIGh0dHA6Ly93d3cud2hhdHdnLm9yZy9zcGVjcy93ZWItYXBwcy9jdXJyZW50LXdvcmsvbXVsdGlwYWdlL2NvbW1zLmh0bWwjY3Jvc3NEb2N1bWVudE1lc3NhZ2VzXG5cbiAgICAgICAgdmFyIG1lc3NhZ2VQcmVmaXggPSBcInNldEltbWVkaWF0ZSRcIiArIE1hdGgucmFuZG9tKCkgKyBcIiRcIjtcbiAgICAgICAgdmFyIG9uR2xvYmFsTWVzc2FnZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuc291cmNlID09PSBnbG9iYWwgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgZXZlbnQuZGF0YSA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICAgICAgICAgIGV2ZW50LmRhdGEuaW5kZXhPZihtZXNzYWdlUHJlZml4KSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJ1bklmUHJlc2VudCgrZXZlbnQuZGF0YS5zbGljZShtZXNzYWdlUHJlZml4Lmxlbmd0aCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIG9uR2xvYmFsTWVzc2FnZSwgZmFsc2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2xvYmFsLmF0dGFjaEV2ZW50KFwib25tZXNzYWdlXCIsIG9uR2xvYmFsTWVzc2FnZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgZ2xvYmFsLnBvc3RNZXNzYWdlKG1lc3NhZ2VQcmVmaXggKyBoYW5kbGUsIFwiKlwiKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsTWVzc2FnZUNoYW5uZWxJbXBsZW1lbnRhdGlvbigpIHtcbiAgICAgICAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdmFyIGhhbmRsZSA9IGV2ZW50LmRhdGE7XG4gICAgICAgICAgICBydW5JZlByZXNlbnQoaGFuZGxlKTtcbiAgICAgICAgfTtcblxuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZShoYW5kbGUpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxSZWFkeVN0YXRlQ2hhbmdlSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHZhciBodG1sID0gZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIDxzY3JpcHQ+IGVsZW1lbnQ7IGl0cyByZWFkeXN0YXRlY2hhbmdlIGV2ZW50IHdpbGwgYmUgZmlyZWQgYXN5bmNocm9ub3VzbHkgb25jZSBpdCBpcyBpbnNlcnRlZFxuICAgICAgICAgICAgLy8gaW50byB0aGUgZG9jdW1lbnQuIERvIHNvLCB0aHVzIHF1ZXVpbmcgdXAgdGhlIHRhc2suIFJlbWVtYmVyIHRvIGNsZWFuIHVwIG9uY2UgaXQncyBiZWVuIGNhbGxlZC5cbiAgICAgICAgICAgIHZhciBzY3JpcHQgPSBkb2MuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgICAgICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcnVuSWZQcmVzZW50KGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgaHRtbC5yZW1vdmVDaGlsZChzY3JpcHQpO1xuICAgICAgICAgICAgICAgIHNjcmlwdCA9IG51bGw7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaHRtbC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxTZXRUaW1lb3V0SW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJ1bklmUHJlc2VudCwgMCwgaGFuZGxlKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBJZiBzdXBwb3J0ZWQsIHdlIHNob3VsZCBhdHRhY2ggdG8gdGhlIHByb3RvdHlwZSBvZiBnbG9iYWwsIHNpbmNlIHRoYXQgaXMgd2hlcmUgc2V0VGltZW91dCBldCBhbC4gbGl2ZS5cbiAgICB2YXIgYXR0YWNoVG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKGdsb2JhbCk7XG4gICAgYXR0YWNoVG8gPSBhdHRhY2hUbyAmJiBhdHRhY2hUby5zZXRUaW1lb3V0ID8gYXR0YWNoVG8gOiBnbG9iYWw7XG5cbiAgICAvLyBEb24ndCBnZXQgZm9vbGVkIGJ5IGUuZy4gYnJvd3NlcmlmeSBlbnZpcm9ubWVudHMuXG4gICAgaWYgKHt9LnRvU3RyaW5nLmNhbGwoZ2xvYmFsLnByb2Nlc3MpID09PSBcIltvYmplY3QgcHJvY2Vzc11cIikge1xuICAgICAgICAvLyBGb3IgTm9kZS5qcyBiZWZvcmUgMC45XG4gICAgICAgIGluc3RhbGxOZXh0VGlja0ltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGNhblVzZVBvc3RNZXNzYWdlKCkpIHtcbiAgICAgICAgLy8gRm9yIG5vbi1JRTEwIG1vZGVybiBicm93c2Vyc1xuICAgICAgICBpbnN0YWxsUG9zdE1lc3NhZ2VJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChnbG9iYWwuTWVzc2FnZUNoYW5uZWwpIHtcbiAgICAgICAgLy8gRm9yIHdlYiB3b3JrZXJzLCB3aGVyZSBzdXBwb3J0ZWRcbiAgICAgICAgaW5zdGFsbE1lc3NhZ2VDaGFubmVsSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoZG9jICYmIFwib25yZWFkeXN0YXRlY2hhbmdlXCIgaW4gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIikpIHtcbiAgICAgICAgLy8gRm9yIElFIDbigJM4XG4gICAgICAgIGluc3RhbGxSZWFkeVN0YXRlQ2hhbmdlSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEZvciBvbGRlciBicm93c2Vyc1xuICAgICAgICBpbnN0YWxsU2V0VGltZW91dEltcGxlbWVudGF0aW9uKCk7XG4gICAgfVxuXG4gICAgYXR0YWNoVG8uc2V0SW1tZWRpYXRlID0gc2V0SW1tZWRpYXRlO1xuICAgIGF0dGFjaFRvLmNsZWFySW1tZWRpYXRlID0gY2xlYXJJbW1lZGlhdGU7XG59KHR5cGVvZiBzZWxmID09PSBcInVuZGVmaW5lZFwiID8gdHlwZW9mIGdsb2JhbCA9PT0gXCJ1bmRlZmluZWRcIiA/IHRoaXMgOiBnbG9iYWwgOiBzZWxmKSk7XG4iLCJ2YXIgYXBwbHkgPSBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7XG5cbi8vIERPTSBBUElzLCBmb3IgY29tcGxldGVuZXNzXG5cbmV4cG9ydHMuc2V0VGltZW91dCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRUaW1lb3V0LCB3aW5kb3csIGFyZ3VtZW50cyksIGNsZWFyVGltZW91dCk7XG59O1xuZXhwb3J0cy5zZXRJbnRlcnZhbCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRJbnRlcnZhbCwgd2luZG93LCBhcmd1bWVudHMpLCBjbGVhckludGVydmFsKTtcbn07XG5leHBvcnRzLmNsZWFyVGltZW91dCA9XG5leHBvcnRzLmNsZWFySW50ZXJ2YWwgPSBmdW5jdGlvbih0aW1lb3V0KSB7XG4gIGlmICh0aW1lb3V0KSB7XG4gICAgdGltZW91dC5jbG9zZSgpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBUaW1lb3V0KGlkLCBjbGVhckZuKSB7XG4gIHRoaXMuX2lkID0gaWQ7XG4gIHRoaXMuX2NsZWFyRm4gPSBjbGVhckZuO1xufVxuVGltZW91dC5wcm90b3R5cGUudW5yZWYgPSBUaW1lb3V0LnByb3RvdHlwZS5yZWYgPSBmdW5jdGlvbigpIHt9O1xuVGltZW91dC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5fY2xlYXJGbi5jYWxsKHdpbmRvdywgdGhpcy5faWQpO1xufTtcblxuLy8gRG9lcyBub3Qgc3RhcnQgdGhlIHRpbWUsIGp1c3Qgc2V0cyB1cCB0aGUgbWVtYmVycyBuZWVkZWQuXG5leHBvcnRzLmVucm9sbCA9IGZ1bmN0aW9uKGl0ZW0sIG1zZWNzKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSBtc2Vjcztcbn07XG5cbmV4cG9ydHMudW5lbnJvbGwgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcbiAgaXRlbS5faWRsZVRpbWVvdXQgPSAtMTtcbn07XG5cbmV4cG9ydHMuX3VucmVmQWN0aXZlID0gZXhwb3J0cy5hY3RpdmUgPSBmdW5jdGlvbihpdGVtKSB7XG4gIGNsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKTtcblxuICB2YXIgbXNlY3MgPSBpdGVtLl9pZGxlVGltZW91dDtcbiAgaWYgKG1zZWNzID49IDApIHtcbiAgICBpdGVtLl9pZGxlVGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiBvblRpbWVvdXQoKSB7XG4gICAgICBpZiAoaXRlbS5fb25UaW1lb3V0KVxuICAgICAgICBpdGVtLl9vblRpbWVvdXQoKTtcbiAgICB9LCBtc2Vjcyk7XG4gIH1cbn07XG5cbi8vIHNldGltbWVkaWF0ZSBhdHRhY2hlcyBpdHNlbGYgdG8gdGhlIGdsb2JhbCBvYmplY3RcbnJlcXVpcmUoXCJzZXRpbW1lZGlhdGVcIik7XG4vLyBPbiBzb21lIGV4b3RpYyBlbnZpcm9ubWVudHMsIGl0J3Mgbm90IGNsZWFyIHdoaWNoIG9iamVjdCBgc2V0aW1tZWlkYXRlYCB3YXNcbi8vIGFibGUgdG8gaW5zdGFsbCBvbnRvLiAgU2VhcmNoIGVhY2ggcG9zc2liaWxpdHkgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlXG4vLyBgc2V0aW1tZWRpYXRlYCBsaWJyYXJ5LlxuZXhwb3J0cy5zZXRJbW1lZGlhdGUgPSAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZi5zZXRJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiICYmIGdsb2JhbC5zZXRJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICh0aGlzICYmIHRoaXMuc2V0SW1tZWRpYXRlKTtcbmV4cG9ydHMuY2xlYXJJbW1lZGlhdGUgPSAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZi5jbGVhckltbWVkaWF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWwuY2xlYXJJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMgJiYgdGhpcy5jbGVhckltbWVkaWF0ZSk7XG4iLCIvLyB2aW06dHM9NDpzdHM9NDpzdz00OlxyXG4vKiFcclxuICpcclxuICogQ29weXJpZ2h0IDIwMDktMjAxNyBLcmlzIEtvd2FsIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgTUlUXHJcbiAqIGxpY2Vuc2UgZm91bmQgYXQgaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC9xL2Jsb2IvdjEvTElDRU5TRVxyXG4gKlxyXG4gKiBXaXRoIHBhcnRzIGJ5IFR5bGVyIENsb3NlXHJcbiAqIENvcHlyaWdodCAyMDA3LTIwMDkgVHlsZXIgQ2xvc2UgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNSVQgWCBsaWNlbnNlIGZvdW5kXHJcbiAqIGF0IGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UuaHRtbFxyXG4gKiBGb3JrZWQgYXQgcmVmX3NlbmQuanMgdmVyc2lvbjogMjAwOS0wNS0xMVxyXG4gKlxyXG4gKiBXaXRoIHBhcnRzIGJ5IE1hcmsgTWlsbGVyXHJcbiAqIENvcHlyaWdodCAoQykgMjAxMSBHb29nbGUgSW5jLlxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKlxyXG4gKi9cclxuXHJcbihmdW5jdGlvbiAoZGVmaW5pdGlvbikge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgLy8gVGhpcyBmaWxlIHdpbGwgZnVuY3Rpb24gcHJvcGVybHkgYXMgYSA8c2NyaXB0PiB0YWcsIG9yIGEgbW9kdWxlXHJcbiAgICAvLyB1c2luZyBDb21tb25KUyBhbmQgTm9kZUpTIG9yIFJlcXVpcmVKUyBtb2R1bGUgZm9ybWF0cy4gIEluXHJcbiAgICAvLyBDb21tb24vTm9kZS9SZXF1aXJlSlMsIHRoZSBtb2R1bGUgZXhwb3J0cyB0aGUgUSBBUEkgYW5kIHdoZW5cclxuICAgIC8vIGV4ZWN1dGVkIGFzIGEgc2ltcGxlIDxzY3JpcHQ+LCBpdCBjcmVhdGVzIGEgUSBnbG9iYWwgaW5zdGVhZC5cclxuXHJcbiAgICAvLyBNb250YWdlIFJlcXVpcmVcclxuICAgIGlmICh0eXBlb2YgYm9vdHN0cmFwID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICBib290c3RyYXAoXCJwcm9taXNlXCIsIGRlZmluaXRpb24pO1xyXG5cclxuICAgIC8vIENvbW1vbkpTXHJcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGRlZmluaXRpb24oKTtcclxuXHJcbiAgICAvLyBSZXF1aXJlSlNcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcclxuICAgICAgICBkZWZpbmUoZGVmaW5pdGlvbik7XHJcblxyXG4gICAgLy8gU0VTIChTZWN1cmUgRWNtYVNjcmlwdClcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHNlcyAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgIGlmICghc2VzLm9rKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNlcy5tYWtlUSA9IGRlZmluaXRpb247XHJcbiAgICAgICAgfVxyXG5cclxuICAgIC8vIDxzY3JpcHQ+XHJcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgfHwgdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAvLyBQcmVmZXIgd2luZG93IG92ZXIgc2VsZiBmb3IgYWRkLW9uIHNjcmlwdHMuIFVzZSBzZWxmIGZvclxyXG4gICAgICAgIC8vIG5vbi13aW5kb3dlZCBjb250ZXh0cy5cclxuICAgICAgICB2YXIgZ2xvYmFsID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHNlbGY7XHJcblxyXG4gICAgICAgIC8vIEdldCB0aGUgYHdpbmRvd2Agb2JqZWN0LCBzYXZlIHRoZSBwcmV2aW91cyBRIGdsb2JhbFxyXG4gICAgICAgIC8vIGFuZCBpbml0aWFsaXplIFEgYXMgYSBnbG9iYWwuXHJcbiAgICAgICAgdmFyIHByZXZpb3VzUSA9IGdsb2JhbC5RO1xyXG4gICAgICAgIGdsb2JhbC5RID0gZGVmaW5pdGlvbigpO1xyXG5cclxuICAgICAgICAvLyBBZGQgYSBub0NvbmZsaWN0IGZ1bmN0aW9uIHNvIFEgY2FuIGJlIHJlbW92ZWQgZnJvbSB0aGVcclxuICAgICAgICAvLyBnbG9iYWwgbmFtZXNwYWNlLlxyXG4gICAgICAgIGdsb2JhbC5RLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGdsb2JhbC5RID0gcHJldmlvdXNRO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9O1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBlbnZpcm9ubWVudCB3YXMgbm90IGFudGljaXBhdGVkIGJ5IFEuIFBsZWFzZSBmaWxlIGEgYnVnLlwiKTtcclxuICAgIH1cclxuXHJcbn0pKGZ1bmN0aW9uICgpIHtcclxuXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG52YXIgaGFzU3RhY2tzID0gZmFsc2U7XHJcbnRyeSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoKTtcclxufSBjYXRjaCAoZSkge1xyXG4gICAgaGFzU3RhY2tzID0gISFlLnN0YWNrO1xyXG59XHJcblxyXG4vLyBBbGwgY29kZSBhZnRlciB0aGlzIHBvaW50IHdpbGwgYmUgZmlsdGVyZWQgZnJvbSBzdGFjayB0cmFjZXMgcmVwb3J0ZWRcclxuLy8gYnkgUS5cclxudmFyIHFTdGFydGluZ0xpbmUgPSBjYXB0dXJlTGluZSgpO1xyXG52YXIgcUZpbGVOYW1lO1xyXG5cclxuLy8gc2hpbXNcclxuXHJcbi8vIHVzZWQgZm9yIGZhbGxiYWNrIGluIFwiYWxsUmVzb2x2ZWRcIlxyXG52YXIgbm9vcCA9IGZ1bmN0aW9uICgpIHt9O1xyXG5cclxuLy8gVXNlIHRoZSBmYXN0ZXN0IHBvc3NpYmxlIG1lYW5zIHRvIGV4ZWN1dGUgYSB0YXNrIGluIGEgZnV0dXJlIHR1cm5cclxuLy8gb2YgdGhlIGV2ZW50IGxvb3AuXHJcbnZhciBuZXh0VGljayA9KGZ1bmN0aW9uICgpIHtcclxuICAgIC8vIGxpbmtlZCBsaXN0IG9mIHRhc2tzIChzaW5nbGUsIHdpdGggaGVhZCBub2RlKVxyXG4gICAgdmFyIGhlYWQgPSB7dGFzazogdm9pZCAwLCBuZXh0OiBudWxsfTtcclxuICAgIHZhciB0YWlsID0gaGVhZDtcclxuICAgIHZhciBmbHVzaGluZyA9IGZhbHNlO1xyXG4gICAgdmFyIHJlcXVlc3RUaWNrID0gdm9pZCAwO1xyXG4gICAgdmFyIGlzTm9kZUpTID0gZmFsc2U7XHJcbiAgICAvLyBxdWV1ZSBmb3IgbGF0ZSB0YXNrcywgdXNlZCBieSB1bmhhbmRsZWQgcmVqZWN0aW9uIHRyYWNraW5nXHJcbiAgICB2YXIgbGF0ZXJRdWV1ZSA9IFtdO1xyXG5cclxuICAgIGZ1bmN0aW9uIGZsdXNoKCkge1xyXG4gICAgICAgIC8qIGpzaGludCBsb29wZnVuYzogdHJ1ZSAqL1xyXG4gICAgICAgIHZhciB0YXNrLCBkb21haW47XHJcblxyXG4gICAgICAgIHdoaWxlIChoZWFkLm5leHQpIHtcclxuICAgICAgICAgICAgaGVhZCA9IGhlYWQubmV4dDtcclxuICAgICAgICAgICAgdGFzayA9IGhlYWQudGFzaztcclxuICAgICAgICAgICAgaGVhZC50YXNrID0gdm9pZCAwO1xyXG4gICAgICAgICAgICBkb21haW4gPSBoZWFkLmRvbWFpbjtcclxuXHJcbiAgICAgICAgICAgIGlmIChkb21haW4pIHtcclxuICAgICAgICAgICAgICAgIGhlYWQuZG9tYWluID0gdm9pZCAwO1xyXG4gICAgICAgICAgICAgICAgZG9tYWluLmVudGVyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcnVuU2luZ2xlKHRhc2ssIGRvbWFpbik7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICB3aGlsZSAobGF0ZXJRdWV1ZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGFzayA9IGxhdGVyUXVldWUucG9wKCk7XHJcbiAgICAgICAgICAgIHJ1blNpbmdsZSh0YXNrKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmx1c2hpbmcgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vIHJ1bnMgYSBzaW5nbGUgZnVuY3Rpb24gaW4gdGhlIGFzeW5jIHF1ZXVlXHJcbiAgICBmdW5jdGlvbiBydW5TaW5nbGUodGFzaywgZG9tYWluKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGFzaygpO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGlmIChpc05vZGVKUykge1xyXG4gICAgICAgICAgICAgICAgLy8gSW4gbm9kZSwgdW5jYXVnaHQgZXhjZXB0aW9ucyBhcmUgY29uc2lkZXJlZCBmYXRhbCBlcnJvcnMuXHJcbiAgICAgICAgICAgICAgICAvLyBSZS10aHJvdyB0aGVtIHN5bmNocm9ub3VzbHkgdG8gaW50ZXJydXB0IGZsdXNoaW5nIVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIEVuc3VyZSBjb250aW51YXRpb24gaWYgdGhlIHVuY2F1Z2h0IGV4Y2VwdGlvbiBpcyBzdXBwcmVzc2VkXHJcbiAgICAgICAgICAgICAgICAvLyBsaXN0ZW5pbmcgXCJ1bmNhdWdodEV4Y2VwdGlvblwiIGV2ZW50cyAoYXMgZG9tYWlucyBkb2VzKS5cclxuICAgICAgICAgICAgICAgIC8vIENvbnRpbnVlIGluIG5leHQgZXZlbnQgdG8gYXZvaWQgdGljayByZWN1cnNpb24uXHJcbiAgICAgICAgICAgICAgICBpZiAoZG9tYWluKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9tYWluLmV4aXQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZmx1c2gsIDApO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRvbWFpbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGRvbWFpbi5lbnRlcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRocm93IGU7XHJcblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gSW4gYnJvd3NlcnMsIHVuY2F1Z2h0IGV4Y2VwdGlvbnMgYXJlIG5vdCBmYXRhbC5cclxuICAgICAgICAgICAgICAgIC8vIFJlLXRocm93IHRoZW0gYXN5bmNocm9ub3VzbHkgdG8gYXZvaWQgc2xvdy1kb3ducy5cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGU7XHJcbiAgICAgICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGRvbWFpbikge1xyXG4gICAgICAgICAgICBkb21haW4uZXhpdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBuZXh0VGljayA9IGZ1bmN0aW9uICh0YXNrKSB7XHJcbiAgICAgICAgdGFpbCA9IHRhaWwubmV4dCA9IHtcclxuICAgICAgICAgICAgdGFzazogdGFzayxcclxuICAgICAgICAgICAgZG9tYWluOiBpc05vZGVKUyAmJiBwcm9jZXNzLmRvbWFpbixcclxuICAgICAgICAgICAgbmV4dDogbnVsbFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGlmICghZmx1c2hpbmcpIHtcclxuICAgICAgICAgICAgZmx1c2hpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICByZXF1ZXN0VGljaygpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgaWYgKHR5cGVvZiBwcm9jZXNzID09PSBcIm9iamVjdFwiICYmXHJcbiAgICAgICAgcHJvY2Vzcy50b1N0cmluZygpID09PSBcIltvYmplY3QgcHJvY2Vzc11cIiAmJiBwcm9jZXNzLm5leHRUaWNrKSB7XHJcbiAgICAgICAgLy8gRW5zdXJlIFEgaXMgaW4gYSByZWFsIE5vZGUgZW52aXJvbm1lbnQsIHdpdGggYSBgcHJvY2Vzcy5uZXh0VGlja2AuXHJcbiAgICAgICAgLy8gVG8gc2VlIHRocm91Z2ggZmFrZSBOb2RlIGVudmlyb25tZW50czpcclxuICAgICAgICAvLyAqIE1vY2hhIHRlc3QgcnVubmVyIC0gZXhwb3NlcyBhIGBwcm9jZXNzYCBnbG9iYWwgd2l0aG91dCBhIGBuZXh0VGlja2BcclxuICAgICAgICAvLyAqIEJyb3dzZXJpZnkgLSBleHBvc2VzIGEgYHByb2Nlc3MubmV4VGlja2AgZnVuY3Rpb24gdGhhdCB1c2VzXHJcbiAgICAgICAgLy8gICBgc2V0VGltZW91dGAuIEluIHRoaXMgY2FzZSBgc2V0SW1tZWRpYXRlYCBpcyBwcmVmZXJyZWQgYmVjYXVzZVxyXG4gICAgICAgIC8vICAgIGl0IGlzIGZhc3Rlci4gQnJvd3NlcmlmeSdzIGBwcm9jZXNzLnRvU3RyaW5nKClgIHlpZWxkc1xyXG4gICAgICAgIC8vICAgXCJbb2JqZWN0IE9iamVjdF1cIiwgd2hpbGUgaW4gYSByZWFsIE5vZGUgZW52aXJvbm1lbnRcclxuICAgICAgICAvLyAgIGBwcm9jZXNzLnRvU3RyaW5nKClgIHlpZWxkcyBcIltvYmplY3QgcHJvY2Vzc11cIi5cclxuICAgICAgICBpc05vZGVKUyA9IHRydWU7XHJcblxyXG4gICAgICAgIHJlcXVlc3RUaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGZsdXNoKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHNldEltbWVkaWF0ZSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgLy8gSW4gSUUxMCwgTm9kZS5qcyAwLjkrLCBvciBodHRwczovL2dpdGh1Yi5jb20vTm9ibGVKUy9zZXRJbW1lZGlhdGVcclxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICByZXF1ZXN0VGljayA9IHNldEltbWVkaWF0ZS5iaW5kKHdpbmRvdywgZmx1c2gpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlcXVlc3RUaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgc2V0SW1tZWRpYXRlKGZsdXNoKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgTWVzc2FnZUNoYW5uZWwgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAvLyBtb2Rlcm4gYnJvd3NlcnNcclxuICAgICAgICAvLyBodHRwOi8vd3d3Lm5vbmJsb2NraW5nLmlvLzIwMTEvMDYvd2luZG93bmV4dHRpY2suaHRtbFxyXG4gICAgICAgIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XHJcbiAgICAgICAgLy8gQXQgbGVhc3QgU2FmYXJpIFZlcnNpb24gNi4wLjUgKDg1MzYuMzAuMSkgaW50ZXJtaXR0ZW50bHkgY2Fubm90IGNyZWF0ZVxyXG4gICAgICAgIC8vIHdvcmtpbmcgbWVzc2FnZSBwb3J0cyB0aGUgZmlyc3QgdGltZSBhIHBhZ2UgbG9hZHMuXHJcbiAgICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJlcXVlc3RUaWNrID0gcmVxdWVzdFBvcnRUaWNrO1xyXG4gICAgICAgICAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGZsdXNoO1xyXG4gICAgICAgICAgICBmbHVzaCgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHJlcXVlc3RQb3J0VGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy8gT3BlcmEgcmVxdWlyZXMgdXMgdG8gcHJvdmlkZSBhIG1lc3NhZ2UgcGF5bG9hZCwgcmVnYXJkbGVzcyBvZlxyXG4gICAgICAgICAgICAvLyB3aGV0aGVyIHdlIHVzZSBpdC5cclxuICAgICAgICAgICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZSgwKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJlcXVlc3RUaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZsdXNoLCAwKTtcclxuICAgICAgICAgICAgcmVxdWVzdFBvcnRUaWNrKCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIG9sZCBicm93c2Vyc1xyXG4gICAgICAgIHJlcXVlc3RUaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZsdXNoLCAwKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLy8gcnVucyBhIHRhc2sgYWZ0ZXIgYWxsIG90aGVyIHRhc2tzIGhhdmUgYmVlbiBydW5cclxuICAgIC8vIHRoaXMgaXMgdXNlZnVsIGZvciB1bmhhbmRsZWQgcmVqZWN0aW9uIHRyYWNraW5nIHRoYXQgbmVlZHMgdG8gaGFwcGVuXHJcbiAgICAvLyBhZnRlciBhbGwgYHRoZW5gZCB0YXNrcyBoYXZlIGJlZW4gcnVuLlxyXG4gICAgbmV4dFRpY2sucnVuQWZ0ZXIgPSBmdW5jdGlvbiAodGFzaykge1xyXG4gICAgICAgIGxhdGVyUXVldWUucHVzaCh0YXNrKTtcclxuICAgICAgICBpZiAoIWZsdXNoaW5nKSB7XHJcbiAgICAgICAgICAgIGZsdXNoaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgcmVxdWVzdFRpY2soKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIG5leHRUaWNrO1xyXG59KSgpO1xyXG5cclxuLy8gQXR0ZW1wdCB0byBtYWtlIGdlbmVyaWNzIHNhZmUgaW4gdGhlIGZhY2Ugb2YgZG93bnN0cmVhbVxyXG4vLyBtb2RpZmljYXRpb25zLlxyXG4vLyBUaGVyZSBpcyBubyBzaXR1YXRpb24gd2hlcmUgdGhpcyBpcyBuZWNlc3NhcnkuXHJcbi8vIElmIHlvdSBuZWVkIGEgc2VjdXJpdHkgZ3VhcmFudGVlLCB0aGVzZSBwcmltb3JkaWFscyBuZWVkIHRvIGJlXHJcbi8vIGRlZXBseSBmcm96ZW4gYW55d2F5LCBhbmQgaWYgeW91IGRvbuKAmXQgbmVlZCBhIHNlY3VyaXR5IGd1YXJhbnRlZSxcclxuLy8gdGhpcyBpcyBqdXN0IHBsYWluIHBhcmFub2lkLlxyXG4vLyBIb3dldmVyLCB0aGlzICoqbWlnaHQqKiBoYXZlIHRoZSBuaWNlIHNpZGUtZWZmZWN0IG9mIHJlZHVjaW5nIHRoZSBzaXplIG9mXHJcbi8vIHRoZSBtaW5pZmllZCBjb2RlIGJ5IHJlZHVjaW5nIHguY2FsbCgpIHRvIG1lcmVseSB4KClcclxuLy8gU2VlIE1hcmsgTWlsbGVy4oCZcyBleHBsYW5hdGlvbiBvZiB3aGF0IHRoaXMgZG9lcy5cclxuLy8gaHR0cDovL3dpa2kuZWNtYXNjcmlwdC5vcmcvZG9rdS5waHA/aWQ9Y29udmVudGlvbnM6c2FmZV9tZXRhX3Byb2dyYW1taW5nXHJcbnZhciBjYWxsID0gRnVuY3Rpb24uY2FsbDtcclxuZnVuY3Rpb24gdW5jdXJyeVRoaXMoZikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gY2FsbC5hcHBseShmLCBhcmd1bWVudHMpO1xyXG4gICAgfTtcclxufVxyXG4vLyBUaGlzIGlzIGVxdWl2YWxlbnQsIGJ1dCBzbG93ZXI6XHJcbi8vIHVuY3VycnlUaGlzID0gRnVuY3Rpb25fYmluZC5iaW5kKEZ1bmN0aW9uX2JpbmQuY2FsbCk7XHJcbi8vIGh0dHA6Ly9qc3BlcmYuY29tL3VuY3Vycnl0aGlzXHJcblxyXG52YXIgYXJyYXlfc2xpY2UgPSB1bmN1cnJ5VGhpcyhBcnJheS5wcm90b3R5cGUuc2xpY2UpO1xyXG5cclxudmFyIGFycmF5X3JlZHVjZSA9IHVuY3VycnlUaGlzKFxyXG4gICAgQXJyYXkucHJvdG90eXBlLnJlZHVjZSB8fCBmdW5jdGlvbiAoY2FsbGJhY2ssIGJhc2lzKSB7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gMCxcclxuICAgICAgICAgICAgbGVuZ3RoID0gdGhpcy5sZW5ndGg7XHJcbiAgICAgICAgLy8gY29uY2VybmluZyB0aGUgaW5pdGlhbCB2YWx1ZSwgaWYgb25lIGlzIG5vdCBwcm92aWRlZFxyXG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgIC8vIHNlZWsgdG8gdGhlIGZpcnN0IHZhbHVlIGluIHRoZSBhcnJheSwgYWNjb3VudGluZ1xyXG4gICAgICAgICAgICAvLyBmb3IgdGhlIHBvc3NpYmlsaXR5IHRoYXQgaXMgaXMgYSBzcGFyc2UgYXJyYXlcclxuICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4IGluIHRoaXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBiYXNpcyA9IHRoaXNbaW5kZXgrK107XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoKytpbmRleCA+PSBsZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gd2hpbGUgKDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyByZWR1Y2VcclxuICAgICAgICBmb3IgKDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgLy8gYWNjb3VudCBmb3IgdGhlIHBvc3NpYmlsaXR5IHRoYXQgdGhlIGFycmF5IGlzIHNwYXJzZVxyXG4gICAgICAgICAgICBpZiAoaW5kZXggaW4gdGhpcykge1xyXG4gICAgICAgICAgICAgICAgYmFzaXMgPSBjYWxsYmFjayhiYXNpcywgdGhpc1tpbmRleF0sIGluZGV4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYmFzaXM7XHJcbiAgICB9XHJcbik7XHJcblxyXG52YXIgYXJyYXlfaW5kZXhPZiA9IHVuY3VycnlUaGlzKFxyXG4gICAgQXJyYXkucHJvdG90eXBlLmluZGV4T2YgfHwgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgLy8gbm90IGEgdmVyeSBnb29kIHNoaW0sIGJ1dCBnb29kIGVub3VnaCBmb3Igb3VyIG9uZSB1c2Ugb2YgaXRcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXNbaV0gPT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICB9XHJcbik7XHJcblxyXG52YXIgYXJyYXlfbWFwID0gdW5jdXJyeVRoaXMoXHJcbiAgICBBcnJheS5wcm90b3R5cGUubWFwIHx8IGZ1bmN0aW9uIChjYWxsYmFjaywgdGhpc3ApIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGNvbGxlY3QgPSBbXTtcclxuICAgICAgICBhcnJheV9yZWR1Y2Uoc2VsZiwgZnVuY3Rpb24gKHVuZGVmaW5lZCwgdmFsdWUsIGluZGV4KSB7XHJcbiAgICAgICAgICAgIGNvbGxlY3QucHVzaChjYWxsYmFjay5jYWxsKHRoaXNwLCB2YWx1ZSwgaW5kZXgsIHNlbGYpKTtcclxuICAgICAgICB9LCB2b2lkIDApO1xyXG4gICAgICAgIHJldHVybiBjb2xsZWN0O1xyXG4gICAgfVxyXG4pO1xyXG5cclxudmFyIG9iamVjdF9jcmVhdGUgPSBPYmplY3QuY3JlYXRlIHx8IGZ1bmN0aW9uIChwcm90b3R5cGUpIHtcclxuICAgIGZ1bmN0aW9uIFR5cGUoKSB7IH1cclxuICAgIFR5cGUucHJvdG90eXBlID0gcHJvdG90eXBlO1xyXG4gICAgcmV0dXJuIG5ldyBUeXBlKCk7XHJcbn07XHJcblxyXG52YXIgb2JqZWN0X2RlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5IHx8IGZ1bmN0aW9uIChvYmosIHByb3AsIGRlc2NyaXB0b3IpIHtcclxuICAgIG9ialtwcm9wXSA9IGRlc2NyaXB0b3IudmFsdWU7XHJcbiAgICByZXR1cm4gb2JqO1xyXG59O1xyXG5cclxudmFyIG9iamVjdF9oYXNPd25Qcm9wZXJ0eSA9IHVuY3VycnlUaGlzKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkpO1xyXG5cclxudmFyIG9iamVjdF9rZXlzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24gKG9iamVjdCkge1xyXG4gICAgdmFyIGtleXMgPSBbXTtcclxuICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcclxuICAgICAgICBpZiAob2JqZWN0X2hhc093blByb3BlcnR5KG9iamVjdCwga2V5KSkge1xyXG4gICAgICAgICAgICBrZXlzLnB1c2goa2V5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4ga2V5cztcclxufTtcclxuXHJcbnZhciBvYmplY3RfdG9TdHJpbmcgPSB1bmN1cnJ5VGhpcyhPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKTtcclxuXHJcbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdmFsdWUgPT09IE9iamVjdCh2YWx1ZSk7XHJcbn1cclxuXHJcbi8vIGdlbmVyYXRvciByZWxhdGVkIHNoaW1zXHJcblxyXG4vLyBGSVhNRTogUmVtb3ZlIHRoaXMgZnVuY3Rpb24gb25jZSBFUzYgZ2VuZXJhdG9ycyBhcmUgaW4gU3BpZGVyTW9ua2V5LlxyXG5mdW5jdGlvbiBpc1N0b3BJdGVyYXRpb24oZXhjZXB0aW9uKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIG9iamVjdF90b1N0cmluZyhleGNlcHRpb24pID09PSBcIltvYmplY3QgU3RvcEl0ZXJhdGlvbl1cIiB8fFxyXG4gICAgICAgIGV4Y2VwdGlvbiBpbnN0YW5jZW9mIFFSZXR1cm5WYWx1ZVxyXG4gICAgKTtcclxufVxyXG5cclxuLy8gRklYTUU6IFJlbW92ZSB0aGlzIGhlbHBlciBhbmQgUS5yZXR1cm4gb25jZSBFUzYgZ2VuZXJhdG9ycyBhcmUgaW5cclxuLy8gU3BpZGVyTW9ua2V5LlxyXG52YXIgUVJldHVyblZhbHVlO1xyXG5pZiAodHlwZW9mIFJldHVyblZhbHVlICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICBRUmV0dXJuVmFsdWUgPSBSZXR1cm5WYWx1ZTtcclxufSBlbHNlIHtcclxuICAgIFFSZXR1cm5WYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcclxuICAgIH07XHJcbn1cclxuXHJcbi8vIGxvbmcgc3RhY2sgdHJhY2VzXHJcblxyXG52YXIgU1RBQ0tfSlVNUF9TRVBBUkFUT1IgPSBcIkZyb20gcHJldmlvdXMgZXZlbnQ6XCI7XHJcblxyXG5mdW5jdGlvbiBtYWtlU3RhY2tUcmFjZUxvbmcoZXJyb3IsIHByb21pc2UpIHtcclxuICAgIC8vIElmIHBvc3NpYmxlLCB0cmFuc2Zvcm0gdGhlIGVycm9yIHN0YWNrIHRyYWNlIGJ5IHJlbW92aW5nIE5vZGUgYW5kIFFcclxuICAgIC8vIGNydWZ0LCB0aGVuIGNvbmNhdGVuYXRpbmcgd2l0aCB0aGUgc3RhY2sgdHJhY2Ugb2YgYHByb21pc2VgLiBTZWUgIzU3LlxyXG4gICAgaWYgKGhhc1N0YWNrcyAmJlxyXG4gICAgICAgIHByb21pc2Uuc3RhY2sgJiZcclxuICAgICAgICB0eXBlb2YgZXJyb3IgPT09IFwib2JqZWN0XCIgJiZcclxuICAgICAgICBlcnJvciAhPT0gbnVsbCAmJlxyXG4gICAgICAgIGVycm9yLnN0YWNrXHJcbiAgICApIHtcclxuICAgICAgICB2YXIgc3RhY2tzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgcCA9IHByb21pc2U7ICEhcDsgcCA9IHAuc291cmNlKSB7XHJcbiAgICAgICAgICAgIGlmIChwLnN0YWNrICYmICghZXJyb3IuX19taW5pbXVtU3RhY2tDb3VudGVyX18gfHwgZXJyb3IuX19taW5pbXVtU3RhY2tDb3VudGVyX18gPiBwLnN0YWNrQ291bnRlcikpIHtcclxuICAgICAgICAgICAgICAgIG9iamVjdF9kZWZpbmVQcm9wZXJ0eShlcnJvciwgXCJfX21pbmltdW1TdGFja0NvdW50ZXJfX1wiLCB7dmFsdWU6IHAuc3RhY2tDb3VudGVyLCBjb25maWd1cmFibGU6IHRydWV9KTtcclxuICAgICAgICAgICAgICAgIHN0YWNrcy51bnNoaWZ0KHAuc3RhY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN0YWNrcy51bnNoaWZ0KGVycm9yLnN0YWNrKTtcclxuXHJcbiAgICAgICAgdmFyIGNvbmNhdGVkU3RhY2tzID0gc3RhY2tzLmpvaW4oXCJcXG5cIiArIFNUQUNLX0pVTVBfU0VQQVJBVE9SICsgXCJcXG5cIik7XHJcbiAgICAgICAgdmFyIHN0YWNrID0gZmlsdGVyU3RhY2tTdHJpbmcoY29uY2F0ZWRTdGFja3MpO1xyXG4gICAgICAgIG9iamVjdF9kZWZpbmVQcm9wZXJ0eShlcnJvciwgXCJzdGFja1wiLCB7dmFsdWU6IHN0YWNrLCBjb25maWd1cmFibGU6IHRydWV9KTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZmlsdGVyU3RhY2tTdHJpbmcoc3RhY2tTdHJpbmcpIHtcclxuICAgIHZhciBsaW5lcyA9IHN0YWNrU3RyaW5nLnNwbGl0KFwiXFxuXCIpO1xyXG4gICAgdmFyIGRlc2lyZWRMaW5lcyA9IFtdO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgIHZhciBsaW5lID0gbGluZXNbaV07XHJcblxyXG4gICAgICAgIGlmICghaXNJbnRlcm5hbEZyYW1lKGxpbmUpICYmICFpc05vZGVGcmFtZShsaW5lKSAmJiBsaW5lKSB7XHJcbiAgICAgICAgICAgIGRlc2lyZWRMaW5lcy5wdXNoKGxpbmUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBkZXNpcmVkTGluZXMuam9pbihcIlxcblwiKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNOb2RlRnJhbWUoc3RhY2tMaW5lKSB7XHJcbiAgICByZXR1cm4gc3RhY2tMaW5lLmluZGV4T2YoXCIobW9kdWxlLmpzOlwiKSAhPT0gLTEgfHxcclxuICAgICAgICAgICBzdGFja0xpbmUuaW5kZXhPZihcIihub2RlLmpzOlwiKSAhPT0gLTE7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEZpbGVOYW1lQW5kTGluZU51bWJlcihzdGFja0xpbmUpIHtcclxuICAgIC8vIE5hbWVkIGZ1bmN0aW9uczogXCJhdCBmdW5jdGlvbk5hbWUgKGZpbGVuYW1lOmxpbmVOdW1iZXI6Y29sdW1uTnVtYmVyKVwiXHJcbiAgICAvLyBJbiBJRTEwIGZ1bmN0aW9uIG5hbWUgY2FuIGhhdmUgc3BhY2VzIChcIkFub255bW91cyBmdW5jdGlvblwiKSBPX29cclxuICAgIHZhciBhdHRlbXB0MSA9IC9hdCAuKyBcXCgoLispOihcXGQrKTooPzpcXGQrKVxcKSQvLmV4ZWMoc3RhY2tMaW5lKTtcclxuICAgIGlmIChhdHRlbXB0MSkge1xyXG4gICAgICAgIHJldHVybiBbYXR0ZW1wdDFbMV0sIE51bWJlcihhdHRlbXB0MVsyXSldO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFub255bW91cyBmdW5jdGlvbnM6IFwiYXQgZmlsZW5hbWU6bGluZU51bWJlcjpjb2x1bW5OdW1iZXJcIlxyXG4gICAgdmFyIGF0dGVtcHQyID0gL2F0IChbXiBdKyk6KFxcZCspOig/OlxcZCspJC8uZXhlYyhzdGFja0xpbmUpO1xyXG4gICAgaWYgKGF0dGVtcHQyKSB7XHJcbiAgICAgICAgcmV0dXJuIFthdHRlbXB0MlsxXSwgTnVtYmVyKGF0dGVtcHQyWzJdKV07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRmlyZWZveCBzdHlsZTogXCJmdW5jdGlvbkBmaWxlbmFtZTpsaW5lTnVtYmVyIG9yIEBmaWxlbmFtZTpsaW5lTnVtYmVyXCJcclxuICAgIHZhciBhdHRlbXB0MyA9IC8uKkAoLispOihcXGQrKSQvLmV4ZWMoc3RhY2tMaW5lKTtcclxuICAgIGlmIChhdHRlbXB0Mykge1xyXG4gICAgICAgIHJldHVybiBbYXR0ZW1wdDNbMV0sIE51bWJlcihhdHRlbXB0M1syXSldO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBpc0ludGVybmFsRnJhbWUoc3RhY2tMaW5lKSB7XHJcbiAgICB2YXIgZmlsZU5hbWVBbmRMaW5lTnVtYmVyID0gZ2V0RmlsZU5hbWVBbmRMaW5lTnVtYmVyKHN0YWNrTGluZSk7XHJcblxyXG4gICAgaWYgKCFmaWxlTmFtZUFuZExpbmVOdW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGZpbGVOYW1lID0gZmlsZU5hbWVBbmRMaW5lTnVtYmVyWzBdO1xyXG4gICAgdmFyIGxpbmVOdW1iZXIgPSBmaWxlTmFtZUFuZExpbmVOdW1iZXJbMV07XHJcblxyXG4gICAgcmV0dXJuIGZpbGVOYW1lID09PSBxRmlsZU5hbWUgJiZcclxuICAgICAgICBsaW5lTnVtYmVyID49IHFTdGFydGluZ0xpbmUgJiZcclxuICAgICAgICBsaW5lTnVtYmVyIDw9IHFFbmRpbmdMaW5lO1xyXG59XHJcblxyXG4vLyBkaXNjb3ZlciBvd24gZmlsZSBuYW1lIGFuZCBsaW5lIG51bWJlciByYW5nZSBmb3IgZmlsdGVyaW5nIHN0YWNrXHJcbi8vIHRyYWNlc1xyXG5mdW5jdGlvbiBjYXB0dXJlTGluZSgpIHtcclxuICAgIGlmICghaGFzU3RhY2tzKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgdmFyIGxpbmVzID0gZS5zdGFjay5zcGxpdChcIlxcblwiKTtcclxuICAgICAgICB2YXIgZmlyc3RMaW5lID0gbGluZXNbMF0uaW5kZXhPZihcIkBcIikgPiAwID8gbGluZXNbMV0gOiBsaW5lc1syXTtcclxuICAgICAgICB2YXIgZmlsZU5hbWVBbmRMaW5lTnVtYmVyID0gZ2V0RmlsZU5hbWVBbmRMaW5lTnVtYmVyKGZpcnN0TGluZSk7XHJcbiAgICAgICAgaWYgKCFmaWxlTmFtZUFuZExpbmVOdW1iZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcUZpbGVOYW1lID0gZmlsZU5hbWVBbmRMaW5lTnVtYmVyWzBdO1xyXG4gICAgICAgIHJldHVybiBmaWxlTmFtZUFuZExpbmVOdW1iZXJbMV07XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRlcHJlY2F0ZShjYWxsYmFjaywgbmFtZSwgYWx0ZXJuYXRpdmUpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSBcInVuZGVmaW5lZFwiICYmXHJcbiAgICAgICAgICAgIHR5cGVvZiBjb25zb2xlLndhcm4gPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4obmFtZSArIFwiIGlzIGRlcHJlY2F0ZWQsIHVzZSBcIiArIGFsdGVybmF0aXZlICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIFwiIGluc3RlYWQuXCIsIG5ldyBFcnJvcihcIlwiKS5zdGFjayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjYWxsYmFjay5hcHBseShjYWxsYmFjaywgYXJndW1lbnRzKTtcclxuICAgIH07XHJcbn1cclxuXHJcbi8vIGVuZCBvZiBzaGltc1xyXG4vLyBiZWdpbm5pbmcgb2YgcmVhbCB3b3JrXHJcblxyXG4vKipcclxuICogQ29uc3RydWN0cyBhIHByb21pc2UgZm9yIGFuIGltbWVkaWF0ZSByZWZlcmVuY2UsIHBhc3NlcyBwcm9taXNlcyB0aHJvdWdoLCBvclxyXG4gKiBjb2VyY2VzIHByb21pc2VzIGZyb20gZGlmZmVyZW50IHN5c3RlbXMuXHJcbiAqIEBwYXJhbSB2YWx1ZSBpbW1lZGlhdGUgcmVmZXJlbmNlIG9yIHByb21pc2VcclxuICovXHJcbmZ1bmN0aW9uIFEodmFsdWUpIHtcclxuICAgIC8vIElmIHRoZSBvYmplY3QgaXMgYWxyZWFkeSBhIFByb21pc2UsIHJldHVybiBpdCBkaXJlY3RseS4gIFRoaXMgZW5hYmxlc1xyXG4gICAgLy8gdGhlIHJlc29sdmUgZnVuY3Rpb24gdG8gYm90aCBiZSB1c2VkIHRvIGNyZWF0ZWQgcmVmZXJlbmNlcyBmcm9tIG9iamVjdHMsXHJcbiAgICAvLyBidXQgdG8gdG9sZXJhYmx5IGNvZXJjZSBub24tcHJvbWlzZXMgdG8gcHJvbWlzZXMuXHJcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGFzc2ltaWxhdGUgdGhlbmFibGVzXHJcbiAgICBpZiAoaXNQcm9taXNlQWxpa2UodmFsdWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvZXJjZSh2YWx1ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBmdWxmaWxsKHZhbHVlKTtcclxuICAgIH1cclxufVxyXG5RLnJlc29sdmUgPSBRO1xyXG5cclxuLyoqXHJcbiAqIFBlcmZvcm1zIGEgdGFzayBpbiBhIGZ1dHVyZSB0dXJuIG9mIHRoZSBldmVudCBsb29wLlxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB0YXNrXHJcbiAqL1xyXG5RLm5leHRUaWNrID0gbmV4dFRpY2s7XHJcblxyXG4vKipcclxuICogQ29udHJvbHMgd2hldGhlciBvciBub3QgbG9uZyBzdGFjayB0cmFjZXMgd2lsbCBiZSBvblxyXG4gKi9cclxuUS5sb25nU3RhY2tTdXBwb3J0ID0gZmFsc2U7XHJcblxyXG4vKipcclxuICogVGhlIGNvdW50ZXIgaXMgdXNlZCB0byBkZXRlcm1pbmUgdGhlIHN0b3BwaW5nIHBvaW50IGZvciBidWlsZGluZ1xyXG4gKiBsb25nIHN0YWNrIHRyYWNlcy4gSW4gbWFrZVN0YWNrVHJhY2VMb25nIHdlIHdhbGsgYmFja3dhcmRzIHRocm91Z2hcclxuICogdGhlIGxpbmtlZCBsaXN0IG9mIHByb21pc2VzLCBvbmx5IHN0YWNrcyB3aGljaCB3ZXJlIGNyZWF0ZWQgYmVmb3JlXHJcbiAqIHRoZSByZWplY3Rpb24gYXJlIGNvbmNhdGVuYXRlZC5cclxuICovXHJcbnZhciBsb25nU3RhY2tDb3VudGVyID0gMTtcclxuXHJcbi8vIGVuYWJsZSBsb25nIHN0YWNrcyBpZiBRX0RFQlVHIGlzIHNldFxyXG5pZiAodHlwZW9mIHByb2Nlc3MgPT09IFwib2JqZWN0XCIgJiYgcHJvY2VzcyAmJiBwcm9jZXNzLmVudiAmJiBwcm9jZXNzLmVudi5RX0RFQlVHKSB7XHJcbiAgICBRLmxvbmdTdGFja1N1cHBvcnQgPSB0cnVlO1xyXG59XHJcblxyXG4vKipcclxuICogQ29uc3RydWN0cyBhIHtwcm9taXNlLCByZXNvbHZlLCByZWplY3R9IG9iamVjdC5cclxuICpcclxuICogYHJlc29sdmVgIGlzIGEgY2FsbGJhY2sgdG8gaW52b2tlIHdpdGggYSBtb3JlIHJlc29sdmVkIHZhbHVlIGZvciB0aGVcclxuICogcHJvbWlzZS4gVG8gZnVsZmlsbCB0aGUgcHJvbWlzZSwgaW52b2tlIGByZXNvbHZlYCB3aXRoIGFueSB2YWx1ZSB0aGF0IGlzXHJcbiAqIG5vdCBhIHRoZW5hYmxlLiBUbyByZWplY3QgdGhlIHByb21pc2UsIGludm9rZSBgcmVzb2x2ZWAgd2l0aCBhIHJlamVjdGVkXHJcbiAqIHRoZW5hYmxlLCBvciBpbnZva2UgYHJlamVjdGAgd2l0aCB0aGUgcmVhc29uIGRpcmVjdGx5LiBUbyByZXNvbHZlIHRoZVxyXG4gKiBwcm9taXNlIHRvIGFub3RoZXIgdGhlbmFibGUsIHRodXMgcHV0dGluZyBpdCBpbiB0aGUgc2FtZSBzdGF0ZSwgaW52b2tlXHJcbiAqIGByZXNvbHZlYCB3aXRoIHRoYXQgb3RoZXIgdGhlbmFibGUuXHJcbiAqL1xyXG5RLmRlZmVyID0gZGVmZXI7XHJcbmZ1bmN0aW9uIGRlZmVyKCkge1xyXG4gICAgLy8gaWYgXCJtZXNzYWdlc1wiIGlzIGFuIFwiQXJyYXlcIiwgdGhhdCBpbmRpY2F0ZXMgdGhhdCB0aGUgcHJvbWlzZSBoYXMgbm90IHlldFxyXG4gICAgLy8gYmVlbiByZXNvbHZlZC4gIElmIGl0IGlzIFwidW5kZWZpbmVkXCIsIGl0IGhhcyBiZWVuIHJlc29sdmVkLiAgRWFjaFxyXG4gICAgLy8gZWxlbWVudCBvZiB0aGUgbWVzc2FnZXMgYXJyYXkgaXMgaXRzZWxmIGFuIGFycmF5IG9mIGNvbXBsZXRlIGFyZ3VtZW50cyB0b1xyXG4gICAgLy8gZm9yd2FyZCB0byB0aGUgcmVzb2x2ZWQgcHJvbWlzZS4gIFdlIGNvZXJjZSB0aGUgcmVzb2x1dGlvbiB2YWx1ZSB0byBhXHJcbiAgICAvLyBwcm9taXNlIHVzaW5nIHRoZSBgcmVzb2x2ZWAgZnVuY3Rpb24gYmVjYXVzZSBpdCBoYW5kbGVzIGJvdGggZnVsbHlcclxuICAgIC8vIG5vbi10aGVuYWJsZSB2YWx1ZXMgYW5kIG90aGVyIHRoZW5hYmxlcyBncmFjZWZ1bGx5LlxyXG4gICAgdmFyIG1lc3NhZ2VzID0gW10sIHByb2dyZXNzTGlzdGVuZXJzID0gW10sIHJlc29sdmVkUHJvbWlzZTtcclxuXHJcbiAgICB2YXIgZGVmZXJyZWQgPSBvYmplY3RfY3JlYXRlKGRlZmVyLnByb3RvdHlwZSk7XHJcbiAgICB2YXIgcHJvbWlzZSA9IG9iamVjdF9jcmVhdGUoUHJvbWlzZS5wcm90b3R5cGUpO1xyXG5cclxuICAgIHByb21pc2UucHJvbWlzZURpc3BhdGNoID0gZnVuY3Rpb24gKHJlc29sdmUsIG9wLCBvcGVyYW5kcykge1xyXG4gICAgICAgIHZhciBhcmdzID0gYXJyYXlfc2xpY2UoYXJndW1lbnRzKTtcclxuICAgICAgICBpZiAobWVzc2FnZXMpIHtcclxuICAgICAgICAgICAgbWVzc2FnZXMucHVzaChhcmdzKTtcclxuICAgICAgICAgICAgaWYgKG9wID09PSBcIndoZW5cIiAmJiBvcGVyYW5kc1sxXSkgeyAvLyBwcm9ncmVzcyBvcGVyYW5kXHJcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0xpc3RlbmVycy5wdXNoKG9wZXJhbmRzWzFdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIFEubmV4dFRpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZWRQcm9taXNlLnByb21pc2VEaXNwYXRjaC5hcHBseShyZXNvbHZlZFByb21pc2UsIGFyZ3MpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFhYWCBkZXByZWNhdGVkXHJcbiAgICBwcm9taXNlLnZhbHVlT2YgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKG1lc3NhZ2VzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbmVhcmVyVmFsdWUgPSBuZWFyZXIocmVzb2x2ZWRQcm9taXNlKTtcclxuICAgICAgICBpZiAoaXNQcm9taXNlKG5lYXJlclZhbHVlKSkge1xyXG4gICAgICAgICAgICByZXNvbHZlZFByb21pc2UgPSBuZWFyZXJWYWx1ZTsgLy8gc2hvcnRlbiBjaGFpblxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmVhcmVyVmFsdWU7XHJcbiAgICB9O1xyXG5cclxuICAgIHByb21pc2UuaW5zcGVjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIXJlc29sdmVkUHJvbWlzZSkge1xyXG4gICAgICAgICAgICByZXR1cm4geyBzdGF0ZTogXCJwZW5kaW5nXCIgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc29sdmVkUHJvbWlzZS5pbnNwZWN0KCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChRLmxvbmdTdGFja1N1cHBvcnQgJiYgaGFzU3RhY2tzKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAvLyBOT1RFOiBkb24ndCB0cnkgdG8gdXNlIGBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZWAgb3IgdHJhbnNmZXIgdGhlXHJcbiAgICAgICAgICAgIC8vIGFjY2Vzc29yIGFyb3VuZDsgdGhhdCBjYXVzZXMgbWVtb3J5IGxlYWtzIGFzIHBlciBHSC0xMTEuIEp1c3RcclxuICAgICAgICAgICAgLy8gcmVpZnkgdGhlIHN0YWNrIHRyYWNlIGFzIGEgc3RyaW5nIEFTQVAuXHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIEF0IHRoZSBzYW1lIHRpbWUsIGN1dCBvZmYgdGhlIGZpcnN0IGxpbmU7IGl0J3MgYWx3YXlzIGp1c3RcclxuICAgICAgICAgICAgLy8gXCJbb2JqZWN0IFByb21pc2VdXFxuXCIsIGFzIHBlciB0aGUgYHRvU3RyaW5nYC5cclxuICAgICAgICAgICAgcHJvbWlzZS5zdGFjayA9IGUuc3RhY2suc3Vic3RyaW5nKGUuc3RhY2suaW5kZXhPZihcIlxcblwiKSArIDEpO1xyXG4gICAgICAgICAgICBwcm9taXNlLnN0YWNrQ291bnRlciA9IGxvbmdTdGFja0NvdW50ZXIrKztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTk9URTogd2UgZG8gdGhlIGNoZWNrcyBmb3IgYHJlc29sdmVkUHJvbWlzZWAgaW4gZWFjaCBtZXRob2QsIGluc3RlYWQgb2ZcclxuICAgIC8vIGNvbnNvbGlkYXRpbmcgdGhlbSBpbnRvIGBiZWNvbWVgLCBzaW5jZSBvdGhlcndpc2Ugd2UnZCBjcmVhdGUgbmV3XHJcbiAgICAvLyBwcm9taXNlcyB3aXRoIHRoZSBsaW5lcyBgYmVjb21lKHdoYXRldmVyKHZhbHVlKSlgLiBTZWUgZS5nLiBHSC0yNTIuXHJcblxyXG4gICAgZnVuY3Rpb24gYmVjb21lKG5ld1Byb21pc2UpIHtcclxuICAgICAgICByZXNvbHZlZFByb21pc2UgPSBuZXdQcm9taXNlO1xyXG5cclxuICAgICAgICBpZiAoUS5sb25nU3RhY2tTdXBwb3J0ICYmIGhhc1N0YWNrcykge1xyXG4gICAgICAgICAgICAvLyBPbmx5IGhvbGQgYSByZWZlcmVuY2UgdG8gdGhlIG5ldyBwcm9taXNlIGlmIGxvbmcgc3RhY2tzXHJcbiAgICAgICAgICAgIC8vIGFyZSBlbmFibGVkIHRvIHJlZHVjZSBtZW1vcnkgdXNhZ2VcclxuICAgICAgICAgICAgcHJvbWlzZS5zb3VyY2UgPSBuZXdQcm9taXNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXJyYXlfcmVkdWNlKG1lc3NhZ2VzLCBmdW5jdGlvbiAodW5kZWZpbmVkLCBtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgIFEubmV4dFRpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgbmV3UHJvbWlzZS5wcm9taXNlRGlzcGF0Y2guYXBwbHkobmV3UHJvbWlzZSwgbWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sIHZvaWQgMCk7XHJcblxyXG4gICAgICAgIG1lc3NhZ2VzID0gdm9pZCAwO1xyXG4gICAgICAgIHByb2dyZXNzTGlzdGVuZXJzID0gdm9pZCAwO1xyXG4gICAgfVxyXG5cclxuICAgIGRlZmVycmVkLnByb21pc2UgPSBwcm9taXNlO1xyXG4gICAgZGVmZXJyZWQucmVzb2x2ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIGlmIChyZXNvbHZlZFByb21pc2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYmVjb21lKFEodmFsdWUpKTtcclxuICAgIH07XHJcblxyXG4gICAgZGVmZXJyZWQuZnVsZmlsbCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIGlmIChyZXNvbHZlZFByb21pc2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYmVjb21lKGZ1bGZpbGwodmFsdWUpKTtcclxuICAgIH07XHJcbiAgICBkZWZlcnJlZC5yZWplY3QgPSBmdW5jdGlvbiAocmVhc29uKSB7XHJcbiAgICAgICAgaWYgKHJlc29sdmVkUHJvbWlzZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBiZWNvbWUocmVqZWN0KHJlYXNvbikpO1xyXG4gICAgfTtcclxuICAgIGRlZmVycmVkLm5vdGlmeSA9IGZ1bmN0aW9uIChwcm9ncmVzcykge1xyXG4gICAgICAgIGlmIChyZXNvbHZlZFByb21pc2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXJyYXlfcmVkdWNlKHByb2dyZXNzTGlzdGVuZXJzLCBmdW5jdGlvbiAodW5kZWZpbmVkLCBwcm9ncmVzc0xpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIFEubmV4dFRpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NMaXN0ZW5lcihwcm9ncmVzcyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sIHZvaWQgMCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBkZWZlcnJlZDtcclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBOb2RlLXN0eWxlIGNhbGxiYWNrIHRoYXQgd2lsbCByZXNvbHZlIG9yIHJlamVjdCB0aGUgZGVmZXJyZWRcclxuICogcHJvbWlzZS5cclxuICogQHJldHVybnMgYSBub2RlYmFja1xyXG4gKi9cclxuZGVmZXIucHJvdG90eXBlLm1ha2VOb2RlUmVzb2x2ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGVycm9yLCB2YWx1ZSkge1xyXG4gICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICBzZWxmLnJlamVjdChlcnJvcik7XHJcbiAgICAgICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMikge1xyXG4gICAgICAgICAgICBzZWxmLnJlc29sdmUoYXJyYXlfc2xpY2UoYXJndW1lbnRzLCAxKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2VsZi5yZXNvbHZlKHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSByZXNvbHZlciB7RnVuY3Rpb259IGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIG5vdGhpbmcgYW5kIGFjY2VwdHNcclxuICogdGhlIHJlc29sdmUsIHJlamVjdCwgYW5kIG5vdGlmeSBmdW5jdGlvbnMgZm9yIGEgZGVmZXJyZWQuXHJcbiAqIEByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IG1heSBiZSByZXNvbHZlZCB3aXRoIHRoZSBnaXZlbiByZXNvbHZlIGFuZCByZWplY3RcclxuICogZnVuY3Rpb25zLCBvciByZWplY3RlZCBieSBhIHRocm93biBleGNlcHRpb24gaW4gcmVzb2x2ZXJcclxuICovXHJcblEuUHJvbWlzZSA9IHByb21pc2U7IC8vIEVTNlxyXG5RLnByb21pc2UgPSBwcm9taXNlO1xyXG5mdW5jdGlvbiBwcm9taXNlKHJlc29sdmVyKSB7XHJcbiAgICBpZiAodHlwZW9mIHJlc29sdmVyICE9PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwicmVzb2x2ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uLlwiKTtcclxuICAgIH1cclxuICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHJlc29sdmVyKGRlZmVycmVkLnJlc29sdmUsIGRlZmVycmVkLnJlamVjdCwgZGVmZXJyZWQubm90aWZ5KTtcclxuICAgIH0gY2F0Y2ggKHJlYXNvbikge1xyXG4gICAgICAgIGRlZmVycmVkLnJlamVjdChyZWFzb24pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbn1cclxuXHJcbnByb21pc2UucmFjZSA9IHJhY2U7IC8vIEVTNlxyXG5wcm9taXNlLmFsbCA9IGFsbDsgLy8gRVM2XHJcbnByb21pc2UucmVqZWN0ID0gcmVqZWN0OyAvLyBFUzZcclxucHJvbWlzZS5yZXNvbHZlID0gUTsgLy8gRVM2XHJcblxyXG4vLyBYWFggZXhwZXJpbWVudGFsLiAgVGhpcyBtZXRob2QgaXMgYSB3YXkgdG8gZGVub3RlIHRoYXQgYSBsb2NhbCB2YWx1ZSBpc1xyXG4vLyBzZXJpYWxpemFibGUgYW5kIHNob3VsZCBiZSBpbW1lZGlhdGVseSBkaXNwYXRjaGVkIHRvIGEgcmVtb3RlIHVwb24gcmVxdWVzdCxcclxuLy8gaW5zdGVhZCBvZiBwYXNzaW5nIGEgcmVmZXJlbmNlLlxyXG5RLnBhc3NCeUNvcHkgPSBmdW5jdGlvbiAob2JqZWN0KSB7XHJcbiAgICAvL2ZyZWV6ZShvYmplY3QpO1xyXG4gICAgLy9wYXNzQnlDb3BpZXMuc2V0KG9iamVjdCwgdHJ1ZSk7XHJcbiAgICByZXR1cm4gb2JqZWN0O1xyXG59O1xyXG5cclxuUHJvbWlzZS5wcm90b3R5cGUucGFzc0J5Q29weSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vZnJlZXplKG9iamVjdCk7XHJcbiAgICAvL3Bhc3NCeUNvcGllcy5zZXQob2JqZWN0LCB0cnVlKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIElmIHR3byBwcm9taXNlcyBldmVudHVhbGx5IGZ1bGZpbGwgdG8gdGhlIHNhbWUgdmFsdWUsIHByb21pc2VzIHRoYXQgdmFsdWUsXHJcbiAqIGJ1dCBvdGhlcndpc2UgcmVqZWN0cy5cclxuICogQHBhcmFtIHgge0FueSp9XHJcbiAqIEBwYXJhbSB5IHtBbnkqfVxyXG4gKiBAcmV0dXJucyB7QW55Kn0gYSBwcm9taXNlIGZvciB4IGFuZCB5IGlmIHRoZXkgYXJlIHRoZSBzYW1lLCBidXQgYSByZWplY3Rpb25cclxuICogb3RoZXJ3aXNlLlxyXG4gKlxyXG4gKi9cclxuUS5qb2luID0gZnVuY3Rpb24gKHgsIHkpIHtcclxuICAgIHJldHVybiBRKHgpLmpvaW4oeSk7XHJcbn07XHJcblxyXG5Qcm9taXNlLnByb3RvdHlwZS5qb2luID0gZnVuY3Rpb24gKHRoYXQpIHtcclxuICAgIHJldHVybiBRKFt0aGlzLCB0aGF0XSkuc3ByZWFkKGZ1bmN0aW9uICh4LCB5KSB7XHJcbiAgICAgICAgaWYgKHggPT09IHkpIHtcclxuICAgICAgICAgICAgLy8gVE9ETzogXCI9PT1cIiBzaG91bGQgYmUgT2JqZWN0LmlzIG9yIGVxdWl2XHJcbiAgICAgICAgICAgIHJldHVybiB4O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlEgY2FuJ3Qgam9pbjogbm90IHRoZSBzYW1lOiBcIiArIHggKyBcIiBcIiArIHkpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgYSBwcm9taXNlIGZvciB0aGUgZmlyc3Qgb2YgYW4gYXJyYXkgb2YgcHJvbWlzZXMgdG8gYmVjb21lIHNldHRsZWQuXHJcbiAqIEBwYXJhbSBhbnN3ZXJzIHtBcnJheVtBbnkqXX0gcHJvbWlzZXMgdG8gcmFjZVxyXG4gKiBAcmV0dXJucyB7QW55Kn0gdGhlIGZpcnN0IHByb21pc2UgdG8gYmUgc2V0dGxlZFxyXG4gKi9cclxuUS5yYWNlID0gcmFjZTtcclxuZnVuY3Rpb24gcmFjZShhbnN3ZXJQcykge1xyXG4gICAgcmV0dXJuIHByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIC8vIFN3aXRjaCB0byB0aGlzIG9uY2Ugd2UgY2FuIGFzc3VtZSBhdCBsZWFzdCBFUzVcclxuICAgICAgICAvLyBhbnN3ZXJQcy5mb3JFYWNoKGZ1bmN0aW9uIChhbnN3ZXJQKSB7XHJcbiAgICAgICAgLy8gICAgIFEoYW5zd2VyUCkudGhlbihyZXNvbHZlLCByZWplY3QpO1xyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgIC8vIFVzZSB0aGlzIGluIHRoZSBtZWFudGltZVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhbnN3ZXJQcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICBRKGFuc3dlclBzW2ldKS50aGVuKHJlc29sdmUsIHJlamVjdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcblByb21pc2UucHJvdG90eXBlLnJhY2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy50aGVuKFEucmFjZSk7XHJcbn07XHJcblxyXG4vKipcclxuICogQ29uc3RydWN0cyBhIFByb21pc2Ugd2l0aCBhIHByb21pc2UgZGVzY3JpcHRvciBvYmplY3QgYW5kIG9wdGlvbmFsIGZhbGxiYWNrXHJcbiAqIGZ1bmN0aW9uLiAgVGhlIGRlc2NyaXB0b3IgY29udGFpbnMgbWV0aG9kcyBsaWtlIHdoZW4ocmVqZWN0ZWQpLCBnZXQobmFtZSksXHJcbiAqIHNldChuYW1lLCB2YWx1ZSksIHBvc3QobmFtZSwgYXJncyksIGFuZCBkZWxldGUobmFtZSksIHdoaWNoIGFsbFxyXG4gKiByZXR1cm4gZWl0aGVyIGEgdmFsdWUsIGEgcHJvbWlzZSBmb3IgYSB2YWx1ZSwgb3IgYSByZWplY3Rpb24uICBUaGUgZmFsbGJhY2tcclxuICogYWNjZXB0cyB0aGUgb3BlcmF0aW9uIG5hbWUsIGEgcmVzb2x2ZXIsIGFuZCBhbnkgZnVydGhlciBhcmd1bWVudHMgdGhhdCB3b3VsZFxyXG4gKiBoYXZlIGJlZW4gZm9yd2FyZGVkIHRvIHRoZSBhcHByb3ByaWF0ZSBtZXRob2QgYWJvdmUgaGFkIGEgbWV0aG9kIGJlZW5cclxuICogcHJvdmlkZWQgd2l0aCB0aGUgcHJvcGVyIG5hbWUuICBUaGUgQVBJIG1ha2VzIG5vIGd1YXJhbnRlZXMgYWJvdXQgdGhlIG5hdHVyZVxyXG4gKiBvZiB0aGUgcmV0dXJuZWQgb2JqZWN0LCBhcGFydCBmcm9tIHRoYXQgaXQgaXMgdXNhYmxlIHdoZXJlZXZlciBwcm9taXNlcyBhcmVcclxuICogYm91Z2h0IGFuZCBzb2xkLlxyXG4gKi9cclxuUS5tYWtlUHJvbWlzZSA9IFByb21pc2U7XHJcbmZ1bmN0aW9uIFByb21pc2UoZGVzY3JpcHRvciwgZmFsbGJhY2ssIGluc3BlY3QpIHtcclxuICAgIGlmIChmYWxsYmFjayA9PT0gdm9pZCAwKSB7XHJcbiAgICAgICAgZmFsbGJhY2sgPSBmdW5jdGlvbiAob3ApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChuZXcgRXJyb3IoXHJcbiAgICAgICAgICAgICAgICBcIlByb21pc2UgZG9lcyBub3Qgc3VwcG9ydCBvcGVyYXRpb246IFwiICsgb3BcclxuICAgICAgICAgICAgKSk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGlmIChpbnNwZWN0ID09PSB2b2lkIDApIHtcclxuICAgICAgICBpbnNwZWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge3N0YXRlOiBcInVua25vd25cIn07XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgcHJvbWlzZSA9IG9iamVjdF9jcmVhdGUoUHJvbWlzZS5wcm90b3R5cGUpO1xyXG5cclxuICAgIHByb21pc2UucHJvbWlzZURpc3BhdGNoID0gZnVuY3Rpb24gKHJlc29sdmUsIG9wLCBhcmdzKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdDtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZGVzY3JpcHRvcltvcF0pIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGRlc2NyaXB0b3Jbb3BdLmFwcGx5KHByb21pc2UsIGFyZ3MpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsbGJhY2suY2FsbChwcm9taXNlLCBvcCwgYXJncyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChleGNlcHRpb24pIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gcmVqZWN0KGV4Y2VwdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyZXNvbHZlKSB7XHJcbiAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHByb21pc2UuaW5zcGVjdCA9IGluc3BlY3Q7XHJcblxyXG4gICAgLy8gWFhYIGRlcHJlY2F0ZWQgYHZhbHVlT2ZgIGFuZCBgZXhjZXB0aW9uYCBzdXBwb3J0XHJcbiAgICBpZiAoaW5zcGVjdCkge1xyXG4gICAgICAgIHZhciBpbnNwZWN0ZWQgPSBpbnNwZWN0KCk7XHJcbiAgICAgICAgaWYgKGluc3BlY3RlZC5zdGF0ZSA9PT0gXCJyZWplY3RlZFwiKSB7XHJcbiAgICAgICAgICAgIHByb21pc2UuZXhjZXB0aW9uID0gaW5zcGVjdGVkLnJlYXNvbjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByb21pc2UudmFsdWVPZiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGluc3BlY3RlZCA9IGluc3BlY3QoKTtcclxuICAgICAgICAgICAgaWYgKGluc3BlY3RlZC5zdGF0ZSA9PT0gXCJwZW5kaW5nXCIgfHxcclxuICAgICAgICAgICAgICAgIGluc3BlY3RlZC5zdGF0ZSA9PT0gXCJyZWplY3RlZFwiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gaW5zcGVjdGVkLnZhbHVlO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHByb21pc2U7XHJcbn1cclxuXHJcblByb21pc2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIFwiW29iamVjdCBQcm9taXNlXVwiO1xyXG59O1xyXG5cclxuUHJvbWlzZS5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uIChmdWxmaWxsZWQsIHJlamVjdGVkLCBwcm9ncmVzc2VkKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xyXG4gICAgdmFyIGRvbmUgPSBmYWxzZTsgICAvLyBlbnN1cmUgdGhlIHVudHJ1c3RlZCBwcm9taXNlIG1ha2VzIGF0IG1vc3QgYVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzaW5nbGUgY2FsbCB0byBvbmUgb2YgdGhlIGNhbGxiYWNrc1xyXG5cclxuICAgIGZ1bmN0aW9uIF9mdWxmaWxsZWQodmFsdWUpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGZ1bGZpbGxlZCA9PT0gXCJmdW5jdGlvblwiID8gZnVsZmlsbGVkKHZhbHVlKSA6IHZhbHVlO1xyXG4gICAgICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KGV4Y2VwdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9yZWplY3RlZChleGNlcHRpb24pIHtcclxuICAgICAgICBpZiAodHlwZW9mIHJlamVjdGVkID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgbWFrZVN0YWNrVHJhY2VMb25nKGV4Y2VwdGlvbiwgc2VsZik7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0ZWQoZXhjZXB0aW9uKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAobmV3RXhjZXB0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KG5ld0V4Y2VwdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlamVjdChleGNlcHRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9wcm9ncmVzc2VkKHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBwcm9ncmVzc2VkID09PSBcImZ1bmN0aW9uXCIgPyBwcm9ncmVzc2VkKHZhbHVlKSA6IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIFEubmV4dFRpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYucHJvbWlzZURpc3BhdGNoKGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAoZG9uZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShfZnVsZmlsbGVkKHZhbHVlKSk7XHJcbiAgICAgICAgfSwgXCJ3aGVuXCIsIFtmdW5jdGlvbiAoZXhjZXB0aW9uKSB7XHJcbiAgICAgICAgICAgIGlmIChkb25lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZG9uZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKF9yZWplY3RlZChleGNlcHRpb24pKTtcclxuICAgICAgICB9XSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBQcm9ncmVzcyBwcm9wYWdhdG9yIG5lZWQgdG8gYmUgYXR0YWNoZWQgaW4gdGhlIGN1cnJlbnQgdGljay5cclxuICAgIHNlbGYucHJvbWlzZURpc3BhdGNoKHZvaWQgMCwgXCJ3aGVuXCIsIFt2b2lkIDAsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHZhciBuZXdWYWx1ZTtcclxuICAgICAgICB2YXIgdGhyZXcgPSBmYWxzZTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBuZXdWYWx1ZSA9IF9wcm9ncmVzc2VkKHZhbHVlKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRocmV3ID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKFEub25lcnJvcikge1xyXG4gICAgICAgICAgICAgICAgUS5vbmVycm9yKGUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0aHJldykge1xyXG4gICAgICAgICAgICBkZWZlcnJlZC5ub3RpZnkobmV3VmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1dKTtcclxuXHJcbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxufTtcclxuXHJcblEudGFwID0gZnVuY3Rpb24gKHByb21pc2UsIGNhbGxiYWNrKSB7XHJcbiAgICByZXR1cm4gUShwcm9taXNlKS50YXAoY2FsbGJhY2spO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFdvcmtzIGFsbW9zdCBsaWtlIFwiZmluYWxseVwiLCBidXQgbm90IGNhbGxlZCBmb3IgcmVqZWN0aW9ucy5cclxuICogT3JpZ2luYWwgcmVzb2x1dGlvbiB2YWx1ZSBpcyBwYXNzZWQgdGhyb3VnaCBjYWxsYmFjayB1bmFmZmVjdGVkLlxyXG4gKiBDYWxsYmFjayBtYXkgcmV0dXJuIGEgcHJvbWlzZSB0aGF0IHdpbGwgYmUgYXdhaXRlZCBmb3IuXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXHJcbiAqIEByZXR1cm5zIHtRLlByb21pc2V9XHJcbiAqIEBleGFtcGxlXHJcbiAqIGRvU29tZXRoaW5nKClcclxuICogICAudGhlbiguLi4pXHJcbiAqICAgLnRhcChjb25zb2xlLmxvZylcclxuICogICAudGhlbiguLi4pO1xyXG4gKi9cclxuUHJvbWlzZS5wcm90b3R5cGUudGFwID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICBjYWxsYmFjayA9IFEoY2FsbGJhY2spO1xyXG5cclxuICAgIHJldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmZjYWxsKHZhbHVlKS50aGVuUmVzb2x2ZSh2YWx1ZSk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZWdpc3RlcnMgYW4gb2JzZXJ2ZXIgb24gYSBwcm9taXNlLlxyXG4gKlxyXG4gKiBHdWFyYW50ZWVzOlxyXG4gKlxyXG4gKiAxLiB0aGF0IGZ1bGZpbGxlZCBhbmQgcmVqZWN0ZWQgd2lsbCBiZSBjYWxsZWQgb25seSBvbmNlLlxyXG4gKiAyLiB0aGF0IGVpdGhlciB0aGUgZnVsZmlsbGVkIGNhbGxiYWNrIG9yIHRoZSByZWplY3RlZCBjYWxsYmFjayB3aWxsIGJlXHJcbiAqICAgIGNhbGxlZCwgYnV0IG5vdCBib3RoLlxyXG4gKiAzLiB0aGF0IGZ1bGZpbGxlZCBhbmQgcmVqZWN0ZWQgd2lsbCBub3QgYmUgY2FsbGVkIGluIHRoaXMgdHVybi5cclxuICpcclxuICogQHBhcmFtIHZhbHVlICAgICAgcHJvbWlzZSBvciBpbW1lZGlhdGUgcmVmZXJlbmNlIHRvIG9ic2VydmVcclxuICogQHBhcmFtIGZ1bGZpbGxlZCAgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdpdGggdGhlIGZ1bGZpbGxlZCB2YWx1ZVxyXG4gKiBAcGFyYW0gcmVqZWN0ZWQgICBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2l0aCB0aGUgcmVqZWN0aW9uIGV4Y2VwdGlvblxyXG4gKiBAcGFyYW0gcHJvZ3Jlc3NlZCBmdW5jdGlvbiB0byBiZSBjYWxsZWQgb24gYW55IHByb2dyZXNzIG5vdGlmaWNhdGlvbnNcclxuICogQHJldHVybiBwcm9taXNlIGZvciB0aGUgcmV0dXJuIHZhbHVlIGZyb20gdGhlIGludm9rZWQgY2FsbGJhY2tcclxuICovXHJcblEud2hlbiA9IHdoZW47XHJcbmZ1bmN0aW9uIHdoZW4odmFsdWUsIGZ1bGZpbGxlZCwgcmVqZWN0ZWQsIHByb2dyZXNzZWQpIHtcclxuICAgIHJldHVybiBRKHZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQsIHByb2dyZXNzZWQpO1xyXG59XHJcblxyXG5Qcm9taXNlLnByb3RvdHlwZS50aGVuUmVzb2x2ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiB2YWx1ZTsgfSk7XHJcbn07XHJcblxyXG5RLnRoZW5SZXNvbHZlID0gZnVuY3Rpb24gKHByb21pc2UsIHZhbHVlKSB7XHJcbiAgICByZXR1cm4gUShwcm9taXNlKS50aGVuUmVzb2x2ZSh2YWx1ZSk7XHJcbn07XHJcblxyXG5Qcm9taXNlLnByb3RvdHlwZS50aGVuUmVqZWN0ID0gZnVuY3Rpb24gKHJlYXNvbikge1xyXG4gICAgcmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbiAoKSB7IHRocm93IHJlYXNvbjsgfSk7XHJcbn07XHJcblxyXG5RLnRoZW5SZWplY3QgPSBmdW5jdGlvbiAocHJvbWlzZSwgcmVhc29uKSB7XHJcbiAgICByZXR1cm4gUShwcm9taXNlKS50aGVuUmVqZWN0KHJlYXNvbik7XHJcbn07XHJcblxyXG4vKipcclxuICogSWYgYW4gb2JqZWN0IGlzIG5vdCBhIHByb21pc2UsIGl0IGlzIGFzIFwibmVhclwiIGFzIHBvc3NpYmxlLlxyXG4gKiBJZiBhIHByb21pc2UgaXMgcmVqZWN0ZWQsIGl0IGlzIGFzIFwibmVhclwiIGFzIHBvc3NpYmxlIHRvby5cclxuICogSWYgaXTigJlzIGEgZnVsZmlsbGVkIHByb21pc2UsIHRoZSBmdWxmaWxsbWVudCB2YWx1ZSBpcyBuZWFyZXIuXHJcbiAqIElmIGl04oCZcyBhIGRlZmVycmVkIHByb21pc2UgYW5kIHRoZSBkZWZlcnJlZCBoYXMgYmVlbiByZXNvbHZlZCwgdGhlXHJcbiAqIHJlc29sdXRpb24gaXMgXCJuZWFyZXJcIi5cclxuICogQHBhcmFtIG9iamVjdFxyXG4gKiBAcmV0dXJucyBtb3N0IHJlc29sdmVkIChuZWFyZXN0KSBmb3JtIG9mIHRoZSBvYmplY3RcclxuICovXHJcblxyXG4vLyBYWFggc2hvdWxkIHdlIHJlLWRvIHRoaXM/XHJcblEubmVhcmVyID0gbmVhcmVyO1xyXG5mdW5jdGlvbiBuZWFyZXIodmFsdWUpIHtcclxuICAgIGlmIChpc1Byb21pc2UodmFsdWUpKSB7XHJcbiAgICAgICAgdmFyIGluc3BlY3RlZCA9IHZhbHVlLmluc3BlY3QoKTtcclxuICAgICAgICBpZiAoaW5zcGVjdGVkLnN0YXRlID09PSBcImZ1bGZpbGxlZFwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpbnNwZWN0ZWQudmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XHJcblxyXG4vKipcclxuICogQHJldHVybnMgd2hldGhlciB0aGUgZ2l2ZW4gb2JqZWN0IGlzIGEgcHJvbWlzZS5cclxuICogT3RoZXJ3aXNlIGl0IGlzIGEgZnVsZmlsbGVkIHZhbHVlLlxyXG4gKi9cclxuUS5pc1Byb21pc2UgPSBpc1Byb21pc2U7XHJcbmZ1bmN0aW9uIGlzUHJvbWlzZShvYmplY3QpIHtcclxuICAgIHJldHVybiBvYmplY3QgaW5zdGFuY2VvZiBQcm9taXNlO1xyXG59XHJcblxyXG5RLmlzUHJvbWlzZUFsaWtlID0gaXNQcm9taXNlQWxpa2U7XHJcbmZ1bmN0aW9uIGlzUHJvbWlzZUFsaWtlKG9iamVjdCkge1xyXG4gICAgcmV0dXJuIGlzT2JqZWN0KG9iamVjdCkgJiYgdHlwZW9mIG9iamVjdC50aGVuID09PSBcImZ1bmN0aW9uXCI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcmV0dXJucyB3aGV0aGVyIHRoZSBnaXZlbiBvYmplY3QgaXMgYSBwZW5kaW5nIHByb21pc2UsIG1lYW5pbmcgbm90XHJcbiAqIGZ1bGZpbGxlZCBvciByZWplY3RlZC5cclxuICovXHJcblEuaXNQZW5kaW5nID0gaXNQZW5kaW5nO1xyXG5mdW5jdGlvbiBpc1BlbmRpbmcob2JqZWN0KSB7XHJcbiAgICByZXR1cm4gaXNQcm9taXNlKG9iamVjdCkgJiYgb2JqZWN0Lmluc3BlY3QoKS5zdGF0ZSA9PT0gXCJwZW5kaW5nXCI7XHJcbn1cclxuXHJcblByb21pc2UucHJvdG90eXBlLmlzUGVuZGluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiB0aGlzLmluc3BlY3QoKS5zdGF0ZSA9PT0gXCJwZW5kaW5nXCI7XHJcbn07XHJcblxyXG4vKipcclxuICogQHJldHVybnMgd2hldGhlciB0aGUgZ2l2ZW4gb2JqZWN0IGlzIGEgdmFsdWUgb3IgZnVsZmlsbGVkXHJcbiAqIHByb21pc2UuXHJcbiAqL1xyXG5RLmlzRnVsZmlsbGVkID0gaXNGdWxmaWxsZWQ7XHJcbmZ1bmN0aW9uIGlzRnVsZmlsbGVkKG9iamVjdCkge1xyXG4gICAgcmV0dXJuICFpc1Byb21pc2Uob2JqZWN0KSB8fCBvYmplY3QuaW5zcGVjdCgpLnN0YXRlID09PSBcImZ1bGZpbGxlZFwiO1xyXG59XHJcblxyXG5Qcm9taXNlLnByb3RvdHlwZS5pc0Z1bGZpbGxlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiB0aGlzLmluc3BlY3QoKS5zdGF0ZSA9PT0gXCJmdWxmaWxsZWRcIjtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBAcmV0dXJucyB3aGV0aGVyIHRoZSBnaXZlbiBvYmplY3QgaXMgYSByZWplY3RlZCBwcm9taXNlLlxyXG4gKi9cclxuUS5pc1JlamVjdGVkID0gaXNSZWplY3RlZDtcclxuZnVuY3Rpb24gaXNSZWplY3RlZChvYmplY3QpIHtcclxuICAgIHJldHVybiBpc1Byb21pc2Uob2JqZWN0KSAmJiBvYmplY3QuaW5zcGVjdCgpLnN0YXRlID09PSBcInJlamVjdGVkXCI7XHJcbn1cclxuXHJcblByb21pc2UucHJvdG90eXBlLmlzUmVqZWN0ZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5pbnNwZWN0KCkuc3RhdGUgPT09IFwicmVqZWN0ZWRcIjtcclxufTtcclxuXHJcbi8vLy8gQkVHSU4gVU5IQU5ETEVEIFJFSkVDVElPTiBUUkFDS0lOR1xyXG5cclxuLy8gVGhpcyBwcm9taXNlIGxpYnJhcnkgY29uc3VtZXMgZXhjZXB0aW9ucyB0aHJvd24gaW4gaGFuZGxlcnMgc28gdGhleSBjYW4gYmVcclxuLy8gaGFuZGxlZCBieSBhIHN1YnNlcXVlbnQgcHJvbWlzZS4gIFRoZSBleGNlcHRpb25zIGdldCBhZGRlZCB0byB0aGlzIGFycmF5IHdoZW5cclxuLy8gdGhleSBhcmUgY3JlYXRlZCwgYW5kIHJlbW92ZWQgd2hlbiB0aGV5IGFyZSBoYW5kbGVkLiAgTm90ZSB0aGF0IGluIEVTNiBvclxyXG4vLyBzaGltbWVkIGVudmlyb25tZW50cywgdGhpcyB3b3VsZCBuYXR1cmFsbHkgYmUgYSBgU2V0YC5cclxudmFyIHVuaGFuZGxlZFJlYXNvbnMgPSBbXTtcclxudmFyIHVuaGFuZGxlZFJlamVjdGlvbnMgPSBbXTtcclxudmFyIHJlcG9ydGVkVW5oYW5kbGVkUmVqZWN0aW9ucyA9IFtdO1xyXG52YXIgdHJhY2tVbmhhbmRsZWRSZWplY3Rpb25zID0gdHJ1ZTtcclxuXHJcbmZ1bmN0aW9uIHJlc2V0VW5oYW5kbGVkUmVqZWN0aW9ucygpIHtcclxuICAgIHVuaGFuZGxlZFJlYXNvbnMubGVuZ3RoID0gMDtcclxuICAgIHVuaGFuZGxlZFJlamVjdGlvbnMubGVuZ3RoID0gMDtcclxuXHJcbiAgICBpZiAoIXRyYWNrVW5oYW5kbGVkUmVqZWN0aW9ucykge1xyXG4gICAgICAgIHRyYWNrVW5oYW5kbGVkUmVqZWN0aW9ucyA9IHRydWU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRyYWNrUmVqZWN0aW9uKHByb21pc2UsIHJlYXNvbikge1xyXG4gICAgaWYgKCF0cmFja1VuaGFuZGxlZFJlamVjdGlvbnMpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHByb2Nlc3MuZW1pdCA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgUS5uZXh0VGljay5ydW5BZnRlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChhcnJheV9pbmRleE9mKHVuaGFuZGxlZFJlamVjdGlvbnMsIHByb21pc2UpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5lbWl0KFwidW5oYW5kbGVkUmVqZWN0aW9uXCIsIHJlYXNvbiwgcHJvbWlzZSk7XHJcbiAgICAgICAgICAgICAgICByZXBvcnRlZFVuaGFuZGxlZFJlamVjdGlvbnMucHVzaChwcm9taXNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHVuaGFuZGxlZFJlamVjdGlvbnMucHVzaChwcm9taXNlKTtcclxuICAgIGlmIChyZWFzb24gJiYgdHlwZW9mIHJlYXNvbi5zdGFjayAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgIHVuaGFuZGxlZFJlYXNvbnMucHVzaChyZWFzb24uc3RhY2spO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB1bmhhbmRsZWRSZWFzb25zLnB1c2goXCIobm8gc3RhY2spIFwiICsgcmVhc29uKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdW50cmFja1JlamVjdGlvbihwcm9taXNlKSB7XHJcbiAgICBpZiAoIXRyYWNrVW5oYW5kbGVkUmVqZWN0aW9ucykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgYXQgPSBhcnJheV9pbmRleE9mKHVuaGFuZGxlZFJlamVjdGlvbnMsIHByb21pc2UpO1xyXG4gICAgaWYgKGF0ICE9PSAtMSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcHJvY2Vzcy5lbWl0ID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgUS5uZXh0VGljay5ydW5BZnRlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXRSZXBvcnQgPSBhcnJheV9pbmRleE9mKHJlcG9ydGVkVW5oYW5kbGVkUmVqZWN0aW9ucywgcHJvbWlzZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXRSZXBvcnQgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5lbWl0KFwicmVqZWN0aW9uSGFuZGxlZFwiLCB1bmhhbmRsZWRSZWFzb25zW2F0XSwgcHJvbWlzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVwb3J0ZWRVbmhhbmRsZWRSZWplY3Rpb25zLnNwbGljZShhdFJlcG9ydCwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB1bmhhbmRsZWRSZWplY3Rpb25zLnNwbGljZShhdCwgMSk7XHJcbiAgICAgICAgdW5oYW5kbGVkUmVhc29ucy5zcGxpY2UoYXQsIDEpO1xyXG4gICAgfVxyXG59XHJcblxyXG5RLnJlc2V0VW5oYW5kbGVkUmVqZWN0aW9ucyA9IHJlc2V0VW5oYW5kbGVkUmVqZWN0aW9ucztcclxuXHJcblEuZ2V0VW5oYW5kbGVkUmVhc29ucyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vIE1ha2UgYSBjb3B5IHNvIHRoYXQgY29uc3VtZXJzIGNhbid0IGludGVyZmVyZSB3aXRoIG91ciBpbnRlcm5hbCBzdGF0ZS5cclxuICAgIHJldHVybiB1bmhhbmRsZWRSZWFzb25zLnNsaWNlKCk7XHJcbn07XHJcblxyXG5RLnN0b3BVbmhhbmRsZWRSZWplY3Rpb25UcmFja2luZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJlc2V0VW5oYW5kbGVkUmVqZWN0aW9ucygpO1xyXG4gICAgdHJhY2tVbmhhbmRsZWRSZWplY3Rpb25zID0gZmFsc2U7XHJcbn07XHJcblxyXG5yZXNldFVuaGFuZGxlZFJlamVjdGlvbnMoKTtcclxuXHJcbi8vLy8gRU5EIFVOSEFORExFRCBSRUpFQ1RJT04gVFJBQ0tJTkdcclxuXHJcbi8qKlxyXG4gKiBDb25zdHJ1Y3RzIGEgcmVqZWN0ZWQgcHJvbWlzZS5cclxuICogQHBhcmFtIHJlYXNvbiB2YWx1ZSBkZXNjcmliaW5nIHRoZSBmYWlsdXJlXHJcbiAqL1xyXG5RLnJlamVjdCA9IHJlamVjdDtcclxuZnVuY3Rpb24gcmVqZWN0KHJlYXNvbikge1xyXG4gICAgdmFyIHJlamVjdGlvbiA9IFByb21pc2Uoe1xyXG4gICAgICAgIFwid2hlblwiOiBmdW5jdGlvbiAocmVqZWN0ZWQpIHtcclxuICAgICAgICAgICAgLy8gbm90ZSB0aGF0IHRoZSBlcnJvciBoYXMgYmVlbiBoYW5kbGVkXHJcbiAgICAgICAgICAgIGlmIChyZWplY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgdW50cmFja1JlamVjdGlvbih0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0ZWQgPyByZWplY3RlZChyZWFzb24pIDogdGhpcztcclxuICAgICAgICB9XHJcbiAgICB9LCBmdW5jdGlvbiBmYWxsYmFjaygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH0sIGZ1bmN0aW9uIGluc3BlY3QoKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgc3RhdGU6IFwicmVqZWN0ZWRcIiwgcmVhc29uOiByZWFzb24gfTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIE5vdGUgdGhhdCB0aGUgcmVhc29uIGhhcyBub3QgYmVlbiBoYW5kbGVkLlxyXG4gICAgdHJhY2tSZWplY3Rpb24ocmVqZWN0aW9uLCByZWFzb24pO1xyXG5cclxuICAgIHJldHVybiByZWplY3Rpb247XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb25zdHJ1Y3RzIGEgZnVsZmlsbGVkIHByb21pc2UgZm9yIGFuIGltbWVkaWF0ZSByZWZlcmVuY2UuXHJcbiAqIEBwYXJhbSB2YWx1ZSBpbW1lZGlhdGUgcmVmZXJlbmNlXHJcbiAqL1xyXG5RLmZ1bGZpbGwgPSBmdWxmaWxsO1xyXG5mdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gUHJvbWlzZSh7XHJcbiAgICAgICAgXCJ3aGVuXCI6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJnZXRcIjogZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlW25hbWVdO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJzZXRcIjogZnVuY3Rpb24gKG5hbWUsIHJocykge1xyXG4gICAgICAgICAgICB2YWx1ZVtuYW1lXSA9IHJocztcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZGVsZXRlXCI6IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB2YWx1ZVtuYW1lXTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwicG9zdFwiOiBmdW5jdGlvbiAobmFtZSwgYXJncykge1xyXG4gICAgICAgICAgICAvLyBNYXJrIE1pbGxlciBwcm9wb3NlcyB0aGF0IHBvc3Qgd2l0aCBubyBuYW1lIHNob3VsZCBhcHBseSBhXHJcbiAgICAgICAgICAgIC8vIHByb21pc2VkIGZ1bmN0aW9uLlxyXG4gICAgICAgICAgICBpZiAobmFtZSA9PT0gbnVsbCB8fCBuYW1lID09PSB2b2lkIDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5hcHBseSh2b2lkIDAsIGFyZ3MpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlW25hbWVdLmFwcGx5KHZhbHVlLCBhcmdzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJhcHBseVwiOiBmdW5jdGlvbiAodGhpc3AsIGFyZ3MpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLmFwcGx5KHRoaXNwLCBhcmdzKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwia2V5c1wiOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvYmplY3Rfa2V5cyh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgdm9pZCAwLCBmdW5jdGlvbiBpbnNwZWN0KCkge1xyXG4gICAgICAgIHJldHVybiB7IHN0YXRlOiBcImZ1bGZpbGxlZFwiLCB2YWx1ZTogdmFsdWUgfTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogQ29udmVydHMgdGhlbmFibGVzIHRvIFEgcHJvbWlzZXMuXHJcbiAqIEBwYXJhbSBwcm9taXNlIHRoZW5hYmxlIHByb21pc2VcclxuICogQHJldHVybnMgYSBRIHByb21pc2VcclxuICovXHJcbmZ1bmN0aW9uIGNvZXJjZShwcm9taXNlKSB7XHJcbiAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xyXG4gICAgUS5uZXh0VGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgcHJvbWlzZS50aGVuKGRlZmVycmVkLnJlc29sdmUsIGRlZmVycmVkLnJlamVjdCwgZGVmZXJyZWQubm90aWZ5KTtcclxuICAgICAgICB9IGNhdGNoIChleGNlcHRpb24pIHtcclxuICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGV4Y2VwdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEFubm90YXRlcyBhbiBvYmplY3Qgc3VjaCB0aGF0IGl0IHdpbGwgbmV2ZXIgYmVcclxuICogdHJhbnNmZXJyZWQgYXdheSBmcm9tIHRoaXMgcHJvY2VzcyBvdmVyIGFueSBwcm9taXNlXHJcbiAqIGNvbW11bmljYXRpb24gY2hhbm5lbC5cclxuICogQHBhcmFtIG9iamVjdFxyXG4gKiBAcmV0dXJucyBwcm9taXNlIGEgd3JhcHBpbmcgb2YgdGhhdCBvYmplY3QgdGhhdFxyXG4gKiBhZGRpdGlvbmFsbHkgcmVzcG9uZHMgdG8gdGhlIFwiaXNEZWZcIiBtZXNzYWdlXHJcbiAqIHdpdGhvdXQgYSByZWplY3Rpb24uXHJcbiAqL1xyXG5RLm1hc3RlciA9IG1hc3RlcjtcclxuZnVuY3Rpb24gbWFzdGVyKG9iamVjdCkge1xyXG4gICAgcmV0dXJuIFByb21pc2Uoe1xyXG4gICAgICAgIFwiaXNEZWZcIjogZnVuY3Rpb24gKCkge31cclxuICAgIH0sIGZ1bmN0aW9uIGZhbGxiYWNrKG9wLCBhcmdzKSB7XHJcbiAgICAgICAgcmV0dXJuIGRpc3BhdGNoKG9iamVjdCwgb3AsIGFyZ3MpO1xyXG4gICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBRKG9iamVjdCkuaW5zcGVjdCgpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTcHJlYWRzIHRoZSB2YWx1ZXMgb2YgYSBwcm9taXNlZCBhcnJheSBvZiBhcmd1bWVudHMgaW50byB0aGVcclxuICogZnVsZmlsbG1lbnQgY2FsbGJhY2suXHJcbiAqIEBwYXJhbSBmdWxmaWxsZWQgY2FsbGJhY2sgdGhhdCByZWNlaXZlcyB2YXJpYWRpYyBhcmd1bWVudHMgZnJvbSB0aGVcclxuICogcHJvbWlzZWQgYXJyYXlcclxuICogQHBhcmFtIHJlamVjdGVkIGNhbGxiYWNrIHRoYXQgcmVjZWl2ZXMgdGhlIGV4Y2VwdGlvbiBpZiB0aGUgcHJvbWlzZVxyXG4gKiBpcyByZWplY3RlZC5cclxuICogQHJldHVybnMgYSBwcm9taXNlIGZvciB0aGUgcmV0dXJuIHZhbHVlIG9yIHRocm93biBleGNlcHRpb24gb2ZcclxuICogZWl0aGVyIGNhbGxiYWNrLlxyXG4gKi9cclxuUS5zcHJlYWQgPSBzcHJlYWQ7XHJcbmZ1bmN0aW9uIHNwcmVhZCh2YWx1ZSwgZnVsZmlsbGVkLCByZWplY3RlZCkge1xyXG4gICAgcmV0dXJuIFEodmFsdWUpLnNwcmVhZChmdWxmaWxsZWQsIHJlamVjdGVkKTtcclxufVxyXG5cclxuUHJvbWlzZS5wcm90b3R5cGUuc3ByZWFkID0gZnVuY3Rpb24gKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpIHtcclxuICAgIHJldHVybiB0aGlzLmFsbCgpLnRoZW4oZnVuY3Rpb24gKGFycmF5KSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bGZpbGxlZC5hcHBseSh2b2lkIDAsIGFycmF5KTtcclxuICAgIH0sIHJlamVjdGVkKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBUaGUgYXN5bmMgZnVuY3Rpb24gaXMgYSBkZWNvcmF0b3IgZm9yIGdlbmVyYXRvciBmdW5jdGlvbnMsIHR1cm5pbmdcclxuICogdGhlbSBpbnRvIGFzeW5jaHJvbm91cyBnZW5lcmF0b3JzLiAgQWx0aG91Z2ggZ2VuZXJhdG9ycyBhcmUgb25seSBwYXJ0XHJcbiAqIG9mIHRoZSBuZXdlc3QgRUNNQVNjcmlwdCA2IGRyYWZ0cywgdGhpcyBjb2RlIGRvZXMgbm90IGNhdXNlIHN5bnRheFxyXG4gKiBlcnJvcnMgaW4gb2xkZXIgZW5naW5lcy4gIFRoaXMgY29kZSBzaG91bGQgY29udGludWUgdG8gd29yayBhbmQgd2lsbFxyXG4gKiBpbiBmYWN0IGltcHJvdmUgb3ZlciB0aW1lIGFzIHRoZSBsYW5ndWFnZSBpbXByb3Zlcy5cclxuICpcclxuICogRVM2IGdlbmVyYXRvcnMgYXJlIGN1cnJlbnRseSBwYXJ0IG9mIFY4IHZlcnNpb24gMy4xOSB3aXRoIHRoZVxyXG4gKiAtLWhhcm1vbnktZ2VuZXJhdG9ycyBydW50aW1lIGZsYWcgZW5hYmxlZC4gIFNwaWRlck1vbmtleSBoYXMgaGFkIHRoZW1cclxuICogZm9yIGxvbmdlciwgYnV0IHVuZGVyIGFuIG9sZGVyIFB5dGhvbi1pbnNwaXJlZCBmb3JtLiAgVGhpcyBmdW5jdGlvblxyXG4gKiB3b3JrcyBvbiBib3RoIGtpbmRzIG9mIGdlbmVyYXRvcnMuXHJcbiAqXHJcbiAqIERlY29yYXRlcyBhIGdlbmVyYXRvciBmdW5jdGlvbiBzdWNoIHRoYXQ6XHJcbiAqICAtIGl0IG1heSB5aWVsZCBwcm9taXNlc1xyXG4gKiAgLSBleGVjdXRpb24gd2lsbCBjb250aW51ZSB3aGVuIHRoYXQgcHJvbWlzZSBpcyBmdWxmaWxsZWRcclxuICogIC0gdGhlIHZhbHVlIG9mIHRoZSB5aWVsZCBleHByZXNzaW9uIHdpbGwgYmUgdGhlIGZ1bGZpbGxlZCB2YWx1ZVxyXG4gKiAgLSBpdCByZXR1cm5zIGEgcHJvbWlzZSBmb3IgdGhlIHJldHVybiB2YWx1ZSAod2hlbiB0aGUgZ2VuZXJhdG9yXHJcbiAqICAgIHN0b3BzIGl0ZXJhdGluZylcclxuICogIC0gdGhlIGRlY29yYXRlZCBmdW5jdGlvbiByZXR1cm5zIGEgcHJvbWlzZSBmb3IgdGhlIHJldHVybiB2YWx1ZVxyXG4gKiAgICBvZiB0aGUgZ2VuZXJhdG9yIG9yIHRoZSBmaXJzdCByZWplY3RlZCBwcm9taXNlIGFtb25nIHRob3NlXHJcbiAqICAgIHlpZWxkZWQuXHJcbiAqICAtIGlmIGFuIGVycm9yIGlzIHRocm93biBpbiB0aGUgZ2VuZXJhdG9yLCBpdCBwcm9wYWdhdGVzIHRocm91Z2hcclxuICogICAgZXZlcnkgZm9sbG93aW5nIHlpZWxkIHVudGlsIGl0IGlzIGNhdWdodCwgb3IgdW50aWwgaXQgZXNjYXBlc1xyXG4gKiAgICB0aGUgZ2VuZXJhdG9yIGZ1bmN0aW9uIGFsdG9nZXRoZXIsIGFuZCBpcyB0cmFuc2xhdGVkIGludG8gYVxyXG4gKiAgICByZWplY3Rpb24gZm9yIHRoZSBwcm9taXNlIHJldHVybmVkIGJ5IHRoZSBkZWNvcmF0ZWQgZ2VuZXJhdG9yLlxyXG4gKi9cclxuUS5hc3luYyA9IGFzeW5jO1xyXG5mdW5jdGlvbiBhc3luYyhtYWtlR2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIHdoZW4gdmVyYiBpcyBcInNlbmRcIiwgYXJnIGlzIGEgdmFsdWVcclxuICAgICAgICAvLyB3aGVuIHZlcmIgaXMgXCJ0aHJvd1wiLCBhcmcgaXMgYW4gZXhjZXB0aW9uXHJcbiAgICAgICAgZnVuY3Rpb24gY29udGludWVyKHZlcmIsIGFyZykge1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0O1xyXG5cclxuICAgICAgICAgICAgLy8gVW50aWwgVjggMy4xOSAvIENocm9taXVtIDI5IGlzIHJlbGVhc2VkLCBTcGlkZXJNb25rZXkgaXMgdGhlIG9ubHlcclxuICAgICAgICAgICAgLy8gZW5naW5lIHRoYXQgaGFzIGEgZGVwbG95ZWQgYmFzZSBvZiBicm93c2VycyB0aGF0IHN1cHBvcnQgZ2VuZXJhdG9ycy5cclxuICAgICAgICAgICAgLy8gSG93ZXZlciwgU00ncyBnZW5lcmF0b3JzIHVzZSB0aGUgUHl0aG9uLWluc3BpcmVkIHNlbWFudGljcyBvZlxyXG4gICAgICAgICAgICAvLyBvdXRkYXRlZCBFUzYgZHJhZnRzLiAgV2Ugd291bGQgbGlrZSB0byBzdXBwb3J0IEVTNiwgYnV0IHdlJ2QgYWxzb1xyXG4gICAgICAgICAgICAvLyBsaWtlIHRvIG1ha2UgaXQgcG9zc2libGUgdG8gdXNlIGdlbmVyYXRvcnMgaW4gZGVwbG95ZWQgYnJvd3NlcnMsIHNvXHJcbiAgICAgICAgICAgIC8vIHdlIGFsc28gc3VwcG9ydCBQeXRob24tc3R5bGUgZ2VuZXJhdG9ycy4gIEF0IHNvbWUgcG9pbnQgd2UgY2FuIHJlbW92ZVxyXG4gICAgICAgICAgICAvLyB0aGlzIGJsb2NrLlxyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBTdG9wSXRlcmF0aW9uID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBFUzYgR2VuZXJhdG9yc1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBnZW5lcmF0b3JbdmVyYl0oYXJnKTtcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoZXhjZXB0aW9uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuZG9uZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBRKHJlc3VsdC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3aGVuKHJlc3VsdC52YWx1ZSwgY2FsbGJhY2ssIGVycmJhY2spO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gU3BpZGVyTW9ua2V5IEdlbmVyYXRvcnNcclxuICAgICAgICAgICAgICAgIC8vIEZJWE1FOiBSZW1vdmUgdGhpcyBjYXNlIHdoZW4gU00gZG9lcyBFUzYgZ2VuZXJhdG9ycy5cclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZ2VuZXJhdG9yW3ZlcmJdKGFyZyk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChleGNlcHRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNTdG9wSXRlcmF0aW9uKGV4Y2VwdGlvbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFEoZXhjZXB0aW9uLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGV4Y2VwdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdoZW4ocmVzdWx0LCBjYWxsYmFjaywgZXJyYmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGdlbmVyYXRvciA9IG1ha2VHZW5lcmF0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICB2YXIgY2FsbGJhY2sgPSBjb250aW51ZXIuYmluZChjb250aW51ZXIsIFwibmV4dFwiKTtcclxuICAgICAgICB2YXIgZXJyYmFjayA9IGNvbnRpbnVlci5iaW5kKGNvbnRpbnVlciwgXCJ0aHJvd1wiKTtcclxuICAgICAgICByZXR1cm4gY2FsbGJhY2soKTtcclxuICAgIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgc3Bhd24gZnVuY3Rpb24gaXMgYSBzbWFsbCB3cmFwcGVyIGFyb3VuZCBhc3luYyB0aGF0IGltbWVkaWF0ZWx5XHJcbiAqIGNhbGxzIHRoZSBnZW5lcmF0b3IgYW5kIGFsc28gZW5kcyB0aGUgcHJvbWlzZSBjaGFpbiwgc28gdGhhdCBhbnlcclxuICogdW5oYW5kbGVkIGVycm9ycyBhcmUgdGhyb3duIGluc3RlYWQgb2YgZm9yd2FyZGVkIHRvIHRoZSBlcnJvclxyXG4gKiBoYW5kbGVyLiBUaGlzIGlzIHVzZWZ1bCBiZWNhdXNlIGl0J3MgZXh0cmVtZWx5IGNvbW1vbiB0byBydW5cclxuICogZ2VuZXJhdG9ycyBhdCB0aGUgdG9wLWxldmVsIHRvIHdvcmsgd2l0aCBsaWJyYXJpZXMuXHJcbiAqL1xyXG5RLnNwYXduID0gc3Bhd247XHJcbmZ1bmN0aW9uIHNwYXduKG1ha2VHZW5lcmF0b3IpIHtcclxuICAgIFEuZG9uZShRLmFzeW5jKG1ha2VHZW5lcmF0b3IpKCkpO1xyXG59XHJcblxyXG4vLyBGSVhNRTogUmVtb3ZlIHRoaXMgaW50ZXJmYWNlIG9uY2UgRVM2IGdlbmVyYXRvcnMgYXJlIGluIFNwaWRlck1vbmtleS5cclxuLyoqXHJcbiAqIFRocm93cyBhIFJldHVyblZhbHVlIGV4Y2VwdGlvbiB0byBzdG9wIGFuIGFzeW5jaHJvbm91cyBnZW5lcmF0b3IuXHJcbiAqXHJcbiAqIFRoaXMgaW50ZXJmYWNlIGlzIGEgc3RvcC1nYXAgbWVhc3VyZSB0byBzdXBwb3J0IGdlbmVyYXRvciByZXR1cm5cclxuICogdmFsdWVzIGluIG9sZGVyIEZpcmVmb3gvU3BpZGVyTW9ua2V5LiAgSW4gYnJvd3NlcnMgdGhhdCBzdXBwb3J0IEVTNlxyXG4gKiBnZW5lcmF0b3JzIGxpa2UgQ2hyb21pdW0gMjksIGp1c3QgdXNlIFwicmV0dXJuXCIgaW4geW91ciBnZW5lcmF0b3JcclxuICogZnVuY3Rpb25zLlxyXG4gKlxyXG4gKiBAcGFyYW0gdmFsdWUgdGhlIHJldHVybiB2YWx1ZSBmb3IgdGhlIHN1cnJvdW5kaW5nIGdlbmVyYXRvclxyXG4gKiBAdGhyb3dzIFJldHVyblZhbHVlIGV4Y2VwdGlvbiB3aXRoIHRoZSB2YWx1ZS5cclxuICogQGV4YW1wbGVcclxuICogLy8gRVM2IHN0eWxlXHJcbiAqIFEuYXN5bmMoZnVuY3Rpb24qICgpIHtcclxuICogICAgICB2YXIgZm9vID0geWllbGQgZ2V0Rm9vUHJvbWlzZSgpO1xyXG4gKiAgICAgIHZhciBiYXIgPSB5aWVsZCBnZXRCYXJQcm9taXNlKCk7XHJcbiAqICAgICAgcmV0dXJuIGZvbyArIGJhcjtcclxuICogfSlcclxuICogLy8gT2xkZXIgU3BpZGVyTW9ua2V5IHN0eWxlXHJcbiAqIFEuYXN5bmMoZnVuY3Rpb24gKCkge1xyXG4gKiAgICAgIHZhciBmb28gPSB5aWVsZCBnZXRGb29Qcm9taXNlKCk7XHJcbiAqICAgICAgdmFyIGJhciA9IHlpZWxkIGdldEJhclByb21pc2UoKTtcclxuICogICAgICBRLnJldHVybihmb28gKyBiYXIpO1xyXG4gKiB9KVxyXG4gKi9cclxuUVtcInJldHVyblwiXSA9IF9yZXR1cm47XHJcbmZ1bmN0aW9uIF9yZXR1cm4odmFsdWUpIHtcclxuICAgIHRocm93IG5ldyBRUmV0dXJuVmFsdWUodmFsdWUpO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIHByb21pc2VkIGZ1bmN0aW9uIGRlY29yYXRvciBlbnN1cmVzIHRoYXQgYW55IHByb21pc2UgYXJndW1lbnRzXHJcbiAqIGFyZSBzZXR0bGVkIGFuZCBwYXNzZWQgYXMgdmFsdWVzIChgdGhpc2AgaXMgYWxzbyBzZXR0bGVkIGFuZCBwYXNzZWRcclxuICogYXMgYSB2YWx1ZSkuICBJdCB3aWxsIGFsc28gZW5zdXJlIHRoYXQgdGhlIHJlc3VsdCBvZiBhIGZ1bmN0aW9uIGlzXHJcbiAqIGFsd2F5cyBhIHByb21pc2UuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIHZhciBhZGQgPSBRLnByb21pc2VkKGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAqICAgICByZXR1cm4gYSArIGI7XHJcbiAqIH0pO1xyXG4gKiBhZGQoUShhKSwgUShCKSk7XHJcbiAqXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0byBkZWNvcmF0ZVxyXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb259IGEgZnVuY3Rpb24gdGhhdCBoYXMgYmVlbiBkZWNvcmF0ZWQuXHJcbiAqL1xyXG5RLnByb21pc2VkID0gcHJvbWlzZWQ7XHJcbmZ1bmN0aW9uIHByb21pc2VkKGNhbGxiYWNrKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBzcHJlYWQoW3RoaXMsIGFsbChhcmd1bWVudHMpXSwgZnVuY3Rpb24gKHNlbGYsIGFyZ3MpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KHNlbGYsIGFyZ3MpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIHNlbmRzIGEgbWVzc2FnZSB0byBhIHZhbHVlIGluIGEgZnV0dXJlIHR1cm5cclxuICogQHBhcmFtIG9iamVjdCogdGhlIHJlY2lwaWVudFxyXG4gKiBAcGFyYW0gb3AgdGhlIG5hbWUgb2YgdGhlIG1lc3NhZ2Ugb3BlcmF0aW9uLCBlLmcuLCBcIndoZW5cIixcclxuICogQHBhcmFtIGFyZ3MgZnVydGhlciBhcmd1bWVudHMgdG8gYmUgZm9yd2FyZGVkIHRvIHRoZSBvcGVyYXRpb25cclxuICogQHJldHVybnMgcmVzdWx0IHtQcm9taXNlfSBhIHByb21pc2UgZm9yIHRoZSByZXN1bHQgb2YgdGhlIG9wZXJhdGlvblxyXG4gKi9cclxuUS5kaXNwYXRjaCA9IGRpc3BhdGNoO1xyXG5mdW5jdGlvbiBkaXNwYXRjaChvYmplY3QsIG9wLCBhcmdzKSB7XHJcbiAgICByZXR1cm4gUShvYmplY3QpLmRpc3BhdGNoKG9wLCBhcmdzKTtcclxufVxyXG5cclxuUHJvbWlzZS5wcm90b3R5cGUuZGlzcGF0Y2ggPSBmdW5jdGlvbiAob3AsIGFyZ3MpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XHJcbiAgICBRLm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxmLnByb21pc2VEaXNwYXRjaChkZWZlcnJlZC5yZXNvbHZlLCBvcCwgYXJncyk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEdldHMgdGhlIHZhbHVlIG9mIGEgcHJvcGVydHkgaW4gYSBmdXR1cmUgdHVybi5cclxuICogQHBhcmFtIG9iamVjdCAgICBwcm9taXNlIG9yIGltbWVkaWF0ZSByZWZlcmVuY2UgZm9yIHRhcmdldCBvYmplY3RcclxuICogQHBhcmFtIG5hbWUgICAgICBuYW1lIG9mIHByb3BlcnR5IHRvIGdldFxyXG4gKiBAcmV0dXJuIHByb21pc2UgZm9yIHRoZSBwcm9wZXJ0eSB2YWx1ZVxyXG4gKi9cclxuUS5nZXQgPSBmdW5jdGlvbiAob2JqZWN0LCBrZXkpIHtcclxuICAgIHJldHVybiBRKG9iamVjdCkuZGlzcGF0Y2goXCJnZXRcIiwgW2tleV0pO1xyXG59O1xyXG5cclxuUHJvbWlzZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgcmV0dXJuIHRoaXMuZGlzcGF0Y2goXCJnZXRcIiwgW2tleV0pO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFNldHMgdGhlIHZhbHVlIG9mIGEgcHJvcGVydHkgaW4gYSBmdXR1cmUgdHVybi5cclxuICogQHBhcmFtIG9iamVjdCAgICBwcm9taXNlIG9yIGltbWVkaWF0ZSByZWZlcmVuY2UgZm9yIG9iamVjdCBvYmplY3RcclxuICogQHBhcmFtIG5hbWUgICAgICBuYW1lIG9mIHByb3BlcnR5IHRvIHNldFxyXG4gKiBAcGFyYW0gdmFsdWUgICAgIG5ldyB2YWx1ZSBvZiBwcm9wZXJ0eVxyXG4gKiBAcmV0dXJuIHByb21pc2UgZm9yIHRoZSByZXR1cm4gdmFsdWVcclxuICovXHJcblEuc2V0ID0gZnVuY3Rpb24gKG9iamVjdCwga2V5LCB2YWx1ZSkge1xyXG4gICAgcmV0dXJuIFEob2JqZWN0KS5kaXNwYXRjaChcInNldFwiLCBba2V5LCB2YWx1ZV0pO1xyXG59O1xyXG5cclxuUHJvbWlzZS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcclxuICAgIHJldHVybiB0aGlzLmRpc3BhdGNoKFwic2V0XCIsIFtrZXksIHZhbHVlXSk7XHJcbn07XHJcblxyXG4vKipcclxuICogRGVsZXRlcyBhIHByb3BlcnR5IGluIGEgZnV0dXJlIHR1cm4uXHJcbiAqIEBwYXJhbSBvYmplY3QgICAgcHJvbWlzZSBvciBpbW1lZGlhdGUgcmVmZXJlbmNlIGZvciB0YXJnZXQgb2JqZWN0XHJcbiAqIEBwYXJhbSBuYW1lICAgICAgbmFtZSBvZiBwcm9wZXJ0eSB0byBkZWxldGVcclxuICogQHJldHVybiBwcm9taXNlIGZvciB0aGUgcmV0dXJuIHZhbHVlXHJcbiAqL1xyXG5RLmRlbCA9IC8vIFhYWCBsZWdhY3lcclxuUVtcImRlbGV0ZVwiXSA9IGZ1bmN0aW9uIChvYmplY3QsIGtleSkge1xyXG4gICAgcmV0dXJuIFEob2JqZWN0KS5kaXNwYXRjaChcImRlbGV0ZVwiLCBba2V5XSk7XHJcbn07XHJcblxyXG5Qcm9taXNlLnByb3RvdHlwZS5kZWwgPSAvLyBYWFggbGVnYWN5XHJcblByb21pc2UucHJvdG90eXBlW1wiZGVsZXRlXCJdID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgcmV0dXJuIHRoaXMuZGlzcGF0Y2goXCJkZWxldGVcIiwgW2tleV0pO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEludm9rZXMgYSBtZXRob2QgaW4gYSBmdXR1cmUgdHVybi5cclxuICogQHBhcmFtIG9iamVjdCAgICBwcm9taXNlIG9yIGltbWVkaWF0ZSByZWZlcmVuY2UgZm9yIHRhcmdldCBvYmplY3RcclxuICogQHBhcmFtIG5hbWUgICAgICBuYW1lIG9mIG1ldGhvZCB0byBpbnZva2VcclxuICogQHBhcmFtIHZhbHVlICAgICBhIHZhbHVlIHRvIHBvc3QsIHR5cGljYWxseSBhbiBhcnJheSBvZlxyXG4gKiAgICAgICAgICAgICAgICAgIGludm9jYXRpb24gYXJndW1lbnRzIGZvciBwcm9taXNlcyB0aGF0XHJcbiAqICAgICAgICAgICAgICAgICAgYXJlIHVsdGltYXRlbHkgYmFja2VkIHdpdGggYHJlc29sdmVgIHZhbHVlcyxcclxuICogICAgICAgICAgICAgICAgICBhcyBvcHBvc2VkIHRvIHRob3NlIGJhY2tlZCB3aXRoIFVSTHNcclxuICogICAgICAgICAgICAgICAgICB3aGVyZWluIHRoZSBwb3N0ZWQgdmFsdWUgY2FuIGJlIGFueVxyXG4gKiAgICAgICAgICAgICAgICAgIEpTT04gc2VyaWFsaXphYmxlIG9iamVjdC5cclxuICogQHJldHVybiBwcm9taXNlIGZvciB0aGUgcmV0dXJuIHZhbHVlXHJcbiAqL1xyXG4vLyBib3VuZCBsb2NhbGx5IGJlY2F1c2UgaXQgaXMgdXNlZCBieSBvdGhlciBtZXRob2RzXHJcblEubWFwcGx5ID0gLy8gWFhYIEFzIHByb3Bvc2VkIGJ5IFwiUmVkc2FuZHJvXCJcclxuUS5wb3N0ID0gZnVuY3Rpb24gKG9iamVjdCwgbmFtZSwgYXJncykge1xyXG4gICAgcmV0dXJuIFEob2JqZWN0KS5kaXNwYXRjaChcInBvc3RcIiwgW25hbWUsIGFyZ3NdKTtcclxufTtcclxuXHJcblByb21pc2UucHJvdG90eXBlLm1hcHBseSA9IC8vIFhYWCBBcyBwcm9wb3NlZCBieSBcIlJlZHNhbmRyb1wiXHJcblByb21pc2UucHJvdG90eXBlLnBvc3QgPSBmdW5jdGlvbiAobmFtZSwgYXJncykge1xyXG4gICAgcmV0dXJuIHRoaXMuZGlzcGF0Y2goXCJwb3N0XCIsIFtuYW1lLCBhcmdzXSk7XHJcbn07XHJcblxyXG4vKipcclxuICogSW52b2tlcyBhIG1ldGhvZCBpbiBhIGZ1dHVyZSB0dXJuLlxyXG4gKiBAcGFyYW0gb2JqZWN0ICAgIHByb21pc2Ugb3IgaW1tZWRpYXRlIHJlZmVyZW5jZSBmb3IgdGFyZ2V0IG9iamVjdFxyXG4gKiBAcGFyYW0gbmFtZSAgICAgIG5hbWUgb2YgbWV0aG9kIHRvIGludm9rZVxyXG4gKiBAcGFyYW0gLi4uYXJncyAgIGFycmF5IG9mIGludm9jYXRpb24gYXJndW1lbnRzXHJcbiAqIEByZXR1cm4gcHJvbWlzZSBmb3IgdGhlIHJldHVybiB2YWx1ZVxyXG4gKi9cclxuUS5zZW5kID0gLy8gWFhYIE1hcmsgTWlsbGVyJ3MgcHJvcG9zZWQgcGFybGFuY2VcclxuUS5tY2FsbCA9IC8vIFhYWCBBcyBwcm9wb3NlZCBieSBcIlJlZHNhbmRyb1wiXHJcblEuaW52b2tlID0gZnVuY3Rpb24gKG9iamVjdCwgbmFtZSAvKi4uLmFyZ3MqLykge1xyXG4gICAgcmV0dXJuIFEob2JqZWN0KS5kaXNwYXRjaChcInBvc3RcIiwgW25hbWUsIGFycmF5X3NsaWNlKGFyZ3VtZW50cywgMildKTtcclxufTtcclxuXHJcblByb21pc2UucHJvdG90eXBlLnNlbmQgPSAvLyBYWFggTWFyayBNaWxsZXIncyBwcm9wb3NlZCBwYXJsYW5jZVxyXG5Qcm9taXNlLnByb3RvdHlwZS5tY2FsbCA9IC8vIFhYWCBBcyBwcm9wb3NlZCBieSBcIlJlZHNhbmRyb1wiXHJcblByb21pc2UucHJvdG90eXBlLmludm9rZSA9IGZ1bmN0aW9uIChuYW1lIC8qLi4uYXJncyovKSB7XHJcbiAgICByZXR1cm4gdGhpcy5kaXNwYXRjaChcInBvc3RcIiwgW25hbWUsIGFycmF5X3NsaWNlKGFyZ3VtZW50cywgMSldKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBBcHBsaWVzIHRoZSBwcm9taXNlZCBmdW5jdGlvbiBpbiBhIGZ1dHVyZSB0dXJuLlxyXG4gKiBAcGFyYW0gb2JqZWN0ICAgIHByb21pc2Ugb3IgaW1tZWRpYXRlIHJlZmVyZW5jZSBmb3IgdGFyZ2V0IGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSBhcmdzICAgICAgYXJyYXkgb2YgYXBwbGljYXRpb24gYXJndW1lbnRzXHJcbiAqL1xyXG5RLmZhcHBseSA9IGZ1bmN0aW9uIChvYmplY3QsIGFyZ3MpIHtcclxuICAgIHJldHVybiBRKG9iamVjdCkuZGlzcGF0Y2goXCJhcHBseVwiLCBbdm9pZCAwLCBhcmdzXSk7XHJcbn07XHJcblxyXG5Qcm9taXNlLnByb3RvdHlwZS5mYXBwbHkgPSBmdW5jdGlvbiAoYXJncykge1xyXG4gICAgcmV0dXJuIHRoaXMuZGlzcGF0Y2goXCJhcHBseVwiLCBbdm9pZCAwLCBhcmdzXSk7XHJcbn07XHJcblxyXG4vKipcclxuICogQ2FsbHMgdGhlIHByb21pc2VkIGZ1bmN0aW9uIGluIGEgZnV0dXJlIHR1cm4uXHJcbiAqIEBwYXJhbSBvYmplY3QgICAgcHJvbWlzZSBvciBpbW1lZGlhdGUgcmVmZXJlbmNlIGZvciB0YXJnZXQgZnVuY3Rpb25cclxuICogQHBhcmFtIC4uLmFyZ3MgICBhcnJheSBvZiBhcHBsaWNhdGlvbiBhcmd1bWVudHNcclxuICovXHJcblFbXCJ0cnlcIl0gPVxyXG5RLmZjYWxsID0gZnVuY3Rpb24gKG9iamVjdCAvKiAuLi5hcmdzKi8pIHtcclxuICAgIHJldHVybiBRKG9iamVjdCkuZGlzcGF0Y2goXCJhcHBseVwiLCBbdm9pZCAwLCBhcnJheV9zbGljZShhcmd1bWVudHMsIDEpXSk7XHJcbn07XHJcblxyXG5Qcm9taXNlLnByb3RvdHlwZS5mY2FsbCA9IGZ1bmN0aW9uICgvKi4uLmFyZ3MqLykge1xyXG4gICAgcmV0dXJuIHRoaXMuZGlzcGF0Y2goXCJhcHBseVwiLCBbdm9pZCAwLCBhcnJheV9zbGljZShhcmd1bWVudHMpXSk7XHJcbn07XHJcblxyXG4vKipcclxuICogQmluZHMgdGhlIHByb21pc2VkIGZ1bmN0aW9uLCB0cmFuc2Zvcm1pbmcgcmV0dXJuIHZhbHVlcyBpbnRvIGEgZnVsZmlsbGVkXHJcbiAqIHByb21pc2UgYW5kIHRocm93biBlcnJvcnMgaW50byBhIHJlamVjdGVkIG9uZS5cclxuICogQHBhcmFtIG9iamVjdCAgICBwcm9taXNlIG9yIGltbWVkaWF0ZSByZWZlcmVuY2UgZm9yIHRhcmdldCBmdW5jdGlvblxyXG4gKiBAcGFyYW0gLi4uYXJncyAgIGFycmF5IG9mIGFwcGxpY2F0aW9uIGFyZ3VtZW50c1xyXG4gKi9cclxuUS5mYmluZCA9IGZ1bmN0aW9uIChvYmplY3QgLyouLi5hcmdzKi8pIHtcclxuICAgIHZhciBwcm9taXNlID0gUShvYmplY3QpO1xyXG4gICAgdmFyIGFyZ3MgPSBhcnJheV9zbGljZShhcmd1bWVudHMsIDEpO1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGZib3VuZCgpIHtcclxuICAgICAgICByZXR1cm4gcHJvbWlzZS5kaXNwYXRjaChcImFwcGx5XCIsIFtcclxuICAgICAgICAgICAgdGhpcyxcclxuICAgICAgICAgICAgYXJncy5jb25jYXQoYXJyYXlfc2xpY2UoYXJndW1lbnRzKSlcclxuICAgICAgICBdKTtcclxuICAgIH07XHJcbn07XHJcblByb21pc2UucHJvdG90eXBlLmZiaW5kID0gZnVuY3Rpb24gKC8qLi4uYXJncyovKSB7XHJcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XHJcbiAgICB2YXIgYXJncyA9IGFycmF5X3NsaWNlKGFyZ3VtZW50cyk7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gZmJvdW5kKCkge1xyXG4gICAgICAgIHJldHVybiBwcm9taXNlLmRpc3BhdGNoKFwiYXBwbHlcIiwgW1xyXG4gICAgICAgICAgICB0aGlzLFxyXG4gICAgICAgICAgICBhcmdzLmNvbmNhdChhcnJheV9zbGljZShhcmd1bWVudHMpKVxyXG4gICAgICAgIF0pO1xyXG4gICAgfTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZXF1ZXN0cyB0aGUgbmFtZXMgb2YgdGhlIG93bmVkIHByb3BlcnRpZXMgb2YgYSBwcm9taXNlZFxyXG4gKiBvYmplY3QgaW4gYSBmdXR1cmUgdHVybi5cclxuICogQHBhcmFtIG9iamVjdCAgICBwcm9taXNlIG9yIGltbWVkaWF0ZSByZWZlcmVuY2UgZm9yIHRhcmdldCBvYmplY3RcclxuICogQHJldHVybiBwcm9taXNlIGZvciB0aGUga2V5cyBvZiB0aGUgZXZlbnR1YWxseSBzZXR0bGVkIG9iamVjdFxyXG4gKi9cclxuUS5rZXlzID0gZnVuY3Rpb24gKG9iamVjdCkge1xyXG4gICAgcmV0dXJuIFEob2JqZWN0KS5kaXNwYXRjaChcImtleXNcIiwgW10pO1xyXG59O1xyXG5cclxuUHJvbWlzZS5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiB0aGlzLmRpc3BhdGNoKFwia2V5c1wiLCBbXSk7XHJcbn07XHJcblxyXG4vKipcclxuICogVHVybnMgYW4gYXJyYXkgb2YgcHJvbWlzZXMgaW50byBhIHByb21pc2UgZm9yIGFuIGFycmF5LiAgSWYgYW55IG9mXHJcbiAqIHRoZSBwcm9taXNlcyBnZXRzIHJlamVjdGVkLCB0aGUgd2hvbGUgYXJyYXkgaXMgcmVqZWN0ZWQgaW1tZWRpYXRlbHkuXHJcbiAqIEBwYXJhbSB7QXJyYXkqfSBhbiBhcnJheSAob3IgcHJvbWlzZSBmb3IgYW4gYXJyYXkpIG9mIHZhbHVlcyAob3JcclxuICogcHJvbWlzZXMgZm9yIHZhbHVlcylcclxuICogQHJldHVybnMgYSBwcm9taXNlIGZvciBhbiBhcnJheSBvZiB0aGUgY29ycmVzcG9uZGluZyB2YWx1ZXNcclxuICovXHJcbi8vIEJ5IE1hcmsgTWlsbGVyXHJcbi8vIGh0dHA6Ly93aWtpLmVjbWFzY3JpcHQub3JnL2Rva3UucGhwP2lkPXN0cmF3bWFuOmNvbmN1cnJlbmN5JnJldj0xMzA4Nzc2NTIxI2FsbGZ1bGZpbGxlZFxyXG5RLmFsbCA9IGFsbDtcclxuZnVuY3Rpb24gYWxsKHByb21pc2VzKSB7XHJcbiAgICByZXR1cm4gd2hlbihwcm9taXNlcywgZnVuY3Rpb24gKHByb21pc2VzKSB7XHJcbiAgICAgICAgdmFyIHBlbmRpbmdDb3VudCA9IDA7XHJcbiAgICAgICAgdmFyIGRlZmVycmVkID0gZGVmZXIoKTtcclxuICAgICAgICBhcnJheV9yZWR1Y2UocHJvbWlzZXMsIGZ1bmN0aW9uICh1bmRlZmluZWQsIHByb21pc2UsIGluZGV4KSB7XHJcbiAgICAgICAgICAgIHZhciBzbmFwc2hvdDtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgaXNQcm9taXNlKHByb21pc2UpICYmXHJcbiAgICAgICAgICAgICAgICAoc25hcHNob3QgPSBwcm9taXNlLmluc3BlY3QoKSkuc3RhdGUgPT09IFwiZnVsZmlsbGVkXCJcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9taXNlc1tpbmRleF0gPSBzbmFwc2hvdC52YWx1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICsrcGVuZGluZ0NvdW50O1xyXG4gICAgICAgICAgICAgICAgd2hlbihcclxuICAgICAgICAgICAgICAgICAgICBwcm9taXNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlc1tpbmRleF0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC0tcGVuZGluZ0NvdW50ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHByb21pc2VzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0LFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChwcm9ncmVzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5ub3RpZnkoeyBpbmRleDogaW5kZXgsIHZhbHVlOiBwcm9ncmVzcyB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgdm9pZCAwKTtcclxuICAgICAgICBpZiAocGVuZGluZ0NvdW50ID09PSAwKSB7XHJcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUocHJvbWlzZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5Qcm9taXNlLnByb3RvdHlwZS5hbGwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gYWxsKHRoaXMpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIGZpcnN0IHJlc29sdmVkIHByb21pc2Ugb2YgYW4gYXJyYXkuIFByaW9yIHJlamVjdGVkIHByb21pc2VzIGFyZVxyXG4gKiBpZ25vcmVkLiAgUmVqZWN0cyBvbmx5IGlmIGFsbCBwcm9taXNlcyBhcmUgcmVqZWN0ZWQuXHJcbiAqIEBwYXJhbSB7QXJyYXkqfSBhbiBhcnJheSBjb250YWluaW5nIHZhbHVlcyBvciBwcm9taXNlcyBmb3IgdmFsdWVzXHJcbiAqIEByZXR1cm5zIGEgcHJvbWlzZSBmdWxmaWxsZWQgd2l0aCB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IHJlc29sdmVkIHByb21pc2UsXHJcbiAqIG9yIGEgcmVqZWN0ZWQgcHJvbWlzZSBpZiBhbGwgcHJvbWlzZXMgYXJlIHJlamVjdGVkLlxyXG4gKi9cclxuUS5hbnkgPSBhbnk7XHJcblxyXG5mdW5jdGlvbiBhbnkocHJvbWlzZXMpIHtcclxuICAgIGlmIChwcm9taXNlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICByZXR1cm4gUS5yZXNvbHZlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGRlZmVycmVkID0gUS5kZWZlcigpO1xyXG4gICAgdmFyIHBlbmRpbmdDb3VudCA9IDA7XHJcbiAgICBhcnJheV9yZWR1Y2UocHJvbWlzZXMsIGZ1bmN0aW9uIChwcmV2LCBjdXJyZW50LCBpbmRleCkge1xyXG4gICAgICAgIHZhciBwcm9taXNlID0gcHJvbWlzZXNbaW5kZXhdO1xyXG5cclxuICAgICAgICBwZW5kaW5nQ291bnQrKztcclxuXHJcbiAgICAgICAgd2hlbihwcm9taXNlLCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgb25Qcm9ncmVzcyk7XHJcbiAgICAgICAgZnVuY3Rpb24gb25GdWxmaWxsZWQocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gb25SZWplY3RlZChlcnIpIHtcclxuICAgICAgICAgICAgcGVuZGluZ0NvdW50LS07XHJcbiAgICAgICAgICAgIGlmIChwZW5kaW5nQ291bnQgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHZhciByZWplY3Rpb24gPSBlcnIgfHwgbmV3IEVycm9yKFwiXCIgKyBlcnIpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJlamVjdGlvbi5tZXNzYWdlID0gKFwiUSBjYW4ndCBnZXQgZnVsZmlsbG1lbnQgdmFsdWUgZnJvbSBhbnkgcHJvbWlzZSwgYWxsIFwiICtcclxuICAgICAgICAgICAgICAgICAgICBcInByb21pc2VzIHdlcmUgcmVqZWN0ZWQuIExhc3QgZXJyb3IgbWVzc2FnZTogXCIgKyByZWplY3Rpb24ubWVzc2FnZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KHJlamVjdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gb25Qcm9ncmVzcyhwcm9ncmVzcykge1xyXG4gICAgICAgICAgICBkZWZlcnJlZC5ub3RpZnkoe1xyXG4gICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHByb2dyZXNzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHVuZGVmaW5lZCk7XHJcblxyXG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbn1cclxuXHJcblByb21pc2UucHJvdG90eXBlLmFueSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiBhbnkodGhpcyk7XHJcbn07XHJcblxyXG4vKipcclxuICogV2FpdHMgZm9yIGFsbCBwcm9taXNlcyB0byBiZSBzZXR0bGVkLCBlaXRoZXIgZnVsZmlsbGVkIG9yXHJcbiAqIHJlamVjdGVkLiAgVGhpcyBpcyBkaXN0aW5jdCBmcm9tIGBhbGxgIHNpbmNlIHRoYXQgd291bGQgc3RvcFxyXG4gKiB3YWl0aW5nIGF0IHRoZSBmaXJzdCByZWplY3Rpb24uICBUaGUgcHJvbWlzZSByZXR1cm5lZCBieVxyXG4gKiBgYWxsUmVzb2x2ZWRgIHdpbGwgbmV2ZXIgYmUgcmVqZWN0ZWQuXHJcbiAqIEBwYXJhbSBwcm9taXNlcyBhIHByb21pc2UgZm9yIGFuIGFycmF5IChvciBhbiBhcnJheSkgb2YgcHJvbWlzZXNcclxuICogKG9yIHZhbHVlcylcclxuICogQHJldHVybiBhIHByb21pc2UgZm9yIGFuIGFycmF5IG9mIHByb21pc2VzXHJcbiAqL1xyXG5RLmFsbFJlc29sdmVkID0gZGVwcmVjYXRlKGFsbFJlc29sdmVkLCBcImFsbFJlc29sdmVkXCIsIFwiYWxsU2V0dGxlZFwiKTtcclxuZnVuY3Rpb24gYWxsUmVzb2x2ZWQocHJvbWlzZXMpIHtcclxuICAgIHJldHVybiB3aGVuKHByb21pc2VzLCBmdW5jdGlvbiAocHJvbWlzZXMpIHtcclxuICAgICAgICBwcm9taXNlcyA9IGFycmF5X21hcChwcm9taXNlcywgUSk7XHJcbiAgICAgICAgcmV0dXJuIHdoZW4oYWxsKGFycmF5X21hcChwcm9taXNlcywgZnVuY3Rpb24gKHByb21pc2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHdoZW4ocHJvbWlzZSwgbm9vcCwgbm9vcCk7XHJcbiAgICAgICAgfSkpLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlcztcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5Qcm9taXNlLnByb3RvdHlwZS5hbGxSZXNvbHZlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiBhbGxSZXNvbHZlZCh0aGlzKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBAc2VlIFByb21pc2UjYWxsU2V0dGxlZFxyXG4gKi9cclxuUS5hbGxTZXR0bGVkID0gYWxsU2V0dGxlZDtcclxuZnVuY3Rpb24gYWxsU2V0dGxlZChwcm9taXNlcykge1xyXG4gICAgcmV0dXJuIFEocHJvbWlzZXMpLmFsbFNldHRsZWQoKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFR1cm5zIGFuIGFycmF5IG9mIHByb21pc2VzIGludG8gYSBwcm9taXNlIGZvciBhbiBhcnJheSBvZiB0aGVpciBzdGF0ZXMgKGFzXHJcbiAqIHJldHVybmVkIGJ5IGBpbnNwZWN0YCkgd2hlbiB0aGV5IGhhdmUgYWxsIHNldHRsZWQuXHJcbiAqIEBwYXJhbSB7QXJyYXlbQW55Kl19IHZhbHVlcyBhbiBhcnJheSAob3IgcHJvbWlzZSBmb3IgYW4gYXJyYXkpIG9mIHZhbHVlcyAob3JcclxuICogcHJvbWlzZXMgZm9yIHZhbHVlcylcclxuICogQHJldHVybnMge0FycmF5W1N0YXRlXX0gYW4gYXJyYXkgb2Ygc3RhdGVzIGZvciB0aGUgcmVzcGVjdGl2ZSB2YWx1ZXMuXHJcbiAqL1xyXG5Qcm9taXNlLnByb3RvdHlwZS5hbGxTZXR0bGVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbiAocHJvbWlzZXMpIHtcclxuICAgICAgICByZXR1cm4gYWxsKGFycmF5X21hcChwcm9taXNlcywgZnVuY3Rpb24gKHByb21pc2UpIHtcclxuICAgICAgICAgICAgcHJvbWlzZSA9IFEocHJvbWlzZSk7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlZ2FyZGxlc3MoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZS5pbnNwZWN0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2UudGhlbihyZWdhcmRsZXNzLCByZWdhcmRsZXNzKTtcclxuICAgICAgICB9KSk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDYXB0dXJlcyB0aGUgZmFpbHVyZSBvZiBhIHByb21pc2UsIGdpdmluZyBhbiBvcG9ydHVuaXR5IHRvIHJlY292ZXJcclxuICogd2l0aCBhIGNhbGxiYWNrLiAgSWYgdGhlIGdpdmVuIHByb21pc2UgaXMgZnVsZmlsbGVkLCB0aGUgcmV0dXJuZWRcclxuICogcHJvbWlzZSBpcyBmdWxmaWxsZWQuXHJcbiAqIEBwYXJhbSB7QW55Kn0gcHJvbWlzZSBmb3Igc29tZXRoaW5nXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIHRvIGZ1bGZpbGwgdGhlIHJldHVybmVkIHByb21pc2UgaWYgdGhlXHJcbiAqIGdpdmVuIHByb21pc2UgaXMgcmVqZWN0ZWRcclxuICogQHJldHVybnMgYSBwcm9taXNlIGZvciB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBjYWxsYmFja1xyXG4gKi9cclxuUS5mYWlsID0gLy8gWFhYIGxlZ2FjeVxyXG5RW1wiY2F0Y2hcIl0gPSBmdW5jdGlvbiAob2JqZWN0LCByZWplY3RlZCkge1xyXG4gICAgcmV0dXJuIFEob2JqZWN0KS50aGVuKHZvaWQgMCwgcmVqZWN0ZWQpO1xyXG59O1xyXG5cclxuUHJvbWlzZS5wcm90b3R5cGUuZmFpbCA9IC8vIFhYWCBsZWdhY3lcclxuUHJvbWlzZS5wcm90b3R5cGVbXCJjYXRjaFwiXSA9IGZ1bmN0aW9uIChyZWplY3RlZCkge1xyXG4gICAgcmV0dXJuIHRoaXMudGhlbih2b2lkIDAsIHJlamVjdGVkKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBBdHRhY2hlcyBhIGxpc3RlbmVyIHRoYXQgY2FuIHJlc3BvbmQgdG8gcHJvZ3Jlc3Mgbm90aWZpY2F0aW9ucyBmcm9tIGFcclxuICogcHJvbWlzZSdzIG9yaWdpbmF0aW5nIGRlZmVycmVkLiBUaGlzIGxpc3RlbmVyIHJlY2VpdmVzIHRoZSBleGFjdCBhcmd1bWVudHNcclxuICogcGFzc2VkIHRvIGBgZGVmZXJyZWQubm90aWZ5YGAuXHJcbiAqIEBwYXJhbSB7QW55Kn0gcHJvbWlzZSBmb3Igc29tZXRoaW5nXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIHRvIHJlY2VpdmUgYW55IHByb2dyZXNzIG5vdGlmaWNhdGlvbnNcclxuICogQHJldHVybnMgdGhlIGdpdmVuIHByb21pc2UsIHVuY2hhbmdlZFxyXG4gKi9cclxuUS5wcm9ncmVzcyA9IHByb2dyZXNzO1xyXG5mdW5jdGlvbiBwcm9ncmVzcyhvYmplY3QsIHByb2dyZXNzZWQpIHtcclxuICAgIHJldHVybiBRKG9iamVjdCkudGhlbih2b2lkIDAsIHZvaWQgMCwgcHJvZ3Jlc3NlZCk7XHJcbn1cclxuXHJcblByb21pc2UucHJvdG90eXBlLnByb2dyZXNzID0gZnVuY3Rpb24gKHByb2dyZXNzZWQpIHtcclxuICAgIHJldHVybiB0aGlzLnRoZW4odm9pZCAwLCB2b2lkIDAsIHByb2dyZXNzZWQpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFByb3ZpZGVzIGFuIG9wcG9ydHVuaXR5IHRvIG9ic2VydmUgdGhlIHNldHRsaW5nIG9mIGEgcHJvbWlzZSxcclxuICogcmVnYXJkbGVzcyBvZiB3aGV0aGVyIHRoZSBwcm9taXNlIGlzIGZ1bGZpbGxlZCBvciByZWplY3RlZC4gIEZvcndhcmRzXHJcbiAqIHRoZSByZXNvbHV0aW9uIHRvIHRoZSByZXR1cm5lZCBwcm9taXNlIHdoZW4gdGhlIGNhbGxiYWNrIGlzIGRvbmUuXHJcbiAqIFRoZSBjYWxsYmFjayBjYW4gcmV0dXJuIGEgcHJvbWlzZSB0byBkZWZlciBjb21wbGV0aW9uLlxyXG4gKiBAcGFyYW0ge0FueSp9IHByb21pc2VcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgdG8gb2JzZXJ2ZSB0aGUgcmVzb2x1dGlvbiBvZiB0aGUgZ2l2ZW5cclxuICogcHJvbWlzZSwgdGFrZXMgbm8gYXJndW1lbnRzLlxyXG4gKiBAcmV0dXJucyBhIHByb21pc2UgZm9yIHRoZSByZXNvbHV0aW9uIG9mIHRoZSBnaXZlbiBwcm9taXNlIHdoZW5cclxuICogYGBmaW5gYCBpcyBkb25lLlxyXG4gKi9cclxuUS5maW4gPSAvLyBYWFggbGVnYWN5XHJcblFbXCJmaW5hbGx5XCJdID0gZnVuY3Rpb24gKG9iamVjdCwgY2FsbGJhY2spIHtcclxuICAgIHJldHVybiBRKG9iamVjdClbXCJmaW5hbGx5XCJdKGNhbGxiYWNrKTtcclxufTtcclxuXHJcblByb21pc2UucHJvdG90eXBlLmZpbiA9IC8vIFhYWCBsZWdhY3lcclxuUHJvbWlzZS5wcm90b3R5cGVbXCJmaW5hbGx5XCJdID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICBpZiAoIWNhbGxiYWNrIHx8IHR5cGVvZiBjYWxsYmFjay5hcHBseSAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUSBjYW4ndCBhcHBseSBmaW5hbGx5IGNhbGxiYWNrXCIpO1xyXG4gICAgfVxyXG4gICAgY2FsbGJhY2sgPSBRKGNhbGxiYWNrKTtcclxuICAgIHJldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmZjYWxsKCkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9KTtcclxuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcclxuICAgICAgICAvLyBUT0RPIGF0dGVtcHQgdG8gcmVjeWNsZSB0aGUgcmVqZWN0aW9uIHdpdGggXCJ0aGlzXCIuXHJcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmZjYWxsKCkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRocm93IHJlYXNvbjtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFRlcm1pbmF0ZXMgYSBjaGFpbiBvZiBwcm9taXNlcywgZm9yY2luZyByZWplY3Rpb25zIHRvIGJlXHJcbiAqIHRocm93biBhcyBleGNlcHRpb25zLlxyXG4gKiBAcGFyYW0ge0FueSp9IHByb21pc2UgYXQgdGhlIGVuZCBvZiBhIGNoYWluIG9mIHByb21pc2VzXHJcbiAqIEByZXR1cm5zIG5vdGhpbmdcclxuICovXHJcblEuZG9uZSA9IGZ1bmN0aW9uIChvYmplY3QsIGZ1bGZpbGxlZCwgcmVqZWN0ZWQsIHByb2dyZXNzKSB7XHJcbiAgICByZXR1cm4gUShvYmplY3QpLmRvbmUoZnVsZmlsbGVkLCByZWplY3RlZCwgcHJvZ3Jlc3MpO1xyXG59O1xyXG5cclxuUHJvbWlzZS5wcm90b3R5cGUuZG9uZSA9IGZ1bmN0aW9uIChmdWxmaWxsZWQsIHJlamVjdGVkLCBwcm9ncmVzcykge1xyXG4gICAgdmFyIG9uVW5oYW5kbGVkRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAvLyBmb3J3YXJkIHRvIGEgZnV0dXJlIHR1cm4gc28gdGhhdCBgYHdoZW5gYFxyXG4gICAgICAgIC8vIGRvZXMgbm90IGNhdGNoIGl0IGFuZCB0dXJuIGl0IGludG8gYSByZWplY3Rpb24uXHJcbiAgICAgICAgUS5uZXh0VGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIG1ha2VTdGFja1RyYWNlTG9uZyhlcnJvciwgcHJvbWlzZSk7XHJcbiAgICAgICAgICAgIGlmIChRLm9uZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIFEub25lcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBBdm9pZCB1bm5lY2Vzc2FyeSBgbmV4dFRpY2tgaW5nIHZpYSBhbiB1bm5lY2Vzc2FyeSBgd2hlbmAuXHJcbiAgICB2YXIgcHJvbWlzZSA9IGZ1bGZpbGxlZCB8fCByZWplY3RlZCB8fCBwcm9ncmVzcyA/XHJcbiAgICAgICAgdGhpcy50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQsIHByb2dyZXNzKSA6XHJcbiAgICAgICAgdGhpcztcclxuXHJcbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgPT09IFwib2JqZWN0XCIgJiYgcHJvY2VzcyAmJiBwcm9jZXNzLmRvbWFpbikge1xyXG4gICAgICAgIG9uVW5oYW5kbGVkRXJyb3IgPSBwcm9jZXNzLmRvbWFpbi5iaW5kKG9uVW5oYW5kbGVkRXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb21pc2UudGhlbih2b2lkIDAsIG9uVW5oYW5kbGVkRXJyb3IpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENhdXNlcyBhIHByb21pc2UgdG8gYmUgcmVqZWN0ZWQgaWYgaXQgZG9lcyBub3QgZ2V0IGZ1bGZpbGxlZCBiZWZvcmVcclxuICogc29tZSBtaWxsaXNlY29uZHMgdGltZSBvdXQuXHJcbiAqIEBwYXJhbSB7QW55Kn0gcHJvbWlzZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbWlsbGlzZWNvbmRzIHRpbWVvdXRcclxuICogQHBhcmFtIHtBbnkqfSBjdXN0b20gZXJyb3IgbWVzc2FnZSBvciBFcnJvciBvYmplY3QgKG9wdGlvbmFsKVxyXG4gKiBAcmV0dXJucyBhIHByb21pc2UgZm9yIHRoZSByZXNvbHV0aW9uIG9mIHRoZSBnaXZlbiBwcm9taXNlIGlmIGl0IGlzXHJcbiAqIGZ1bGZpbGxlZCBiZWZvcmUgdGhlIHRpbWVvdXQsIG90aGVyd2lzZSByZWplY3RlZC5cclxuICovXHJcblEudGltZW91dCA9IGZ1bmN0aW9uIChvYmplY3QsIG1zLCBlcnJvcikge1xyXG4gICAgcmV0dXJuIFEob2JqZWN0KS50aW1lb3V0KG1zLCBlcnJvcik7XHJcbn07XHJcblxyXG5Qcm9taXNlLnByb3RvdHlwZS50aW1lb3V0ID0gZnVuY3Rpb24gKG1zLCBlcnJvcikge1xyXG4gICAgdmFyIGRlZmVycmVkID0gZGVmZXIoKTtcclxuICAgIHZhciB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIWVycm9yIHx8IFwic3RyaW5nXCIgPT09IHR5cGVvZiBlcnJvcikge1xyXG4gICAgICAgICAgICBlcnJvciA9IG5ldyBFcnJvcihlcnJvciB8fCBcIlRpbWVkIG91dCBhZnRlciBcIiArIG1zICsgXCIgbXNcIik7XHJcbiAgICAgICAgICAgIGVycm9yLmNvZGUgPSBcIkVUSU1FRE9VVFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyb3IpO1xyXG4gICAgfSwgbXMpO1xyXG5cclxuICAgIHRoaXMudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcclxuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHZhbHVlKTtcclxuICAgIH0sIGZ1bmN0aW9uIChleGNlcHRpb24pIHtcclxuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcclxuICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXhjZXB0aW9uKTtcclxuICAgIH0sIGRlZmVycmVkLm5vdGlmeSk7XHJcblxyXG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbn07XHJcblxyXG4vKipcclxuICogUmV0dXJucyBhIHByb21pc2UgZm9yIHRoZSBnaXZlbiB2YWx1ZSAob3IgcHJvbWlzZWQgdmFsdWUpLCBzb21lXHJcbiAqIG1pbGxpc2Vjb25kcyBhZnRlciBpdCByZXNvbHZlZC4gUGFzc2VzIHJlamVjdGlvbnMgaW1tZWRpYXRlbHkuXHJcbiAqIEBwYXJhbSB7QW55Kn0gcHJvbWlzZVxyXG4gKiBAcGFyYW0ge051bWJlcn0gbWlsbGlzZWNvbmRzXHJcbiAqIEByZXR1cm5zIGEgcHJvbWlzZSBmb3IgdGhlIHJlc29sdXRpb24gb2YgdGhlIGdpdmVuIHByb21pc2UgYWZ0ZXIgbWlsbGlzZWNvbmRzXHJcbiAqIHRpbWUgaGFzIGVsYXBzZWQgc2luY2UgdGhlIHJlc29sdXRpb24gb2YgdGhlIGdpdmVuIHByb21pc2UuXHJcbiAqIElmIHRoZSBnaXZlbiBwcm9taXNlIHJlamVjdHMsIHRoYXQgaXMgcGFzc2VkIGltbWVkaWF0ZWx5LlxyXG4gKi9cclxuUS5kZWxheSA9IGZ1bmN0aW9uIChvYmplY3QsIHRpbWVvdXQpIHtcclxuICAgIGlmICh0aW1lb3V0ID09PSB2b2lkIDApIHtcclxuICAgICAgICB0aW1lb3V0ID0gb2JqZWN0O1xyXG4gICAgICAgIG9iamVjdCA9IHZvaWQgMDtcclxuICAgIH1cclxuICAgIHJldHVybiBRKG9iamVjdCkuZGVsYXkodGltZW91dCk7XHJcbn07XHJcblxyXG5Qcm9taXNlLnByb3RvdHlwZS5kZWxheSA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7XHJcbiAgICByZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodmFsdWUpO1xyXG4gICAgICAgIH0sIHRpbWVvdXQpO1xyXG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG4vKipcclxuICogUGFzc2VzIGEgY29udGludWF0aW9uIHRvIGEgTm9kZSBmdW5jdGlvbiwgd2hpY2ggaXMgY2FsbGVkIHdpdGggdGhlIGdpdmVuXHJcbiAqIGFyZ3VtZW50cyBwcm92aWRlZCBhcyBhbiBhcnJheSwgYW5kIHJldHVybnMgYSBwcm9taXNlLlxyXG4gKlxyXG4gKiAgICAgIFEubmZhcHBseShGUy5yZWFkRmlsZSwgW19fZmlsZW5hbWVdKVxyXG4gKiAgICAgIC50aGVuKGZ1bmN0aW9uIChjb250ZW50KSB7XHJcbiAqICAgICAgfSlcclxuICpcclxuICovXHJcblEubmZhcHBseSA9IGZ1bmN0aW9uIChjYWxsYmFjaywgYXJncykge1xyXG4gICAgcmV0dXJuIFEoY2FsbGJhY2spLm5mYXBwbHkoYXJncyk7XHJcbn07XHJcblxyXG5Qcm9taXNlLnByb3RvdHlwZS5uZmFwcGx5ID0gZnVuY3Rpb24gKGFyZ3MpIHtcclxuICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XHJcbiAgICB2YXIgbm9kZUFyZ3MgPSBhcnJheV9zbGljZShhcmdzKTtcclxuICAgIG5vZGVBcmdzLnB1c2goZGVmZXJyZWQubWFrZU5vZGVSZXNvbHZlcigpKTtcclxuICAgIHRoaXMuZmFwcGx5KG5vZGVBcmdzKS5mYWlsKGRlZmVycmVkLnJlamVjdCk7XHJcbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBQYXNzZXMgYSBjb250aW51YXRpb24gdG8gYSBOb2RlIGZ1bmN0aW9uLCB3aGljaCBpcyBjYWxsZWQgd2l0aCB0aGUgZ2l2ZW5cclxuICogYXJndW1lbnRzIHByb3ZpZGVkIGluZGl2aWR1YWxseSwgYW5kIHJldHVybnMgYSBwcm9taXNlLlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBRLm5mY2FsbChGUy5yZWFkRmlsZSwgX19maWxlbmFtZSlcclxuICogLnRoZW4oZnVuY3Rpb24gKGNvbnRlbnQpIHtcclxuICogfSlcclxuICpcclxuICovXHJcblEubmZjYWxsID0gZnVuY3Rpb24gKGNhbGxiYWNrIC8qLi4uYXJncyovKSB7XHJcbiAgICB2YXIgYXJncyA9IGFycmF5X3NsaWNlKGFyZ3VtZW50cywgMSk7XHJcbiAgICByZXR1cm4gUShjYWxsYmFjaykubmZhcHBseShhcmdzKTtcclxufTtcclxuXHJcblByb21pc2UucHJvdG90eXBlLm5mY2FsbCA9IGZ1bmN0aW9uICgvKi4uLmFyZ3MqLykge1xyXG4gICAgdmFyIG5vZGVBcmdzID0gYXJyYXlfc2xpY2UoYXJndW1lbnRzKTtcclxuICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XHJcbiAgICBub2RlQXJncy5wdXNoKGRlZmVycmVkLm1ha2VOb2RlUmVzb2x2ZXIoKSk7XHJcbiAgICB0aGlzLmZhcHBseShub2RlQXJncykuZmFpbChkZWZlcnJlZC5yZWplY3QpO1xyXG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbn07XHJcblxyXG4vKipcclxuICogV3JhcHMgYSBOb2RlSlMgY29udGludWF0aW9uIHBhc3NpbmcgZnVuY3Rpb24gYW5kIHJldHVybnMgYW4gZXF1aXZhbGVudFxyXG4gKiB2ZXJzaW9uIHRoYXQgcmV0dXJucyBhIHByb21pc2UuXHJcbiAqIEBleGFtcGxlXHJcbiAqIFEubmZiaW5kKEZTLnJlYWRGaWxlLCBfX2ZpbGVuYW1lKShcInV0Zi04XCIpXHJcbiAqIC50aGVuKGNvbnNvbGUubG9nKVxyXG4gKiAuZG9uZSgpXHJcbiAqL1xyXG5RLm5mYmluZCA9XHJcblEuZGVub2RlaWZ5ID0gZnVuY3Rpb24gKGNhbGxiYWNrIC8qLi4uYXJncyovKSB7XHJcbiAgICBpZiAoY2FsbGJhY2sgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlEgY2FuJ3Qgd3JhcCBhbiB1bmRlZmluZWQgZnVuY3Rpb25cIik7XHJcbiAgICB9XHJcbiAgICB2YXIgYmFzZUFyZ3MgPSBhcnJheV9zbGljZShhcmd1bWVudHMsIDEpO1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgbm9kZUFyZ3MgPSBiYXNlQXJncy5jb25jYXQoYXJyYXlfc2xpY2UoYXJndW1lbnRzKSk7XHJcbiAgICAgICAgdmFyIGRlZmVycmVkID0gZGVmZXIoKTtcclxuICAgICAgICBub2RlQXJncy5wdXNoKGRlZmVycmVkLm1ha2VOb2RlUmVzb2x2ZXIoKSk7XHJcbiAgICAgICAgUShjYWxsYmFjaykuZmFwcGx5KG5vZGVBcmdzKS5mYWlsKGRlZmVycmVkLnJlamVjdCk7XHJcbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbiAgICB9O1xyXG59O1xyXG5cclxuUHJvbWlzZS5wcm90b3R5cGUubmZiaW5kID1cclxuUHJvbWlzZS5wcm90b3R5cGUuZGVub2RlaWZ5ID0gZnVuY3Rpb24gKC8qLi4uYXJncyovKSB7XHJcbiAgICB2YXIgYXJncyA9IGFycmF5X3NsaWNlKGFyZ3VtZW50cyk7XHJcbiAgICBhcmdzLnVuc2hpZnQodGhpcyk7XHJcbiAgICByZXR1cm4gUS5kZW5vZGVpZnkuYXBwbHkodm9pZCAwLCBhcmdzKTtcclxufTtcclxuXHJcblEubmJpbmQgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIHRoaXNwIC8qLi4uYXJncyovKSB7XHJcbiAgICB2YXIgYmFzZUFyZ3MgPSBhcnJheV9zbGljZShhcmd1bWVudHMsIDIpO1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgbm9kZUFyZ3MgPSBiYXNlQXJncy5jb25jYXQoYXJyYXlfc2xpY2UoYXJndW1lbnRzKSk7XHJcbiAgICAgICAgdmFyIGRlZmVycmVkID0gZGVmZXIoKTtcclxuICAgICAgICBub2RlQXJncy5wdXNoKGRlZmVycmVkLm1ha2VOb2RlUmVzb2x2ZXIoKSk7XHJcbiAgICAgICAgZnVuY3Rpb24gYm91bmQoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjay5hcHBseSh0aGlzcCwgYXJndW1lbnRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgUShib3VuZCkuZmFwcGx5KG5vZGVBcmdzKS5mYWlsKGRlZmVycmVkLnJlamVjdCk7XHJcbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbiAgICB9O1xyXG59O1xyXG5cclxuUHJvbWlzZS5wcm90b3R5cGUubmJpbmQgPSBmdW5jdGlvbiAoLyp0aGlzcCwgLi4uYXJncyovKSB7XHJcbiAgICB2YXIgYXJncyA9IGFycmF5X3NsaWNlKGFyZ3VtZW50cywgMCk7XHJcbiAgICBhcmdzLnVuc2hpZnQodGhpcyk7XHJcbiAgICByZXR1cm4gUS5uYmluZC5hcHBseSh2b2lkIDAsIGFyZ3MpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENhbGxzIGEgbWV0aG9kIG9mIGEgTm9kZS1zdHlsZSBvYmplY3QgdGhhdCBhY2NlcHRzIGEgTm9kZS1zdHlsZVxyXG4gKiBjYWxsYmFjayB3aXRoIGEgZ2l2ZW4gYXJyYXkgb2YgYXJndW1lbnRzLCBwbHVzIGEgcHJvdmlkZWQgY2FsbGJhY2suXHJcbiAqIEBwYXJhbSBvYmplY3QgYW4gb2JqZWN0IHRoYXQgaGFzIHRoZSBuYW1lZCBtZXRob2RcclxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgbmFtZSBvZiB0aGUgbWV0aG9kIG9mIG9iamVjdFxyXG4gKiBAcGFyYW0ge0FycmF5fSBhcmdzIGFyZ3VtZW50cyB0byBwYXNzIHRvIHRoZSBtZXRob2Q7IHRoZSBjYWxsYmFja1xyXG4gKiB3aWxsIGJlIHByb3ZpZGVkIGJ5IFEgYW5kIGFwcGVuZGVkIHRvIHRoZXNlIGFyZ3VtZW50cy5cclxuICogQHJldHVybnMgYSBwcm9taXNlIGZvciB0aGUgdmFsdWUgb3IgZXJyb3JcclxuICovXHJcblEubm1hcHBseSA9IC8vIFhYWCBBcyBwcm9wb3NlZCBieSBcIlJlZHNhbmRyb1wiXHJcblEubnBvc3QgPSBmdW5jdGlvbiAob2JqZWN0LCBuYW1lLCBhcmdzKSB7XHJcbiAgICByZXR1cm4gUShvYmplY3QpLm5wb3N0KG5hbWUsIGFyZ3MpO1xyXG59O1xyXG5cclxuUHJvbWlzZS5wcm90b3R5cGUubm1hcHBseSA9IC8vIFhYWCBBcyBwcm9wb3NlZCBieSBcIlJlZHNhbmRyb1wiXHJcblByb21pc2UucHJvdG90eXBlLm5wb3N0ID0gZnVuY3Rpb24gKG5hbWUsIGFyZ3MpIHtcclxuICAgIHZhciBub2RlQXJncyA9IGFycmF5X3NsaWNlKGFyZ3MgfHwgW10pO1xyXG4gICAgdmFyIGRlZmVycmVkID0gZGVmZXIoKTtcclxuICAgIG5vZGVBcmdzLnB1c2goZGVmZXJyZWQubWFrZU5vZGVSZXNvbHZlcigpKTtcclxuICAgIHRoaXMuZGlzcGF0Y2goXCJwb3N0XCIsIFtuYW1lLCBub2RlQXJnc10pLmZhaWwoZGVmZXJyZWQucmVqZWN0KTtcclxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENhbGxzIGEgbWV0aG9kIG9mIGEgTm9kZS1zdHlsZSBvYmplY3QgdGhhdCBhY2NlcHRzIGEgTm9kZS1zdHlsZVxyXG4gKiBjYWxsYmFjaywgZm9yd2FyZGluZyB0aGUgZ2l2ZW4gdmFyaWFkaWMgYXJndW1lbnRzLCBwbHVzIGEgcHJvdmlkZWRcclxuICogY2FsbGJhY2sgYXJndW1lbnQuXHJcbiAqIEBwYXJhbSBvYmplY3QgYW4gb2JqZWN0IHRoYXQgaGFzIHRoZSBuYW1lZCBtZXRob2RcclxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgbmFtZSBvZiB0aGUgbWV0aG9kIG9mIG9iamVjdFxyXG4gKiBAcGFyYW0gLi4uYXJncyBhcmd1bWVudHMgdG8gcGFzcyB0byB0aGUgbWV0aG9kOyB0aGUgY2FsbGJhY2sgd2lsbFxyXG4gKiBiZSBwcm92aWRlZCBieSBRIGFuZCBhcHBlbmRlZCB0byB0aGVzZSBhcmd1bWVudHMuXHJcbiAqIEByZXR1cm5zIGEgcHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9yIGVycm9yXHJcbiAqL1xyXG5RLm5zZW5kID0gLy8gWFhYIEJhc2VkIG9uIE1hcmsgTWlsbGVyJ3MgcHJvcG9zZWQgXCJzZW5kXCJcclxuUS5ubWNhbGwgPSAvLyBYWFggQmFzZWQgb24gXCJSZWRzYW5kcm8nc1wiIHByb3Bvc2FsXHJcblEubmludm9rZSA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWUgLyouLi5hcmdzKi8pIHtcclxuICAgIHZhciBub2RlQXJncyA9IGFycmF5X3NsaWNlKGFyZ3VtZW50cywgMik7XHJcbiAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xyXG4gICAgbm9kZUFyZ3MucHVzaChkZWZlcnJlZC5tYWtlTm9kZVJlc29sdmVyKCkpO1xyXG4gICAgUShvYmplY3QpLmRpc3BhdGNoKFwicG9zdFwiLCBbbmFtZSwgbm9kZUFyZ3NdKS5mYWlsKGRlZmVycmVkLnJlamVjdCk7XHJcbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxufTtcclxuXHJcblByb21pc2UucHJvdG90eXBlLm5zZW5kID0gLy8gWFhYIEJhc2VkIG9uIE1hcmsgTWlsbGVyJ3MgcHJvcG9zZWQgXCJzZW5kXCJcclxuUHJvbWlzZS5wcm90b3R5cGUubm1jYWxsID0gLy8gWFhYIEJhc2VkIG9uIFwiUmVkc2FuZHJvJ3NcIiBwcm9wb3NhbFxyXG5Qcm9taXNlLnByb3RvdHlwZS5uaW52b2tlID0gZnVuY3Rpb24gKG5hbWUgLyouLi5hcmdzKi8pIHtcclxuICAgIHZhciBub2RlQXJncyA9IGFycmF5X3NsaWNlKGFyZ3VtZW50cywgMSk7XHJcbiAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xyXG4gICAgbm9kZUFyZ3MucHVzaChkZWZlcnJlZC5tYWtlTm9kZVJlc29sdmVyKCkpO1xyXG4gICAgdGhpcy5kaXNwYXRjaChcInBvc3RcIiwgW25hbWUsIG5vZGVBcmdzXSkuZmFpbChkZWZlcnJlZC5yZWplY3QpO1xyXG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbn07XHJcblxyXG4vKipcclxuICogSWYgYSBmdW5jdGlvbiB3b3VsZCBsaWtlIHRvIHN1cHBvcnQgYm90aCBOb2RlIGNvbnRpbnVhdGlvbi1wYXNzaW5nLXN0eWxlIGFuZFxyXG4gKiBwcm9taXNlLXJldHVybmluZy1zdHlsZSwgaXQgY2FuIGVuZCBpdHMgaW50ZXJuYWwgcHJvbWlzZSBjaGFpbiB3aXRoXHJcbiAqIGBub2RlaWZ5KG5vZGViYWNrKWAsIGZvcndhcmRpbmcgdGhlIG9wdGlvbmFsIG5vZGViYWNrIGFyZ3VtZW50LiAgSWYgdGhlIHVzZXJcclxuICogZWxlY3RzIHRvIHVzZSBhIG5vZGViYWNrLCB0aGUgcmVzdWx0IHdpbGwgYmUgc2VudCB0aGVyZS4gIElmIHRoZXkgZG8gbm90XHJcbiAqIHBhc3MgYSBub2RlYmFjaywgdGhleSB3aWxsIHJlY2VpdmUgdGhlIHJlc3VsdCBwcm9taXNlLlxyXG4gKiBAcGFyYW0gb2JqZWN0IGEgcmVzdWx0IChvciBhIHByb21pc2UgZm9yIGEgcmVzdWx0KVxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBub2RlYmFjayBhIE5vZGUuanMtc3R5bGUgY2FsbGJhY2tcclxuICogQHJldHVybnMgZWl0aGVyIHRoZSBwcm9taXNlIG9yIG5vdGhpbmdcclxuICovXHJcblEubm9kZWlmeSA9IG5vZGVpZnk7XHJcbmZ1bmN0aW9uIG5vZGVpZnkob2JqZWN0LCBub2RlYmFjaykge1xyXG4gICAgcmV0dXJuIFEob2JqZWN0KS5ub2RlaWZ5KG5vZGViYWNrKTtcclxufVxyXG5cclxuUHJvbWlzZS5wcm90b3R5cGUubm9kZWlmeSA9IGZ1bmN0aW9uIChub2RlYmFjaykge1xyXG4gICAgaWYgKG5vZGViYWNrKSB7XHJcbiAgICAgICAgdGhpcy50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBRLm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG5vZGViYWNrKG51bGwsIHZhbHVlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgIFEubmV4dFRpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgbm9kZWJhY2soZXJyb3IpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbn07XHJcblxyXG5RLm5vQ29uZmxpY3QgPSBmdW5jdGlvbigpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihcIlEubm9Db25mbGljdCBvbmx5IHdvcmtzIHdoZW4gUSBpcyB1c2VkIGFzIGEgZ2xvYmFsXCIpO1xyXG59O1xyXG5cclxuLy8gQWxsIGNvZGUgYmVmb3JlIHRoaXMgcG9pbnQgd2lsbCBiZSBmaWx0ZXJlZCBmcm9tIHN0YWNrIHRyYWNlcy5cclxudmFyIHFFbmRpbmdMaW5lID0gY2FwdHVyZUxpbmUoKTtcclxuXHJcbndpbmRvdy5RID0gUTtcclxuXHJcbnJldHVybiBRO1xyXG5cclxufSk7IiwiO1xyXG4oZnVuY3Rpb24oJCkge1xyXG4gICAgJC5mbi5wb3B1cCA9IGZ1bmN0aW9uKGlzU2hvdywgb3B0cykge1xyXG4gICAgICAgIHZhciBzY3JvbGxUb3AgPSBNYXRoLm1heChwYXJzZUludCgkKGRvY3VtZW50KS5zY3JvbGxUb3AoKSksIE1hdGguYWJzKHBhcnNlSW50KCQoJ2h0bWwnKS5jc3MoJ21hcmdpblRvcCcpKSkpLFxyXG4gICAgICAgICAgICAkdGhpcyA9ICQodGhpcyksXHJcbiAgICAgICAgICAgICRwb3B1cENvbnRlbnQgPSAkdGhpcy5maW5kKCcucG9wdXAtY29udGVudCcpLFxyXG4gICAgICAgICAgICAkcGFnZSA9ICQoJ2h0bWwsYm9keScpLFxyXG4gICAgICAgICAgICAkaHRtbCA9ICQoJ2h0bWwnKSxcclxuICAgICAgICAgICAgJGJvZHkgPSAkKCdib2R5JyksXHJcbiAgICAgICAgICAgICRwb3B1cE1hc2sgPSAkKCcucG9wdXAtbWFzaycpLFxyXG4gICAgICAgICAgICAkd2luZG93ID0gJCh3aW5kb3cpLFxyXG4gICAgICAgICAgICBvcHQgPSB7fSxcclxuICAgICAgICAgICAga2V5QnJvYWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGltZXIgPSBudWxsO1xyXG5cclxuICAgICAgICB2YXIgZGVmT3V0ID0ge1xyXG4gICAgICAgICAgICBvblNob3dCZWZvcmU6IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25TaG93QWZ0ZXI6IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25DbG9zZUFmdGVyOiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uQ2xvc2VCZWZvcmU6IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vICR3aW5kb3cub24oJ3Jlc2l6ZScsZnVuY3Rpb24gKCl7XHJcbiAgICAgICAgLy8gICAgIGlmKCR3aW5kb3cud2lkdGgoKSA+IDcyMCl7XHJcbiAgICAgICAgLy8gICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyAgICAga2V5QnJvYWQgPSAha2V5QnJvYWQ7XHJcbiAgICAgICAgLy8gICAgIGlmKGtleUJyb2FkKXtcclxuICAgICAgICAvLyAgICAgICAgICQoJy5wb3B1cC1jb250ZW50LmFjdGl2ZScpLmNzcyh7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC01MCUsLTYwJSknXHJcbiAgICAgICAgLy8gICAgICAgICB9KTtcclxuICAgICAgICAvLyAgICAgfWVsc2V7XHJcbiAgICAgICAgLy8gICAgICAgICAkKCcucG9wdXAtY29udGVudC5hY3RpdmUnKS5jc3Moe1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZSgtNTAlLC01MCUpJ1xyXG4gICAgICAgIC8vICAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9KTsgXHJcblxyXG4gICAgICAgIG9wdCA9ICQuZXh0ZW5kKGRlZk91dCwgb3B0cyk7XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgaXNTaG93ID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICBpZiAoaXNTaG93ID09PSAnc2hvdycpIHtcclxuICAgICAgICAgICAgICAgIHNob3coKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChpc1Nob3cgPT09ICdoaWRlJykge1xyXG4gICAgICAgICAgICAgICAgaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkKCcuaWNvbi1jbG9zZS1tYXNrJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGhpZGUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2hvdygpIHtcclxuICAgICAgICAgICAgb3B0Lm9uU2hvd0JlZm9yZSgpO1xyXG4gICAgICAgICAgICAkcGFnZS5hZGRDbGFzcygnb2ZmY2FudmFzJykuY3NzKHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAkd2luZG93LndpZHRoKCksXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAkaHRtbC5jc3Moe1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luVG9wOiAtc2Nyb2xsVG9wICsgJ3B4JyxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogJHdpbmRvdy5oZWlnaHQoKSxcclxuICAgICAgICAgICAgICAgIGxlZnQ6ICc1MCUnLFxyXG4gICAgICAgICAgICAgICAgbWFyZ2luTGVmdDogJy0nICsgICgkaHRtbC53aWR0aCgpIC8gMikgKyAncHgnLFxyXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnaGlkZGVuJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgJHBvcHVwTWFzay5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAkcG9wdXBNYXNrLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgfSwgMSk7XHJcbiAgICAgICAgICAgICR0aGlzLnJlbW92ZUNsYXNzKCdoaWRkZW4nKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6ICR3aW5kb3cud2lkdGgoKSxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogJHdpbmRvdy5oZWlnaHQoKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICRwb3B1cENvbnRlbnQuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB9LCAxKTtcclxuICAgICAgICAgICAgb3B0Lm9uU2hvd0FmdGVyKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBoaWRlKCkge1xyXG4gICAgICAgICAgICBpZih0aW1lcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpe1xyXG5cclxuICAgICAgICAgICAgfSwzMDApO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYob3B0Lm9uQ2xvc2VCZWZvcmUoKSA9PT0gZmFsc2Upe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAkcG9wdXBDb250ZW50LnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgJHBvcHVwTWFzay5yZW1vdmVDbGFzcygnYWN0aXZlJykub25lKCd0cmFuc2l0aW9uZW5kJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAkcG9wdXBNYXNrLmFkZENsYXNzKCdoaWRkZW4nKTtcclxuICAgICAgICAgICAgICAgICR0aGlzLmFkZENsYXNzKCdoaWRkZW4nKTtcclxuICAgICAgICAgICAgICAgICRwYWdlLnJlbW92ZUNsYXNzKCdvZmZjYW52YXMnKTtcclxuICAgICAgICAgICAgICAgICRodG1sLmNzcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6ICcwJyxcclxuICAgICAgICAgICAgICAgICAgICBtYXJnaW5MZWZ0OiAnYXV0bycsXHJcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnYXV0bydcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIHNjcm9sbFRvcCk7XHJcbiAgICAgICAgICAgICAgICBvcHQub25DbG9zZUFmdGVyKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuICR0aGlzO1xyXG4gICAgfVxyXG59KShqUXVlcnkpOyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvX2Nzcy1sb2FkZXJAMC4yOC4xMUBjc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIvKnBvcHVwKi9cXHJcXG4uaGlkZGVue1xcclxcbiAgZGlzcGxheTogbm9uZTtcXHJcXG59XFxyXFxuXFxyXFxuLm9mZmNhbnZhcyB7XFxyXFxuICBwb3NpdGlvbjogZml4ZWQ7XFxyXFxufVxcclxcbi5wb3B1cC1tYXNrIHtcXHJcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTtcXHJcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXHJcXG4gIGxlZnQ6IDA7XFxyXFxuICB0b3A6IDA7XFxyXFxuICByaWdodDogMDtcXHJcXG4gIGJvdHRvbTogMDtcXHJcXG4gIG9wYWNpdHk6IDA7XFxyXFxuICB6LWluZGV4OiAyO1xcclxcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAuM3M7XFxyXFxufVxcclxcbi5wb3B1cC1tYXNrLmFjdGl2ZSB7XFxyXFxuICBvcGFjaXR5OiAxO1xcclxcbn1cXHJcXG4ucG9wdXAtbWFzay1ib3gge1xcclxcbiAgcG9zaXRpb246IGZpeGVkO1xcclxcbiAgbGVmdDogMDtcXHJcXG4gIHRvcDogMDtcXHJcXG4gIHJpZ2h0OiAwO1xcclxcbiAgYm90dG9tOiAwO1xcclxcbiAgei1pbmRleDogMztcXHJcXG59XFxyXFxuXFxyXFxuLnBvcHVwLW1hc2stYm94IC5wb3B1cC1jb250ZW50IHtcXHJcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG4gIHRvcDogNTAlO1xcclxcbiAgdHJhbnNpdGlvbjogYWxsIC4zcztcXHJcXG4gIG9wYWNpdHk6IDA7XFxyXFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtMjAlKTtcXHJcXG4gIGxlZnQ6IDUwJTtcXHJcXG4gIHdpZHRoOiA3MDBweDtcXHJcXG4gIG1heC13aWR0aDogNzAwcHg7XFxyXFxuICBvdmVyZmxvdy14OiBhdXRvO1xcclxcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXHJcXG59XFxyXFxuQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzIwcHgpIHtcXHJcXG4gICAgLnBvcHVwLW1hc2stYm94IC5wb3B1cC1jb250ZW50e1xcclxcbiAgICAgIHdpZHRoOiA4MCU7XFxyXFxuICAgICAgbWF4LXdpZHRoOiA4MCU7XFxyXFxuICAgIH1cXHJcXG4gICAgLnBvcHVwLW1hc2stYm94IC5wb3B1cC1jb250ZW50IC5wb3B1cC1pbmZve1xcclxcbiAgICAgIG1heC1oZWlnaHQ6IDdyZW07XFxyXFxuICAgIH1cXHJcXG59XFxyXFxuQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNzIwcHgpIHtcXHJcXG4gICAgLnBvcHVwLW1hc2stYm94IC5wb3B1cC1jb250ZW50e1xcclxcbiAgICAgIHdpZHRoOiA4MCU7XFxyXFxuICAgICAgbWF4LXdpZHRoOiA4MCU7XFxyXFxuICAgIH1cXHJcXG4gICAgLnBvcHVwLW1hc2stYm94IC5wb3B1cC1jb250ZW50IC5wb3B1cC1pbmZve1xcclxcbiAgICAgIG1heC1oZWlnaHQ6IDUwMHB4O1xcclxcbiAgICB9XFxyXFxufVxcclxcbi5wb3B1cC1tYXNrLWJveCAucG9wdXAtY29udGVudC5hY3RpdmUge1xcclxcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwtNTAlKTtcXHJcXG4gIG9wYWNpdHk6IDE7XFxyXFxufVxcclxcblxcclxcbi5wb3B1cC1tYXNrLWJveCAucG9wdXAtY29udGVudCAucG9wdXAtaW5mb3tcXHJcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxyXFxuICBwYWRkaW5nOiAyMHB4O1xcclxcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcXHJcXG4gIG92ZXJmbG93LXk6IGF1dG87XFxyXFxufVxcclxcbi5wb3B1cC1tYXNrLWJveCAucG9wdXAtY29udGVudCAucG9wdXAtaW5mbyBoMi5wb3B1cC10aXRsZXtcXHJcXG4gIGZvbnQtc2l6ZTogMTZweDtcXHJcXG4gIGNvbG9yOiAjZTI0YzM3O1xcclxcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjY2M7XFxyXFxuICBtYXJnaW4tYm90dG9tOiAxNXB4O1xcclxcbn1cXHJcXG5cXHJcXG4ucG9wdXAtbWFzay1ib3ggLnBvcHVwLWNvbnRlbnQgLnBvcHVwLWluZm8gaDIucG9wdXAtdGl0bGUgc3BhbntcXHJcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXHJcXG4gIHBhZGRpbmctYm90dG9tOiAxMHB4O1xcclxcbiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICNlMjRjMzc7XFxyXFxuICBtYXJnaW4tYm90dG9tOiAtMXB4O1xcclxcbn1cXHJcXG5cXHJcXG4ucG9wdXAtbWFzay1ib3ggLnBvcHVwLWNvbnRlbnQgLnBvcHVwLWluZm8gLnBvcHVwLXdyYXBwZXJ7XFxyXFxuLypcXHRvdmVyZmxvdy15OiBhdXRvO1xcclxcbiAgbWF4LWhlaWdodDogNTAwcHg7Ki9cXHJcXG59XFxyXFxuXFxyXFxuLnBvcHVwLW1hc2stYm94IC5wb3B1cC1jb250ZW50IC5wb3B1cC1jbG9zZXtcXHJcXG4gIG1hcmdpbjogMCBhdXRvO1xcclxcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcclxcbn1cXHJcXG5cXHJcXG4ucG9wdXAtbWFzay1ib3ggLnBvcHVwLWNvbnRlbnQgLnBvcHVwLWNsb3NlIC5pY29uLWNsb3NlLW1hc2t7XFxyXFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxyXFxuICBiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XFxyXFxufVxcclxcblxcclxcbi5wb3B1cC1tYXNrLWJveCAubGltaXQtaGVpZ2h0e1xcclxcbiAgb3ZlcmZsb3cteTogYXV0bztcXHJcXG59XFxyXFxuXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY3NzLWxvYWRlckAwLjI4LjExQGNzcy1sb2FkZXIvaW5kZXguanMhLi9wb3B1cC5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fc3R5bGUtbG9hZGVyQDAuMjAuM0BzdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9fY3NzLWxvYWRlckAwLjI4LjExQGNzcy1sb2FkZXIvaW5kZXguanMhLi9wb3B1cC5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvX2Nzcy1sb2FkZXJAMC4yOC4xMUBjc3MtbG9hZGVyL2luZGV4LmpzIS4vcG9wdXAuY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uL25vZGVfbW9kdWxlcy9fY3NzLWxvYWRlckAwLjI4LjExQGNzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImh0bWwsIGJvZHkge1xcclxcbiAgbWFyZ2luOiAwO1xcclxcbiAgaGVpZ2h0OiAxMDAlO1xcclxcbiAgZm9udC1mYW1pbHk6ICdPcGVuIFNhbnMnLCBzYW5zLXNlcmlmO1xcclxcbn1cXHJcXG5cXHJcXG4qe1xcclxcblxcdHBhZGRpbmc6IDA7XFxyXFxuXFx0bWFyZ2luOiAwO1xcclxcbn1cXHJcXG5saXtcXHJcXG5cXHRsaXN0LXN0eWxlOiBub25lO1xcclxcbn1cXHJcXG5pbnB1dFt0eXBlPVxcXCJjaGVja2JveFxcXCJdLGlucHV0W3R5cGU9XFxcInJhZGlvXFxcIl17XFxyXFxuXFx0Y3Vyc29yOiBwb2ludGVyO1xcclxcbn1cXHJcXG4uaGlkZGVue1xcclxcblxcdGRpc3BsYXk6IG5vbmU7XFxyXFxufVxcclxcbi50ZXh0LWNlbnRlcntcXHJcXG5cXHR0ZXh0LWFsaWduOiBjZW50ZXI7XFxyXFxufVxcclxcbmJ1dHRvbixhe1xcclxcblxcdGN1cnNvcjogcG9pbnRlcjtcXHJcXG59XFxyXFxuXFxyXFxuLnB0MTV7XFxyXFxuXFx0cGFkZGluZy10b3A6IDE1cHg7XFxyXFxufVxcclxcblxcclxcbi5idXR0b24tcmVke1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTI0YzM3O1xcclxcbiAgICBjb2xvcjogI2ZmZjtcXHJcXG4gICAgLXdlYmtpdC1ib3gtc2hhZG93OiAwIDFweCAxcHggI2Y2OTkzNTtcXHJcXG4gICAgYm94LXNoYWRvdzogMCAxcHggMXB4ICNmNjk5MzU7XFxyXFxuICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogM3B4O1xcclxcbiAgICBib3JkZXItcmFkaXVzOiAzcHg7XFxyXFxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXHJcXG4gICAgYm9yZGVyOiBub25lO1xcclxcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxyXFxuICAgIHBhZGRpbmc6IDVweCAxNHB4O1xcclxcbn1cXHJcXG5cXHJcXG4uYnV0dG9uLXJlZC5idG4tc217XFxyXFxuXFx0d2lkdGg6IDEwMHB4O1xcclxcblxcdGhlaWdodDogNDBweDtcXHJcXG59XFxyXFxuXFxyXFxuLmljb24tY2xvc2UtbWFza3tcXHJcXG5cXHRkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxyXFxuXFx0dmVydGljYWwtYWxpZ246IG1pZGRsZTtcXHJcXG59XFxyXFxuLmljb24tY2xvc2UtbWFzayBpbWd7XFxyXFxuXFx0d2lkdGg6IDIwcHg7XFxyXFxuXFx0aGVpZ2h0OiAyMHB4O1xcclxcbn1cXHJcXG5cXHJcXG4ucG9wdXAtbWFzay1ib3ggLnBvcHVwLWNvbnRlbnR7XFxyXFxuXFx0YmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXHJcXG59XFxyXFxuXFxyXFxuLnBvcHVwLW1hc2stYm94IC5wb3B1cC1jb250ZW50IC5wb3B1cC1pbmZvIGgyLnBvcHVwLXRpdGxle1xcclxcblxcdG92ZXJmbG93OiBoaWRkZW47XFxyXFxufVxcclxcblxcclxcbi5wb3B1cC1tYXNrLWJveCAucG9wdXAtY29udGVudCAucG9wdXAtaW5mbyBoMi5wb3B1cC10aXRsZSBzcGFue1xcclxcbiAgICBmbG9hdDogbGVmdDtcXHJcXG59XFxyXFxuXFxyXFxuLnBvcHVwLW1hc2stYm94IC5wb3B1cC1jb250ZW50IC5wb3B1cC1pbmZvIGgyLnBvcHVwLXRpdGxlIC5pY29uLWNsb3NlLW1hc2t7XFxyXFxuXFx0ZmxvYXQ6IHJpZ2h0O1xcclxcbn1cXHJcXG5cXHJcXG4ucG9wb3AtZm9vdGVye1xcclxcblxcdGxpbmUtaGVpZ2h0OiA0MHB4O1xcclxcbn1cXHJcXG5cXHJcXG4ucG9wb3AtZm9vdGVyIC5idXR0b24tcmVke1xcclxcblxcdHZlcnRpY2FsLWFsaWduOiB0b3A7XFxyXFxufVxcclxcblxcclxcbi5sYWJlbC1zZWxlY3QtYm94IC5sYWJlbC1saXN0e1xcclxcblxcdG92ZXJmbG93OiBoaWRkZW47XFxyXFxufVxcclxcblxcclxcbi5sYWJlbC1zZWxlY3QtYm94IC5sYWJlbC1saXN0IGxpe1xcclxcblxcdGZvbnQtc2l6ZTogMTZweDtcXHJcXG5cXHRsaW5lLWhlaWdodDogMTZweDtcXHJcXG5cXHRmbG9hdDogbGVmdDtcXHJcXG59XFxyXFxuXFxyXFxuLmxhYmVsLXNlbGVjdC1ib3ggLmxhYmVsLWxpc3QgbGkgc3BhbixpbWd7XFxyXFxuXFx0dmVydGljYWwtYWxpZ246IG1pZGRsZTtcXHJcXG59XFxyXFxuXFxyXFxuLmxhYmVsLXNlbGVjdC1ib3ggLmxhYmVsLWxpc3QgbGkgLnRpdGxle1xcclxcblxcdG1hcmdpbi1yaWdodDogNXB4O1xcclxcbn1cXHJcXG5cXHJcXG4ubGFiZWwtc2VsZWN0LWJveCAubGFiZWwtbGlzdCBsaSAubGFiZWwtZGVsdGV7XFxyXFxuXFx0Y3Vyc29yOiBwb2ludGVyO1xcclxcbn1cXHJcXG5cXHJcXG4ubGFiZWwtc2VsZWN0LWJveCAudGlwcy13cmFwe1xcclxcblxcdGxpbmUtaGVpZ2h0OiAzMHB4O1xcclxcblxcdGhlaWdodDogMzBweDtcXHJcXG59XFxyXFxuXFxyXFxuLmxhYmVsLXNlbGVjdC1ib3ggLnRpcHMtd3JhcCBpLFxcclxcbi5sYWJlbC1zZWxlY3QtYm94IC50aXBzLXdyYXAgc3BhbntcXHJcXG5cXHR2ZXJ0aWNhbC1hbGlnbjogdG9wO1xcclxcbn1cXHJcXG5cXHJcXG4ubGFiZWwtc2VsZWN0LWJveCAudGlwcy13cmFwIHNwYW57XFxyXFxuXFx0ZGlzcGxheTogaW5saW5lLWJsb2NrO1xcclxcblxcdGhlaWdodDogMzBweDtcXHJcXG5cXHRsaW5lLWhlaWdodDogMzBweDtcXHJcXG59XFxyXFxuXFxyXFxuLmxhYmVsLXNlbGVjdC1ib3ggLnRpcHMtd3JhcCAubGFiZWwtdGlwc3tcXHJcXG5cXHRmb250LXNpemU6IDE0cHg7XFxyXFxuXFx0Y29sb3I6ICM5ODk4OTg7XFxyXFxufVxcclxcblxcclxcbi5sYWJlbC1zZWxlY3QtYm94IC50aXBzLXdyYXAgLmljb24tYWRke1xcclxcblxcdG1hcmdpbi1yaWdodDogMjBweDtcXHJcXG59XFxyXFxuXFxyXFxuLmxhYmVsLXNlbGVjdC1tYXNrIC5hZGQtbGFiZWx7XFxyXFxuXFx0bWFyZ2luLWJvdHRvbTogMjBweDtcXHJcXG59XFxyXFxuXFxyXFxuXFxyXFxuQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNzIwcHgpIHtcXHJcXG5cXHQuZm9ybS1sYWJlbHtcXHJcXG5cXHRcXHRvdmVyZmxvdzogaGlkZGVuO1xcclxcblxcdH1cXHJcXG5cXHJcXG5cXHQuZm9ybS1sYWJlbCAuaW5wdXQtd3JhcHtcXHJcXG5cXHRcXHRtYXJnaW4tcmlnaHQ6IDEuNXJlbTtcXHJcXG5cXHRcXHRmbG9hdDogbGVmdDtcXHJcXG5cXHRcXHRsaW5lLWhlaWdodDogNDVweDtcXHJcXG5cXHRcXHRoZWlnaHQ6IDQ1cHg7XFxyXFxuXFx0fVxcclxcblxcdC5mb3JtLWxhYmVsIC5pbnB1dC13cmFwIC5zZWxlY3QtbGFiZWx7XFxyXFxuXFx0XFx0d2lkdGg6IDEwMCU7XFxyXFxuXFx0XFx0dmVydGljYWwtYWxpZ246IHRvcDtcXHJcXG5cXHR9XFxyXFxuXFx0LmZvcm0tbGFiZWwgLmJ0bi13cmFwe1xcclxcblxcdFxcdGxpbmUtaGVpZ2h0OiA0NXB4O1xcclxcblxcdFxcdGhlaWdodDogNDVweDtcXHJcXG5cXHRcXHRmbG9hdDogcmlnaHQ7XFxyXFxuXFx0XFx0bWFyZ2luLWxlZnQ6IC0xLjVyZW07XFxyXFxuXFx0XFx0cG9zaXRpb246IHJlbGF0aXZlO1xcclxcblxcdH1cXHJcXG5cXHQuZm9ybS1sYWJlbCAuYnRuLXdyYXAgLmJ1dHRvbi1yZWR7XFxyXFxuXFx0XFx0d2lkdGg6IDEuNHJlbTtcXHJcXG5cXHRcXHRwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuXFx0XFx0dG9wOiA1MCU7XFxyXFxuXFx0XFx0cmlnaHQ6IDA7XFxyXFxuXFx0XFx0dHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xcclxcblxcdH1cXHJcXG5cXHQucHQxNXtcXHJcXG5cXHRcXHRwYWRkaW5nLXRvcDogLjE1cmVtO1xcclxcblxcdH1cXHJcXG5cXHJcXG5cXHQubGFiZWwtc2VsZWN0LW1hc2sgLmxhYmVsLWxpc3R7XFxyXFxuXFx0XFx0bWFyZ2luLWJvdHRvbTogLjJyZW07XFxyXFxuXFx0XFx0bWFyZ2luLWxlZnQ6IC0uM3JlbTtcXHJcXG5cXHR9XFxyXFxuXFx0LmxhYmVsLXNlbGVjdC1tYXNrIC5sYWJlbC1saXN0IC5sYWJlbC1zZWxlY3QtaXRlbXtcXHJcXG5cXHRcXHRtYXJnaW4tbGVmdDogLjNyZW07XFxyXFxuXFx0XFx0bWFyZ2luLWJvdHRvbTogLjFyZW07XFxyXFxuXFx0fVxcclxcblxcdC5wb3B1cC1tYXNrLWJveCAucG9wdXAtY29udGVudCAucG9wdXAtaW5mbyBoMi5wb3B1cC10aXRsZSAuaWNvbi1jbG9zZS1tYXNre1xcclxcblxcdFxcdG1hcmdpbi1yaWdodDogLjE1cmVtO1xcclxcblxcdFxcdHBhZGRpbmc6IC4xcmVtO1xcclxcblxcdH1cXHJcXG5cXHQubGFiZWwtc2VsZWN0LW1hc2sgLmFkZC1sYWJlbHtcXHJcXG5cXHRcXHRtYXJnaW4tYm90dG9tOiAuMnJlbTtcXHJcXG5cXHR9XFxyXFxuXFx0LmxhYmVsLXNlbGVjdC1ib3ggLmxhYmVsLWxpc3R7XFxyXFxuXFx0XFx0bWFyZ2luLWxlZnQ6IC0uM3JlbTtcXHJcXG5cXHR9XFxyXFxuXFx0LmxhYmVsLXNlbGVjdC1ib3ggLmxhYmVsLWxpc3QgbGl7XFxyXFxuXFx0XFx0bWFyZ2luLWJvdHRvbTogLjFyZW07XFxyXFxuXFx0XFx0bWFyZ2luLWxlZnQ6IC4zcmVtO1xcclxcblxcdH1cXHJcXG59XFxyXFxuXFxyXFxuQG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNzIwcHgpIHtcXHJcXG4gICAgLmxhYmVsLXNlbGVjdC1tYXNrIC5hZGQtbGFiZWwgLnNlbGVjdC1sYWJlbHtcXHJcXG5cXHRcXHRtYXJnaW4tcmlnaHQ6IDIwcHg7XFxyXFxuXFx0XFx0d2lkdGg6IDIwMHB4O1xcclxcblxcdH1cXHJcXG5cXHQucHQxNXtcXHJcXG5cXHRcXHRwYWRkaW5nLXRvcDogMTVweDtcXHJcXG5cXHR9XFxyXFxuXFx0XFxyXFxuXFx0LmZvcm0tbGFiZWx7XFxyXFxuXFx0XFx0b3ZlcmZsb3c6IGhpZGRlbjtcXHJcXG5cXHR9XFxyXFxuXFx0LmZvcm0tbGFiZWwgLmlucHV0LXdyYXAsLmZvcm0tbGFiZWwgLmJ0bi13cmFwe1xcclxcblxcdFxcdGRpc3BsYXk6IGlubGluZS1ibG9jaztcXHJcXG5cXHRcXHR2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcclxcblxcdH1cXHJcXG5cXHJcXG5cXHQubGFiZWwtc2VsZWN0LW1hc2sgLmxhYmVsLWxpc3R7XFxyXFxuXFx0XFx0bWFyZ2luLWJvdHRvbTogMjBweDtcXHJcXG5cXHRcXHRtYXJnaW4tbGVmdDogLTMwcHg7XFxyXFxuXFx0fVxcclxcblxcdC5sYWJlbC1zZWxlY3QtbWFzayAubGFiZWwtbGlzdCAubGFiZWwtc2VsZWN0LWl0ZW17XFxyXFxuXFx0XFx0bWFyZ2luLWxlZnQ6IDMwcHg7XFxyXFxuXFx0XFx0bWFyZ2luLWJvdHRvbTogMTBweDtcXHJcXG5cXHR9XFxyXFxuXFx0LnBvcHVwLW1hc2stYm94IC5wb3B1cC1jb250ZW50IC5wb3B1cC1pbmZvIGgyLnBvcHVwLXRpdGxlIC5pY29uLWNsb3NlLW1hc2t7XFxyXFxuXFx0XFx0bWFyZ2luLXJpZ2h0OiAxNXB4O1xcdFxcclxcblxcdFxcdHBhZGRpbmc6IDVweDtcXHJcXG5cXHR9XFxyXFxuXFx0LmxhYmVsLXNlbGVjdC1tYXNrIC5hZGQtbGFiZWx7XFxyXFxuXFx0XFx0bWFyZ2luLWJvdHRvbTogMjBweDtcXHJcXG5cXHR9XFxyXFxuXFx0LmxhYmVsLXNlbGVjdC1ib3ggLmxhYmVsLWxpc3R7XFxyXFxuXFx0XFx0bWFyZ2luLWxlZnQ6IC0zMHB4O1xcclxcblxcdH1cXHJcXG5cXHQubGFiZWwtc2VsZWN0LWJveCAubGFiZWwtbGlzdCBsaXtcXHJcXG5cXHRcXHRtYXJnaW4tYm90dG9tOiAxMHB4O1xcclxcblxcdFxcdG1hcmdpbi1sZWZ0OiAzMHB4O1xcclxcblxcdH1cXHJcXG59XFxyXFxuXFxyXFxuLmxhYmVsLXNlbGVjdC1tYXNrIC5sYWJlbC1saXN0e1xcclxcblxcdG92ZXJmbG93OiBoaWRkZW47XFxyXFxuXFx0cGFkZGluZy10b3A6IDRweDtcXHJcXG59XFxyXFxuXFxyXFxuLmxhYmVsLXNlbGVjdC1tYXNrIC5sYWJlbC1saXN0IC5sYWJlbC1zZWxlY3QtaXRlbXtcXHJcXG5cXHRmbG9hdDogbGVmdDtcXHJcXG5cXHRmb250LXNpemU6IDE0cHg7XFxyXFxuXFx0bGluZS1oZWlnaHQ6IDE2cHg7XFxyXFxuXFx0Ym9yZGVyLXJhZGl1czogNHB4O1xcclxcblxcdHBhZGRpbmc6IDVweDtcXHJcXG59XFxyXFxuXFxyXFxuLmxhYmVsLXNlbGVjdC1tYXNrIC5sYWJlbC1saXN0IC5sYWJlbC1zZWxlY3QtaXRlbSAubGFiZWwtcmVtb3Zle1xcclxcblxcdGN1cnNvcjogcG9pbnRlcjtcXHJcXG59XFxyXFxuXFxyXFxuLmxhYmVsLXNlbGVjdC1tYXNrIC5sYWJlbC1saXN0IC5sYWJlbC1zZWxlY3QtaXRlbSBsYWJlbCBpbnB1dFt0eXBlPVxcXCJjaGVja2JveFxcXCJde1xcclxcblxcdG1hcmdpbi1yaWdodDogNXB4O1xcclxcblxcdHdpZHRoOiAxOHB4O1xcclxcblxcdGhlaWdodDogMThweDtcXHJcXG5cXHRkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxyXFxufVxcclxcblxcclxcbi5sYWJlbC1zZWxlY3QtbWFzayAubGFiZWwtbGlzdCAubGFiZWwtc2VsZWN0LWl0ZW0gbGFiZWwgaW5wdXRbdHlwZT1cXFwiY2hlY2tib3hcXFwiXSxcXHJcXG4ubGFiZWwtc2VsZWN0LW1hc2sgLmxhYmVsLWxpc3QgLmxhYmVsLXNlbGVjdC1pdGVtIGxhYmVsIHNwYW4sXFxyXFxuLmxhYmVsLXNlbGVjdC1tYXNrIC5sYWJlbC1saXN0IC5sYWJlbC1zZWxlY3QtaXRlbSBsYWJlbCBpbWd7XFxyXFxuXFx0dmVydGljYWwtYWxpZ246IG1pZGRsZTtcXHJcXG59XFxyXFxuXFxyXFxuLmxhYmVsLXNlbGVjdC1tYXNrIC5sYWJlbC1saXN0IC5sYWJlbC1zZWxlY3QtaXRlbSAudGl0bGV7XFxyXFxuXFx0bWFyZ2luLXJpZ2h0OiA1cHg7XFxyXFxufVxcclxcblxcclxcbml7XFxyXFxuXFx0ZGlzcGxheTogaW5saW5lLWJsb2NrO1xcclxcblxcdHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxyXFxufVxcclxcblxcclxcbmk6aG92ZXJ7XFxyXFxuXFx0Y3Vyc29yOiBwb2ludGVyOyBcXHJcXG59XFxyXFxuXFxyXFxuLmljb24tYWRke1xcclxcblxcdHdpZHRoOiAzMHB4O1xcclxcblxcdGhlaWdodDogMzBweDtcXHJcXG5cXHRiYWNrZ3JvdW5kLWNvbG9yOiAjZTVlNWU1O1xcclxcblxcdHBvc2l0aW9uOiByZWxhdGl2ZTtcXHJcXG59XFxyXFxuXFxyXFxuLmljb24tYWRkOjphZnRlciwuaWNvbi1hZGQ6OmJlZm9yZXtcXHJcXG5cXHRjb250ZW50OiBcXFwiXFxcIjtcXHJcXG5cXHRkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxyXFxuXFx0YmFja2dyb3VuZC1jb2xvcjogIzk5OTk5OTtcXHJcXG5cXHRwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuXFx0bGVmdDogNTAlO1xcclxcblxcdHRvcDogNTAlO1xcclxcblxcdHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsLTUwJSk7XFxyXFxufVxcclxcblxcclxcbi5pY29uLWFkZDo6YWZ0ZXJ7XFxyXFxuXFx0d2lkdGg6IDIwcHg7XFxyXFxuXFx0aGVpZ2h0OiA0cHg7XFxyXFxufVxcclxcblxcclxcbi5pY29uLWFkZDo6YmVmb3Jle1xcclxcblxcdHdpZHRoOiA0cHg7XFxyXFxuXFx0aGVpZ2h0OiAyMHB4O1xcclxcbn1cXHJcXG5cXHJcXG4uaWNvbi1jbG9zZXtcXHJcXG5cXHR3aWR0aDogMTVweDtcXHJcXG5cXHRoZWlnaHQ6IDE1cHg7XFxyXFxuXFx0Ym9yZGVyOiAxcHggc29saWQgIzQ0NDQ0NDtcXHJcXG5cXHRib3JkZXItcmFkaXVzOiA1MCU7XFxyXFxuXFx0cG9zaXRpb246IHJlbGF0aXZlO1xcclxcblxcdHRyYW5zZm9ybTogcm90YXRlWig0NWRlZyk7XFxyXFxufVxcclxcblxcclxcbi5pY29uLWNsb3NlOjphZnRlciwuaWNvbi1jbG9zZTo6YmVmb3Jle1xcclxcblxcdGNvbnRlbnQ6IFxcXCJcXFwiO1xcclxcblxcdGRpc3BsYXk6IGlubGluZS1ibG9jaztcXHJcXG5cXHRwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuXFx0bGVmdDogNTAlO1xcclxcblxcdHRvcDogNTAlO1xcclxcblxcdHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsLTUwJSk7XFxyXFxuXFx0YmFja2dyb3VuZC1jb2xvcjogIzQ0NDQ0NDtcXHJcXG59XFxyXFxuXFxyXFxuLmljb24tY2xvc2U6OmFmdGVye1xcclxcblxcdHdpZHRoOiAxMHB4O1xcclxcblxcdGhlaWdodDogMXB4O1xcclxcbn1cXHJcXG5cXHJcXG4uaWNvbi1jbG9zZTo6YmVmb3Jle1xcclxcblxcdHdpZHRoOiAxcHg7XFxyXFxuXFx0aGVpZ2h0OiAxMHB4O1xcclxcbn1cXHJcXG5cXHJcXG5pbnB1dFt0eXBlPXRleHRde1xcclxcblxcdGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxyXFxuICAgIGhlaWdodDogNDVweDtcXHJcXG4gICAgbGluZS1oZWlnaHQ6IDQ1cHg7XFxyXFxuICAgIGNvbG9yOiAjNjY2O1xcclxcbiAgICBmb250LXNpemU6IDE0cHg7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNlZWVlZWU7XFxyXFxuICAgIGJvcmRlcjogbm9uZTtcXHJcXG4gICAgb3V0bGluZTogbm9uZTtcXHJcXG4gICAgcGFkZGluZzogMCAyMHB4O1xcclxcbn1cXHJcXG5cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL19jc3MtbG9hZGVyQDAuMjguMTFAY3NzLWxvYWRlci9pbmRleC5qcyEuL2xhYmVsLXNlbGVjdC5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uL25vZGVfbW9kdWxlcy9fc3R5bGUtbG9hZGVyQDAuMjAuM0BzdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uL25vZGVfbW9kdWxlcy9fY3NzLWxvYWRlckAwLjI4LjExQGNzcy1sb2FkZXIvaW5kZXguanMhLi9sYWJlbC1zZWxlY3QuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL19jc3MtbG9hZGVyQDAuMjguMTFAY3NzLWxvYWRlci9pbmRleC5qcyEuL2xhYmVsLXNlbGVjdC5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJyZXF1aXJlKCcuL2xhYmVsLXNlbGVjdC5jc3MnKTtcclxucmVxdWlyZSgnLi9saWIvcG9wdXAvY3NzL3BvcHVwLmNzcycpO1xyXG5yZXF1aXJlKCcuL2xpYi9wb3B1cC9qcy9wb3B1cC5qcycpO1xyXG5yZXF1aXJlKCcuL2xpYi9xLmpzJyk7XHJcblxyXG5mdW5jdGlvbiBsYWJlbFNlbGVjdChjb25mT2JqKXtcclxuXHR0aGlzLmxhYmVsSXRlbVN0ciA9ICcnO1xyXG5cdHRoaXMubGFiZWxMaXN0SXRlbVN0ciA9ICcnO1xyXG5cdHRoaXMudXJsID0gY29uZk9iai51cmw7XHJcblx0dGhpcy5hZGRVcmwgPSBjb25mT2JqLmFkZFVybDtcclxuXHR0aGlzLnJlbW92ZVVybCA9IGNvbmZPYmoucmVtb3ZlVXJsO1xyXG5cdHRoaXMucmVxRGF0YSA9IGNvbmZPYmoucmVxRGF0YTtcclxuXHR0aGlzLmFkZERhdGEgPSBjb25mT2JqLmFkZERhdGF8fHt9O1xyXG5cdHRoaXMucmVtb3ZlRGF0YSA9IGNvbmZPYmoucmVtb3ZlRGF0YXx8e307XHJcblx0dGhpcy5yZXMgPSBudWxsO1xyXG5cdHRoaXMuc2VsZWN0ZWRMYWJlbHMgPSBbXTtcclxuXHR0aGlzLmZpZWxkID0gY29uZk9iai5maWVsZDtcclxuXHR0aGlzLnRpcHMgPSBjb25mT2JqLnRpcHN8fCcnO1xyXG5cdHRoaXMudmFsdWUgPSBjb25mT2JqLnZhbHVlO1xyXG5cdHRoaXMuaGFzaCA9IE1hdGguY2VpbChuZXcgRGF0ZSgpLmdldFRpbWUoKSAqIE1hdGgucmFuZG9tKCkgKiBNYXRoLnJhbmRvbSgpKTtcclxuXHJcblx0dGhpcy4kZWwgPSAkKGNvbmZPYmouZWwpO1xyXG5cdHRoaXMuJGJvZHkgPSAkKCdib2R5Jyk7XHJcblx0dGhpcy4kc2VsZWN0TW9yZSA9IG51bGw7XHJcblx0dGhpcy4kaWNvbkNsb3NlTWFzayA9IG51bGw7XHJcblx0dGhpcy4kbWFza0JveCA9IG51bGw7XHJcblx0dGhpcy4kbGFiZWxMaXN0ID0gbnVsbDtcclxuXHR0aGlzLiRsYWJlbFNlbGVjdGVkID0gbnVsbDtcclxuXHJcblx0dGhpcy5pbml0KCk7XHJcbn1cclxuXHJcbmxhYmVsU2VsZWN0LnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCl7XHJcblx0dmFyIHRoYXQgPSB0aGlzO1xyXG5cdHRoaXMuJGVsLmFkZENsYXNzKCdzZWxlY3QtbGFiZWwtJyArIHRoaXMuaGFzaCk7XHJcblx0dGhpcy4kZWwgPSAkKCcuc2VsZWN0LWxhYmVsLScgKyB0aGlzLmhhc2gpO1xyXG5cclxuXHR0aGlzLmdldERhdGEodGhpcy51cmwsdGhpcy5yZXFEYXRhKVxyXG5cdC50aGVuKGZ1bmN0aW9uICgpe1xyXG5cdFx0dGhhdC5pbml0RG9tKCk7XHJcblx0fSlcclxuXHQudGhlbihmdW5jdGlvbiAoKXtcclxuXHRcdHRoYXQuaW5pdFZhcigpO1xyXG5cdH0pLnRoZW4oZnVuY3Rpb24gKCl7XHJcblx0XHR0aGF0LmluaXRFdmVudCgpO1xyXG5cdFx0dGhhdC5pbml0TW9kYWwoKTtcclxuXHR9KS50aGVuKGZ1bmN0aW9uICgpe1xyXG5cdFx0dGhhdC5pbml0U2VsZWN0ZWQoKTtcclxuXHRcdHRoYXQuZ2V0U2VsZWN0ZWRTdHIoKTtcclxuXHRcdHRoYXQuYXBwZW5kU2VsZWN0ZWRMYWJlbCgpO1xyXG5cdH0pO1xyXG59XHJcblxyXG5sYWJlbFNlbGVjdC5wcm90b3R5cGUuaW5pdFZhciA9IGZ1bmN0aW9uICgpe1xyXG5cdHRoaXMuJHNlbGVjdE1vcmUgPSB0aGlzLiRlbC5maW5kKCcuc2VsZWN0LW1vcmUnKTtcclxuXHR0aGlzLiRtYXNrQm94ID0gJCgnI2xhYmVsLXNlbGVjdC1tYXNrLScgKyB0aGlzLmhhc2gpO1xyXG5cdHRoaXMuJGljb25DbG9zZU1hc2sgPSB0aGlzLiRtYXNrQm94LmZpbmQoJy5pY29uLWNsb3NlLW1hc2snKTtcclxuXHR0aGlzLiRsYWJlbExpc3QgPSB0aGlzLiRlbC5maW5kKCcjbGFiZWwtbGlzdC0nICsgdGhpcy5oYXNoKTtcclxuXHR0aGlzLiRsYWJlbFNlbGVjdGVkID0gdGhpcy4kZWwuZmluZCgnI2xhYmVsLXNlbGVjdGVkLScgKyB0aGlzLmhhc2gpO1xyXG59XHJcblxyXG5sYWJlbFNlbGVjdC5wcm90b3R5cGUuaW5pdEV2ZW50ID0gZnVuY3Rpb24oKXtcclxuXHR2YXIgdGhhdCA9IHRoaXM7XHJcblxyXG5cdHRoaXMuJGljb25DbG9zZU1hc2sub24oJ2NsaWNrJyxmdW5jdGlvbiAoKXtcclxuXHRcdHRoYXQuY2xvc2VNb2RhbCgpO1xyXG5cdH0pO1xyXG4gICAgdGhpcy4kc2VsZWN0TW9yZS5vbignY2xpY2snLGZ1bmN0aW9uICgpe1xyXG4gICAgXHR0aGF0LnNob3dNb2RhbCgpO1xyXG4gICAgfSk7XHJcblxyXG5cdHRoaXMuJGJvZHkub24oJ2NsaWNrJywnI2xhYmVsLXNlbGVjdC1tYXNrLScgKyB0aGlzLmhhc2ggKyAnIC5idG4tYWRkLWxhYmVsJyxmdW5jdGlvbigpe1xyXG4gICAgXHR0aGF0LmFkZExhYmVsKClcclxuICAgIFx0LnRoZW4oZnVuY3Rpb24gKHJlcyl7XHJcbiAgICBcdFx0dmFyIHJlbmRlclN0ciA9IHRoYXQuZ2V0UmVuZGVyU3RyKHJlcyk7XHJcblx0XHRcdHRoYXQuJG1hc2tCb3guZmluZCgnLmxhYmVsLWxpc3QnKS5hcHBlbmQocmVuZGVyU3RyKTtcclxuXHRcdH0pLmNhdGNoKGZ1bmN0aW9uICh4aHIpe1xyXG5cdFx0XHRhbGVydCgn5re75Yqg5aSx6LSlJyk7XHJcblx0XHR9KTtcclxuICAgIH0pO1xyXG5cclxuXHR0aGlzLiRib2R5Lm9uKCdjbGljaycsJyNsYWJlbC1zZWxlY3QtbWFzay0nICsgdGhpcy5oYXNoICsgJyAubGFiZWwtcmVtb3ZlJyxmdW5jdGlvbigpe1xyXG5cdFx0dmFyICR0aGlzID0gJCh0aGlzKTtcclxuXHRcdHZhciBpZCA9ICR0aGlzLmRhdGEoJ2lkJyk7XHJcblxyXG4gICAgXHR0aGF0LnJlbW92ZUxhYmVsKGlkKVxyXG4gICAgXHQudGhlbihmdW5jdGlvbiAoKXtcclxuICAgIFx0XHQkdGhpcy5wYXJlbnQoKS5mYWRlT3V0KDIwMCxmdW5jdGlvbiAoKXtcclxuXHRcdFx0XHQkdGhpcy5wYXJlbnQoKS5yZW1vdmUoKTtcclxuXHRcdFx0fSk7XHJcbiAgICBcdH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5yZW1vdmVMYWJlbEl0ZW0oKTtcclxufVxyXG5cclxubGFiZWxTZWxlY3QucHJvdG90eXBlLmluaXREb20gPSBmdW5jdGlvbiAoKXtcclxuXHRpZighJCgnLnBvcHVwLW1hc2snKS5sZW5ndGgpe1xyXG5cdFx0dGhpcy4kYm9keS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJwb3B1cC1tYXNrIGhpZGRlblwiPjwvZGl2PicpO1xyXG5cdH1cclxuXHJcblx0dmFyIGluaXRTdHIgPSAnPGRpdiBjbGFzcz1cImxhYmVsLXNlbGVjdC1ib3hcIj4nK1xyXG5cdCAgICAgICAgXHQnPHVsIGNsYXNzPVwibGFiZWwtbGlzdFwiIGlkPVwibGFiZWwtbGlzdC0nICsgdGhpcy5oYXNoICsgJ1wiPicgK1xyXG5cdFx0ICAgICAgICAnPC91bD4nICtcclxuXHRcdCAgICAgICAgJzxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgdmFsdWU9XCInKyB0aGlzLnZhbHVlICsnXCIgbmFtZT0nICsgdGhpcy5maWVsZCArICcgaWQ9XCJsYWJlbC1zZWxlY3RlZC0nKyB0aGlzLmhhc2ggKydcIj4nICtcclxuXHRcdCAgICAgICAgJzxkaXYgY2xhc3M9XCJ0aXBzLXdyYXBcIj4nKyBcclxuXHRcdCAgICAgICAgXHQnPGkgY2xhc3M9XCJzZWxlY3QtbW9yZSBpY29uLWFkZFwiPjwvaT48c3BhbiBjbGFzcz1cImxhYmVsLXRpcHNcIj4nICsgdGhpcy50aXBzICsgJzwvc3Bhbj4nXHJcblx0XHQgICAgICAgICc8L2Rpdj4nICtcclxuXHRcdCAgICAnPC9kaXY+JztcclxuXHJcbiAgICB2YXIgaW5pdE1hc2tTdHIgPSAnPGRpdiBjbGFzcz1cInBvcHVwLW1hc2stYm94IGxhYmVsLXNlbGVjdC1tYXNrIGhpZGRlblwiIGlkPVwibGFiZWwtc2VsZWN0LW1hc2stJysgdGhpcy5oYXNoICsnXCI+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJwb3B1cC1jb250ZW50XCI+JyArXHJcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwicG9wdXAtaW5mb1wiPicgK1xyXG4gICAgICAgICAgICAgICAgJzxoMiBjbGFzcz1cInBvcHVwLXRpdGxlXCI+ICcgK1xyXG4gICAgICAgICAgICAgICAgICAnPHNwYW4+5re75Yqg5qCH562+PC9zcGFuPicgK1xyXG4gICAgICAgICAgICAgICAgICAnPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiIGNsYXNzPVwiaWNvbi1jbG9zZS1tYXNrXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxpIGNsYXNzPVwiaWNvbi1jbG9zZSBwb3B1cC1jbG9zZVwiPjwvaT4nICtcclxuICAgICAgICAgICAgICAgICAgJzwvYT4nICtcclxuICAgICAgICAgICAgICAgICc8L2gyPicgK1xyXG4gICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJwb3B1cC13cmFwcGVyXCI+JyArXHJcbiAgICAgICAgICAgICAgICBcdCc8Zm9ybSBjbGFzcz1cImFkZC1sYWJlbCB0ZXh0LWNlbnRlclwiIGFjdGlvbj1cIlwiIG1ldGhvZD1cImdldFwiPicrXHJcbiAgICAgICAgICAgICAgICBcdFx0JzxkaXYgY2xhc3M9XCJmb3JtLWxhYmVsXCI+JytcclxuICAgICAgICAgICAgICAgIFx0XHRcdCc8ZGl2IGNsYXNzPVwiaW5wdXQtd3JhcFwiPicrXHJcbiAgICAgICAgICAgICAgICBcdFx0XHRcdCc8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwic2VsZWN0LWxhYmVsXCIgcGxhY2Vob2xkZXI9XCLmlrDlop7moIfnrb5cIiBjbGFzcz1cInNlbGVjdC1sYWJlbFwiPicgK1xyXG4gICAgICAgICAgICAgICAgXHRcdFx0JzwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgXHRcdFx0JzxkaXYgY2xhc3M9XCJidG4td3JhcFwiPicrXHJcbiAgICAgICAgICAgICAgICBcdFx0XHRcdCc8YnV0dG9uIGNsYXNzPVwiYnV0dG9uLXJlZCBidG4tYWRkLWxhYmVsXCIgdHlwZT1cImJ1dHRvblwiPuaWsOWinjwvYnV0dG9uPicgK1xyXG4gICAgICAgICAgICAgICAgXHRcdFx0JzwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgXHRcdCc8L2Rpdj4nK1xyXG4gICAgICAgICAgICAgICAgXHQnPC9mb3JtPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8dWwgY2xhc3M9XCJsYWJlbC1saXN0XCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzwvdWw+JyArXHJcbiAgICAgICAgICAgICAgICAnPC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInRleHQtY2VudGVyIHB0MTUgcG9wb3AtZm9vdGVyXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnV0dG9uLXJlZCBidG4tc20gc2VsZWN0LWxhYmVsLWNvbmZpcm0gaWNvbi1jbG9zZS1tYXNrXCI+56Gu5a6aPC9idXR0b24+JyArXHJcbiAgICAgICAgICAgICAgICAnPC9kaXY+JyArXHJcbiAgICAgICAgICAgICc8L2Rpdj4nICtcclxuICAgICAgICAnPC9kaXY+JyArXHJcbiAgICAnPC9kaXY+JztcclxuXHJcbiAgICByZXR1cm4gUS5hbGwoW1xyXG4gICAgXHR0aGlzLiRlbC5hcHBlbmQoaW5pdFN0ciksXHJcbiAgICBcdHRoaXMuJGJvZHkuYXBwZW5kKGluaXRNYXNrU3RyKSxcclxuICAgIFx0XSk7XHJcbn1cclxuXHJcbmxhYmVsU2VsZWN0LnByb3RvdHlwZS5pbml0U2VsZWN0ZWQgPSBmdW5jdGlvbigpe1xyXG5cdHZhciB0aGF0ID0gdGhpcztcclxuXHR2YXIgdmFsQXJyID0gJC50cmltKHRoaXMuJGxhYmVsU2VsZWN0ZWQuYXR0cigndmFsdWUnKSkuc3BsaXQoJywnKTtcclxuXHJcblx0dGhpcy5zZWxlY3RlZExhYmVscyA9IFtdO1xyXG5cdHRoaXMucmVzLmZvckVhY2goZnVuY3Rpb24gKHYpe1xyXG5cdFx0dmFsQXJyLmZvckVhY2goZnVuY3Rpb24gKHZhbCl7XHJcblx0XHRcdGlmKHYuaWQgPT0gdmFsKXtcclxuXHRcdFx0XHR0aGF0LnNlbGVjdGVkTGFiZWxzLnB1c2godik7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH0pO1xyXG59XHJcblxyXG5sYWJlbFNlbGVjdC5wcm90b3R5cGUuYXBwZW5kU2VsZWN0ZWRMYWJlbCA9IGZ1bmN0aW9uKCl7XHJcblx0dGhpcy4kbGFiZWxMaXN0Lmh0bWwodGhpcy5sYWJlbExpc3RJdGVtU3RyKTtcclxufVxyXG5cclxubGFiZWxTZWxlY3QucHJvdG90eXBlLmdldFNlbGVjdGVkU3RyID0gZnVuY3Rpb24oKXtcclxuXHR2YXIgdGhhdCA9IHRoaXM7XHJcblx0dGhhdC5sYWJlbExpc3RJdGVtU3RyID0gJyc7XHJcblx0dGhpcy5zZWxlY3RlZExhYmVscy5mb3JFYWNoKGZ1bmN0aW9uICh2KXtcclxuXHRcdHRoYXQubGFiZWxMaXN0SXRlbVN0ciArPSAnPGxpIGRhdGEtaWQ9Jysgdi5pZCArJz4nK1xyXG5cdFx0XHRcdFx0XHQgICAgICAgIFx0JzxzcGFuIGNsYXNzPVwidGl0bGVcIj4nICsgdi5uYW1lICsgJzwvc3Bhbj4nK1xyXG5cdFx0XHRcdFx0XHQgICAgICAgIFx0JzxpIGNsYXNzPVwibGFiZWwtZGVsdGUgaWNvbi1jbG9zZVwiIGRhdGEtaWQ9XCInKyB2LmlkICsnXCI+PC9pPicrXHJcblx0XHRcdFx0XHRcdCAgICAgICAgJzwvbGk+JztcclxuXHR9KTtcclxufVxyXG5cclxubGFiZWxTZWxlY3QucHJvdG90eXBlLmdldFNlbGVjdGVkTGFiZWwgPSBmdW5jdGlvbiAoKXtcclxuXHR2YXIgdGhhdCA9IHRoaXM7XHJcblx0dGhpcy5zZWxlY3RlZExhYmVscyA9IFtdO1xyXG5cdHRoaXMuJG1hc2tCb3guZmluZCgnLmxhYmVsLWxpc3QnKS5maW5kKCcubGFiZWwtc2VsZWN0JykuZWFjaChmdW5jdGlvbiAoKXtcclxuXHRcdHZhciAkdGhpcyA9ICQodGhpcyk7XHJcblx0XHR2YXIgaXNDaGVja2VkID0gJHRoaXMucHJvcCgnY2hlY2tlZCcpO1xyXG5cdFx0aWYoaXNDaGVja2VkKXtcclxuXHRcdFx0dGhhdC5zZWxlY3RlZExhYmVscy5wdXNoKHtcclxuXHRcdFx0XHRpZDogJHRoaXMuZGF0YSgnaWQnKSxcclxuXHRcdFx0XHRuYW1lOiAkdGhpcy5kYXRhKCduYW1lJyksXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG59XHJcblxyXG5sYWJlbFNlbGVjdC5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRJZHMgPSBmdW5jdGlvbiAoKXtcclxuXHR2YXIgaWRzID0gW107XHJcblx0dGhpcy5zZWxlY3RlZExhYmVscy5tYXAoZnVuY3Rpb24gKHYpe1xyXG5cdFx0aWRzLnB1c2godi5pZCk7XHJcblx0fSk7XHJcblx0cmV0dXJuIGlkcztcclxufVxyXG5cclxubGFiZWxTZWxlY3QucHJvdG90eXBlLnVwZGF0ZVNlbGVjdERhdGEgPSBmdW5jdGlvbiAoKXtcclxuXHR2YXIgaWRzID0gdGhpcy5nZXRTZWxlY3RlZElkcyh0aGlzLnNlbGVjdGVkTGFiZWxzKTtcclxuXHR0aGlzLiRsYWJlbFNlbGVjdGVkLmF0dHIoJ3ZhbHVlJyxpZHMuam9pbignLCcpKTtcclxufVxyXG5cclxubGFiZWxTZWxlY3QucHJvdG90eXBlLnNob3dNb2RhbCA9IGZ1bmN0aW9uICgpe1xyXG5cdHZhciB0aGF0ID0gdGhpcztcclxuXHR2YXIgaWRzID0gdGhpcy5nZXRTZWxlY3RlZElkcyh0aGlzLnNlbGVjdGVkTGFiZWxzKTtcclxuXHR0aGlzLiRtYXNrQm94LnBvcHVwKCdzaG93Jyx7XHJcblx0XHRvblNob3dCZWZvcmU6IGZ1bmN0aW9uICgpe1xyXG5cdFx0XHR0aGF0LiRtYXNrQm94XHJcblx0XHRcdC5maW5kKCcubGFiZWwtbGlzdCcpXHJcblx0XHRcdC5maW5kKCcubGFiZWwtc2VsZWN0JylcclxuXHRcdFx0LnByb3Aoe2NoZWNrZWQ6IGZhbHNlfSlcclxuXHRcdFx0LmVhY2goZnVuY3Rpb24gKCl7XHJcblx0XHRcdFx0dmFyICR0aGlzID0gJCh0aGlzKTtcclxuXHRcdFx0XHRpZihpZHMuaW5kZXhPZigkdGhpcy5kYXRhKCdpZCcpKSA+IC0xKXtcclxuXHRcdFx0XHRcdCR0aGlzLnByb3Aoe2NoZWNrZWQ6IHRydWV9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG59XHJcblxyXG5sYWJlbFNlbGVjdC5wcm90b3R5cGUuY2xvc2VNb2RhbD0gZnVuY3Rpb24gKCl7XHJcblx0dmFyIHRoYXQgPSB0aGlzO1xyXG4gICAgdGhpcy4kbWFza0JveC5wb3B1cCgnaGlkZScse1xyXG4gICAgXHRvbkNsb3NlQmVmb3JlOiBmdW5jdGlvbiAoKXtcclxuICAgIFx0XHR0aGF0LmdldFNlbGVjdGVkTGFiZWwoKTtcclxuICAgIFx0XHR0aGF0LnVwZGF0ZVNlbGVjdERhdGEoKTtcclxuICAgIFx0XHR0aGF0LmdldFNlbGVjdGVkU3RyKCk7XHJcbiAgICBcdFx0dGhhdC5hcHBlbmRTZWxlY3RlZExhYmVsKCk7XHJcbiAgICBcdFx0aWYodGhhdC4kbWFza0JveC5hdHRyKCdpZCcpICE9ICdsYWJlbC1zZWxlY3QtbWFzay0nICsgdGhhdC5oYXNoKXtcclxuICAgIFx0XHRcdHJldHVybiBmYWxzZTtcclxuICAgIFx0XHR9XHJcbiAgICBcdH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5sYWJlbFNlbGVjdC5wcm90b3R5cGUucmVtb3ZlTGFiZWxJdGVtID0gZnVuY3Rpb24oKXtcclxuXHR2YXIgdGhhdCA9IHRoaXM7XHJcblxyXG5cdHRoaXMuJGJvZHkub24oJ2NsaWNrJywnI2xhYmVsLWxpc3QtJyArIHRoaXMuaGFzaCArICcgLmxhYmVsLWRlbHRlJyxmdW5jdGlvbiAoKXtcclxuXHRcdHZhciAkdGhpcyA9ICQodGhpcyk7XHJcblx0XHR2YXIgcmVtb3ZlSWQgPSAkdGhpcy5kYXRhKCdpZCcpO1xyXG5cdFx0JHRoaXMucGFyZW50KCkuZmFkZU91dCgyMDApO1xyXG5cdFx0dGhhdC5zZWxlY3RlZExhYmVscyA9IHRoYXQuc2VsZWN0ZWRMYWJlbHMuZmlsdGVyKGZ1bmN0aW9uICh2KXtcclxuXHRcdFx0cmV0dXJuIHYuaWQgIT0gcmVtb3ZlSWQ7XHJcblx0XHR9KTtcclxuXHRcdHRoYXQudXBkYXRlU2VsZWN0RGF0YSh0aGF0LnNlbGVjdGVkTGFiZWxzKTtcclxuXHR9KTtcclxufVxyXG5cclxubGFiZWxTZWxlY3QucHJvdG90eXBlLmluaXRNb2RhbCA9IGZ1bmN0aW9uICgpe1xyXG5cdHZhciB0aGF0ID0gdGhpcztcclxuXHJcblx0dmFyIHJlbmRlclN0ciA9IHRoaXMuZ2V0UmVuZGVyU3RyKHRoaXMucmVzKTtcclxuXHR0aGlzLiRtYXNrQm94LmZpbmQoJy5sYWJlbC1saXN0JykuaHRtbChyZW5kZXJTdHIpO1xyXG59XHJcblxyXG5sYWJlbFNlbGVjdC5wcm90b3R5cGUuZ2V0RGF0YSA9IGZ1bmN0aW9uICgpe1xyXG5cdHZhciB0aGF0ID0gdGhpcztcclxuXHRyZXR1cm4gZ2V0KHRoaXMudXJsLHRoaXMucmVxRGF0YSlcclxuICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpe1xyXG4gICAgXHR0aGF0LnJlcyA9IHJlcztcclxuXHRcdHJldHVybiByZXM7XHJcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoeGhyKXtcclxuICAgIFx0YWxlcnQoJ+iOt+WPluagh+etvuWksei0pe+8gScpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmxhYmVsU2VsZWN0LnByb3RvdHlwZS5nZXRSZW5kZXJTdHIgPSBmdW5jdGlvbiAocmVzKXtcclxuXHR2YXIgdGhhdCA9IHRoaXM7XHJcblx0dGhhdC5sYWJlbEl0ZW1TdHIgPSAnJztcclxuXHR2YXIgZGF0YUFyciA9IG51bGw7XHJcblxyXG5cdC8v5paw5aKe55qE5pe25YCZ6L+U5Zue5a+56LGh77yM5ZCm5YiZ6L+U5Zue5pWw57uEXHJcblx0aWYoISQuaXNBcnJheShyZXMpKXtcclxuXHRcdGRhdGFBcnIgPSBbcmVzXTtcclxuXHR9ZWxzZXtcclxuXHRcdGRhdGFBcnIgPSByZXM7XHJcblx0fVxyXG5cdGRhdGFBcnIuZm9yRWFjaChmdW5jdGlvbiAodil7XHJcbiAgICBcdHRoYXQubGFiZWxJdGVtU3RyICs9ICc8bGkgY2xhc3M9XCJsYWJlbC1zZWxlY3QtaXRlbVwiIGRhdGEtaWQ9Jysgdi5pZCArJz4nK1xyXG4gICAgICAgICAgICAgICAgICAgICc8bGFiZWw+JyArIFxyXG4gICAgICAgICAgICAgICAgICAgICAgJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cImxhYmVsLXNlbGVjdFwiIGRhdGEtaWQ9Jysgdi5pZCArJyBkYXRhLW5hbWU9Jysgdi5uYW1lICsnPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwidGl0bGVcIj4nKyB2Lm5hbWUgKyc8L3NwYW4+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzwvbGFiZWw+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxpIGNsYXNzPVwibGFiZWwtcmVtb3ZlIGljb24tY2xvc2VcIiB0aXRsZT1cIuawuOS5heWIoOmZpO+8n1wiIGRhdGEtaWQ9XCInKyB2LmlkICsnXCIgYWx0PVwiXCI+PC9pPicrXHJcbiAgICAgICAgICAgICAgICAgICc8L2xpPic7XHJcblx0fSk7XHJcblx0cmV0dXJuIHRoaXMubGFiZWxJdGVtU3RyO1xyXG59IFxyXG5cclxubGFiZWxTZWxlY3QucHJvdG90eXBlLmFkZExhYmVsID0gZnVuY3Rpb24gKCl7XHJcblx0cmV0dXJuIGdldCh0aGlzLmFkZFVybCx0aGlzLmFkZERhdGEpO1xyXG59XHJcblxyXG5sYWJlbFNlbGVjdC5wcm90b3R5cGUucmVtb3ZlTGFiZWwgPSBmdW5jdGlvbiAoaWQpe1xyXG5cdHRoaXMucmVtb3ZlRGF0YS5pZCA9IGlkO1xyXG5cdHJldHVybiBnZXQodGhpcy5yZW1vdmVVcmwsdGhpcy5yZW1vdmVEYXRhKTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcblx0bGFiZWxTZWxlY3Q6IGxhYmVsU2VsZWN0XHJcbn07XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIGFqYXgodXJsLGRhdGEsdHlwZSl7XHJcblx0dmFyIHR5cGUgPSB0eXBlfHwnZ2V0JztcclxuXHR2YXIgdXJsID0gdXJsfHwnJztcclxuXHR2YXIgZGF0YSA9IGRhdGF8fHt9O1xyXG5cclxuICAgIHZhciBkZWZlciA9IFEuZGVmZXIoKTtcclxuXHJcblx0JC5hamF4KHtcclxuICAgIFx0dHlwZTogdHlwZSxcclxuICAgIFx0dXJsOiB1cmwsXHJcbiAgICBcdGRhdGE6IGRhdGEsXHJcbiAgICBcdHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXMpe1xyXG4gICAgXHRcdGRlZmVyLnJlc29sdmUocmVzKTtcclxuICAgIFx0fSxcclxuICAgIFx0ZXJyb3I6IGZ1bmN0aW9uICh4aHIsbSxzKXtcclxuICAgIFx0XHRkZWZlci5yZWplY3QoeGhyLG0scyk7XHJcbiAgICBcdH0sXHJcbiAgICB9KTtcclxuICAgIHJldHVybiBkZWZlci5wcm9taXNlO1xyXG59XHJcbmZ1bmN0aW9uIGdldCh1cmwsZGF0YSl7XHJcblx0cmV0dXJuIGFqYXgodXJsLGRhdGEsJ2dldCcpO1xyXG59XHJcbmZ1bmN0aW9uIHBvc3QodXJsLGRhdGEpe1xyXG5cdHJldHVybiBhamF4KHVybCxkYXRhLCdwb3N0Jyk7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9